---
title: Bio-Interface REST API
description: Mobile health app integration with Golden Thread data fusion
---

## Overview

The Bio-Interface REST API enables mobile health applications to integrate with iLuminara-Core using the **Golden Thread protocol** to fuse data streams from Community-Based Surveillance (CBS) and Electronic Medical Records (EMR).

<Card
  title="Philosophy"
  icon="mobile"
>
  "Signals are tagged as CONFIRMED only if location and time-delta match within 24 hours."
</Card>

## Architecture

```
┌─────────────────────────────────────────────────────────┐
│              MOBILE HEALTH APPS                         │
│  ┌──────────────┐  ┌──────────────┐  ┌──────────────┐ │
│  │   CHV App    │  │  Clinic App  │  │  Patient App │ │
│  │   (CBS)      │  │   (EMR)      │  │  (Self-Rep)  │ │
│  └──────┬───────┘  └──────┬───────┘  └──────┬───────┘ │
└─────────┼──────────────────┼──────────────────┼─────────┘
          │                  │                  │
          │ REST API         │ REST API         │ REST API
          ▼                  ▼                  ▼
┌─────────────────────────────────────────────────────────┐
│                 BIO-INTERFACE API                       │
│  ┌──────────────────────────────────────────────────┐  │
│  │  POST /api/v1/cbs/report                         │  │
│  │  POST /api/v1/emr/record                         │  │
│  │  POST /api/v1/patient/symptom                    │  │
│  │  GET  /api/v1/verification/{patient_id}          │  │
│  └──────────────────────────────────────────────────┘  │
└─────────────────────────────────────────────────────────┘
                         ▼
┌─────────────────────────────────────────────────────────┐
│              GOLDEN THREAD FUSION                       │
│  Merges CBS + EMR + Self-Report                         │
│  Verification Score: 0.0 - 1.0                          │
└─────────────────────────────────────────────────────────┘
                         ▼
┌─────────────────────────────────────────────────────────┐
│              SOVEREIGN GUARDRAIL                        │
│  Validates: consent, jurisdiction, data_type            │
└─────────────────────────────────────────────────────────┘
```

## API endpoints

### Base URL

```
https://api.iluminara.health/v1
```

For local development:
```
http://localhost:8080/api/v1
```

### Authentication

All requests require Bearer token authentication:

```bash
curl -H "Authorization: Bearer YOUR_API_TOKEN" \
  https://api.iluminara.health/v1/cbs/report
```

## CBS report submission

Submit Community Health Volunteer observations.

### Endpoint

```
POST /api/v1/cbs/report
```

### Request body

```json
{
  "chv_id": "CHV_AMINA_HASSAN",
  "patient_id": "PAT_12345",
  "location": {
    "lat": 0.0512,
    "lng": 40.3129,
    "name": "Dadaab Refugee Camp"
  },
  "timestamp": "2025-12-25T10:30:00Z",
  "symptoms": ["fever", "diarrhea", "vomiting"],
  "severity": 8,
  "notes": "Patient reports severe dehydration",
  "consent_token": "CONSENT_TOKEN_ABC123"
}
```

### Response

```json
{
  "status": "success",
  "report_id": "CBS_20251225_001",
  "verification_status": "PENDING",
  "message": "CBS report submitted. Awaiting EMR correlation.",
  "next_steps": [
    "Refer patient to clinic for confirmation",
    "Monitor for additional cases in area"
  ]
}
```

### Example

```python
import requests

# Submit CBS report
response = requests.post(
    'http://localhost:8080/api/v1/cbs/report',
    headers={'Authorization': 'Bearer YOUR_TOKEN'},
    json={
        'chv_id': 'CHV_AMINA_HASSAN',
        'patient_id': 'PAT_12345',
        'location': {'lat': 0.0512, 'lng': 40.3129, 'name': 'Dadaab'},
        'timestamp': '2025-12-25T10:30:00Z',
        'symptoms': ['fever', 'diarrhea', 'vomiting'],
        'severity': 8,
        'consent_token': 'CONSENT_TOKEN_ABC123'
    }
)

print(response.json())
```

## EMR record submission

Submit Electronic Medical Record from clinic or hospital.

### Endpoint

```
POST /api/v1/emr/record
```

### Request body

```json
{
  "facility_id": "DADAAB_CLINIC_001",
  "patient_id": "PAT_12345",
  "location": {
    "lat": 0.0512,
    "lng": 40.3129,
    "name": "Dadaab Refugee Camp"
  },
  "timestamp": "2025-12-25T11:00:00Z",
  "diagnosis": "cholera",
  "symptoms": ["diarrhea", "vomiting", "dehydration"],
  "lab_results": {
    "rapid_test": "positive",
    "culture": "pending"
  },
  "treatment": "ORS + IV fluids",
  "consent_token": "CONSENT_TOKEN_ABC123"
}
```

### Response

```json
{
  "status": "success",
  "record_id": "EMR_20251225_001",
  "verification_status": "CONFIRMED",
  "verification_score": 1.0,
  "message": "EMR record submitted. Correlated with CBS report CBS_20251225_001.",
  "fused_record": {
    "patient_id": "PAT_12345",
    "verification_score": 1.0,
    "cbs_report_id": "CBS_20251225_001",
    "emr_record_id": "EMR_20251225_001",
    "time_delta_minutes": 30,
    "location_match": true
  }
}
```

### Example

```python
import requests

# Submit EMR record
response = requests.post(
    'http://localhost:8080/api/v1/emr/record',
    headers={'Authorization': 'Bearer YOUR_TOKEN'},
    json={
        'facility_id': 'DADAAB_CLINIC_001',
        'patient_id': 'PAT_12345',
        'location': {'lat': 0.0512, 'lng': 40.3129, 'name': 'Dadaab'},
        'timestamp': '2025-12-25T11:00:00Z',
        'diagnosis': 'cholera',
        'symptoms': ['diarrhea', 'vomiting', 'dehydration'],
        'lab_results': {'rapid_test': 'positive'},
        'treatment': 'ORS + IV fluids',
        'consent_token': 'CONSENT_TOKEN_ABC123'
    }
)

print(response.json())
```

## Patient self-report

Submit patient self-reported symptoms.

### Endpoint

```
POST /api/v1/patient/symptom
```

### Request body

```json
{
  "patient_id": "PAT_12345",
  "location": {
    "lat": 0.0512,
    "lng": 40.3129
  },
  "timestamp": "2025-12-25T09:00:00Z",
  "symptoms": ["fever", "headache"],
  "severity": 5,
  "consent_token": "CONSENT_TOKEN_ABC123"
}
```

### Response

```json
{
  "status": "success",
  "report_id": "SELF_20251225_001",
  "verification_status": "UNVERIFIED",
  "verification_score": 0.3,
  "message": "Self-report submitted. Recommend CHV follow-up.",
  "recommendations": [
    "Contact CHV for assessment",
    "Monitor symptoms for 24 hours",
    "Seek medical attention if symptoms worsen"
  ]
}
```

## Verification status

Check verification status of a patient record.

### Endpoint

```
GET /api/v1/verification/{patient_id}
```

### Response

```json
{
  "status": "success",
  "patient_id": "PAT_12345",
  "verification_score": 1.0,
  "verification_status": "CONFIRMED",
  "data_sources": {
    "cbs": {
      "report_id": "CBS_20251225_001",
      "timestamp": "2025-12-25T10:30:00Z",
      "chv_id": "CHV_AMINA_HASSAN"
    },
    "emr": {
      "record_id": "EMR_20251225_001",
      "timestamp": "2025-12-25T11:00:00Z",
      "facility_id": "DADAAB_CLINIC_001"
    },
    "self_report": {
      "report_id": "SELF_20251225_001",
      "timestamp": "2025-12-25T09:00:00Z"
    }
  },
  "fusion_details": {
    "location_match": true,
    "time_delta_minutes": 30,
    "symptom_overlap": ["fever", "diarrhea", "vomiting"],
    "confidence": "HIGH"
  }
}
```

## Golden Thread verification logic

The Bio-Interface API uses Golden Thread verification:

```python
from edge_node.sync_protocol.golden_thread import GoldenThread

gt = GoldenThread()

# Fuse CBS and EMR data
fused = gt.fuse_data_streams(
    cbs_signal={
        'location': 'Dadaab',
        'symptom': 'fever',
        'timestamp': '2025-12-25T10:30:00Z'
    },
    emr_record={
        'location': 'Dadaab',
        'diagnosis': 'cholera',
        'timestamp': '2025-12-25T11:00:00Z'
    },
    patient_id='PAT_12345'
)

# Verification logic:
# IF location_match AND time_delta < 24h
#   THEN verification_score = 1.0 (CONFIRMED)
# ELSE
#   score degrades based on conflict severity

print(f"Verification Score: {fused.verification_score}")
# Output: 1.0 (CONFIRMED)
```

## Verification scores

| Score | Status | Description |
|-------|--------|-------------|
| 1.0 | CONFIRMED | Multiple sources agree on location and time |
| 0.7-0.9 | PROBABLE | Partial agreement with minor conflicts |
| 0.4-0.6 | POSSIBLE | Significant conflicts but plausible |
| 0.0-0.3 | UNVERIFIED | Major conflicts or single source only |

## Sovereignty compliance

All API requests enforce sovereignty constraints:

```python
from governance_kernel.vector_ledger import SovereignGuardrail

guardrail = SovereignGuardrail()

# Validate CBS report submission
guardrail.validate_action(
    action_type='Data_Transfer',
    payload={
        'data_type': 'PHI',
        'destination': 'Edge_Node',
        'processing_location': 'africa-south1',
        'consent_token': 'CONSENT_TOKEN_ABC123',
        'consent_scope': 'public_health_surveillance'
    },
    jurisdiction='KDPA_KE'
)
```

## Mobile SDK integration

### Android (Kotlin)

```kotlin
import okhttp3.*
import org.json.JSONObject

class ILuminaraClient(private val apiToken: String) {
    private val client = OkHttpClient()
    private val baseUrl = "https://api.iluminara.health/v1"
    
    fun submitCBSReport(
        chvId: String,
        patientId: String,
        location: Location,
        symptoms: List<String>,
        severity: Int,
        consentToken: String
    ): Response {
        val json = JSONObject().apply {
            put("chv_id", chvId)
            put("patient_id", patientId)
            put("location", JSONObject().apply {
                put("lat", location.latitude)
                put("lng", location.longitude)
            })
            put("timestamp", System.currentTimeMillis())
            put("symptoms", symptoms)
            put("severity", severity)
            put("consent_token", consentToken)
        }
        
        val request = Request.Builder()
            .url("$baseUrl/cbs/report")
            .header("Authorization", "Bearer $apiToken")
            .post(RequestBody.create(
                MediaType.parse("application/json"),
                json.toString()
            ))
            .build()
        
        return client.newCall(request).execute()
    }
}
```

### iOS (Swift)

```swift
import Foundation

class ILuminaraClient {
    private let apiToken: String
    private let baseURL = "https://api.iluminara.health/v1"
    
    init(apiToken: String) {
        self.apiToken = apiToken
    }
    
    func submitCBSReport(
        chvId: String,
        patientId: String,
        location: CLLocation,
        symptoms: [String],
        severity: Int,
        consentToken: String,
        completion: @escaping (Result<Data, Error>) -> Void
    ) {
        let url = URL(string: "\(baseURL)/cbs/report")!
        var request = URLRequest(url: url)
        request.httpMethod = "POST"
        request.setValue("Bearer \(apiToken)", forHTTPHeaderField: "Authorization")
        request.setValue("application/json", forHTTPHeaderField: "Content-Type")
        
        let body: [String: Any] = [
            "chv_id": chvId,
            "patient_id": patientId,
            "location": [
                "lat": location.coordinate.latitude,
                "lng": location.coordinate.longitude
            ],
            "timestamp": ISO8601DateFormatter().string(from: Date()),
            "symptoms": symptoms,
            "severity": severity,
            "consent_token": consentToken
        ]
        
        request.httpBody = try? JSONSerialization.data(withJSONObject: body)
        
        URLSession.shared.dataTask(with: request) { data, response, error in
            if let error = error {
                completion(.failure(error))
            } else if let data = data {
                completion(.success(data))
            }
        }.resume()
    }
}
```

## Rate limiting

| Endpoint | Rate Limit | Burst |
|----------|-----------|-------|
| `/cbs/report` | 100/hour | 10/minute |
| `/emr/record` | 100/hour | 10/minute |
| `/patient/symptom` | 50/hour | 5/minute |
| `/verification/*` | 1000/hour | 100/minute |

## Error codes

| Code | HTTP Status | Description |
|------|-------------|-------------|
| `invalid_consent` | 403 | Consent token invalid or expired |
| `sovereignty_violation` | 403 | Action violates data sovereignty rules |
| `missing_location` | 400 | Location required but not provided |
| `invalid_timestamp` | 400 | Timestamp format invalid |
| `rate_limit_exceeded` | 429 | Too many requests |
| `internal_error` | 500 | Internal server error |

## Webhooks

Subscribe to real-time verification events:

```json
POST /api/v1/webhooks/subscribe
{
  "url": "https://your-app.com/webhook",
  "events": ["verification.confirmed", "verification.conflict"],
  "secret": "webhook_secret_key"
}
```

### Webhook payload

```json
{
  "event": "verification.confirmed",
  "timestamp": "2025-12-25T11:00:00Z",
  "data": {
    "patient_id": "PAT_12345",
    "verification_score": 1.0,
    "cbs_report_id": "CBS_20251225_001",
    "emr_record_id": "EMR_20251225_001"
  }
}
```

## Next steps

<CardGroup cols={2}>
  <Card
    title="Golden Thread"
    icon="link"
    href="/architecture/golden-thread"
  >
    Understand data fusion logic
  </Card>
  <Card
    title="Governance"
    icon="shield-check"
    href="/governance/overview"
  >
    Configure sovereignty constraints
  </Card>
  <Card
    title="Voice processing"
    icon="microphone"
    href="/api-reference/voice-processing"
  >
    Process voice alerts from CHVs
  </Card>
  <Card
    title="Deployment"
    icon="rocket"
    href="/deployment/overview"
  >
    Deploy Bio-Interface API
  </Card>
</CardGroup>
