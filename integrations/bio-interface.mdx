---
title: Bio-Interface REST API
description: Mobile health app integration with Golden Thread data fusion
---

## Overview

The Bio-Interface REST API enables mobile health applications to integrate with iLuminara-Core's Golden Thread protocol, fusing Community-Based Surveillance (CBS) and Electronic Medical Records (EMR) into verified timelines.

<Card
  title="Philosophy"
  icon="mobile"
>
  "Zero-friction data collection with sovereign dignity preservation"
</Card>

## Architecture

```
┌─────────────────────────────────────────────────────────┐
│           MOBILE HEALTH APPS                            │
│  ┌──────────────┐  ┌──────────────┐  ┌──────────────┐ │
│  │   CHV App    │  │  Clinic EMR  │  │  IDSR App    │ │
│  │  (Android)   │  │   (Web)      │  │  (iOS)       │ │
│  └──────────────┘  └──────────────┘  └──────────────┘ │
└─────────────────────────────────────────────────────────┘
                         │
                         │ HTTPS / TLS 1.3
                         ▼
┌─────────────────────────────────────────────────────────┐
│           BIO-INTERFACE REST API                        │
│  ┌──────────────────────────────────────────────────┐  │
│  │  /api/v1/cbs/submit     - CBS signal ingestion  │  │
│  │  /api/v1/emr/submit     - EMR record ingestion  │  │
│  │  /api/v1/fuse/verify    - Golden Thread fusion  │  │
│  │  /api/v1/sync/status    - Sync status check     │  │
│  └──────────────────────────────────────────────────┘  │
└─────────────────────────────────────────────────────────┘
                         │
                         │ Data Fusion
                         ▼
┌─────────────────────────────────────────────────────────┐
│           GOLDEN THREAD ENGINE (IP-05)                  │
│  - Cross-source verification                            │
│  - Verification score calculation                       │
│  - Conflict resolution                                  │
│  - Verified timeline generation                         │
└─────────────────────────────────────────────────────────┘
                         │
                         │ Validated Data
                         ▼
┌─────────────────────────────────────────────────────────┐
│           SOVEREIGNGUARDRAIL                            │
│  - Data sovereignty enforcement                         │
│  - Consent validation                                   │
│  - Audit trail logging                                  │
│  - Compliance attestation                               │
└─────────────────────────────────────────────────────────┘
```

## Authentication

### OAuth 2.0 flow

```python
import requests

# Step 1: Get authorization code
auth_url = "https://api.iluminara.health/oauth/authorize"
params = {
    'client_id': 'your_client_id',
    'redirect_uri': 'https://yourapp.com/callback',
    'response_type': 'code',
    'scope': 'cbs:write emr:write fuse:read',
    'state': 'random_state_string'
}

# User authorizes in browser
# Redirect back with code

# Step 2: Exchange code for token
token_url = "https://api.iluminara.health/oauth/token"
token_data = {
    'grant_type': 'authorization_code',
    'code': 'authorization_code_from_redirect',
    'redirect_uri': 'https://yourapp.com/callback',
    'client_id': 'your_client_id',
    'client_secret': 'your_client_secret'
}

response = requests.post(token_url, data=token_data)
access_token = response.json()['access_token']

print(f"✅ Access token: {access_token}")
```

### API key authentication (development)

```python
import requests

headers = {
    'Authorization': 'Bearer YOUR_API_KEY',
    'Content-Type': 'application/json'
}

response = requests.get(
    'https://api.iluminara.health/api/v1/health',
    headers=headers
)

print(response.json())
```

## Core endpoints

### Submit CBS signal

Community Health Volunteers submit field observations:

```python
import requests

url = "https://api.iluminara.health/api/v1/cbs/submit"

headers = {
    'Authorization': 'Bearer YOUR_ACCESS_TOKEN',
    'Content-Type': 'application/json'
}

payload = {
    'chv_id': 'CHV_AMINA_HASSAN',
    'location': {
        'lat': 0.0512,
        'lng': 40.3129,
        'name': 'Dadaab Refugee Camp'
    },
    'timestamp': '2025-12-23T10:30:00Z',
    'symptoms': ['diarrhea', 'vomiting', 'dehydration'],
    'severity': 9,
    'patient_count': 1,
    'notes': 'Severe watery diarrhea, suspected cholera',
    'consent_token': 'EMERGENCY_CHV_ALERT'
}

response = requests.post(url, json=payload, headers=headers)

print(response.json())
```

**Response:**

```json
{
  "status": "success",
  "signal_id": "CBS_20251223_103000_001",
  "verification_status": "PENDING",
  "message": "CBS signal received and queued for fusion",
  "golden_thread_id": "GT_DADAAB_20251223_001"
}
```

### Submit EMR record

Clinics submit electronic medical records:

```python
url = "https://api.iluminara.health/api/v1/emr/submit"

payload = {
    'facility_id': 'DADAAB_CLINIC_001',
    'patient_id': 'PAT_12345',
    'location': {
        'lat': 0.0512,
        'lng': 40.3129,
        'name': 'Dadaab Refugee Camp'
    },
    'timestamp': '2025-12-23T10:45:00Z',
    'diagnosis': 'cholera',
    'symptoms': ['diarrhea', 'vomiting', 'dehydration'],
    'lab_results': {
        'rapid_test': 'positive',
        'culture': 'pending'
    },
    'treatment': 'ORS, IV fluids, isolation',
    'consent_token': 'PATIENT_CONSENT_12345'
}

response = requests.post(url, json=payload, headers=headers)

print(response.json())
```

**Response:**

```json
{
  "status": "success",
  "record_id": "EMR_20251223_104500_001",
  "verification_status": "CONFIRMED",
  "message": "EMR record received and fused with CBS signal",
  "golden_thread_id": "GT_DADAAB_20251223_001",
  "verification_score": 1.0,
  "matched_signals": ["CBS_20251223_103000_001"]
}
```

### Verify fusion status

Check Golden Thread verification:

```python
url = "https://api.iluminara.health/api/v1/fuse/verify"

params = {
    'golden_thread_id': 'GT_DADAAB_20251223_001'
}

response = requests.get(url, params=params, headers=headers)

print(response.json())
```

**Response:**

```json
{
  "status": "success",
  "golden_thread_id": "GT_DADAAB_20251223_001",
  "verification_score": 1.0,
  "verification_status": "CONFIRMED",
  "sources": {
    "cbs": {
      "signal_id": "CBS_20251223_103000_001",
      "timestamp": "2025-12-23T10:30:00Z",
      "location": {"lat": 0.0512, "lng": 40.3129}
    },
    "emr": {
      "record_id": "EMR_20251223_104500_001",
      "timestamp": "2025-12-23T10:45:00Z",
      "location": {"lat": 0.0512, "lng": 40.3129}
    }
  },
  "conflicts": [],
  "time_delta_minutes": 15,
  "location_match": true
}
```

### Sync status

Check offline sync status:

```python
url = "https://api.iluminara.health/api/v1/sync/status"

params = {
    'device_id': 'DEVICE_CHV_AMINA_001'
}

response = requests.get(url, params=params, headers=headers)

print(response.json())
```

**Response:**

```json
{
  "status": "success",
  "device_id": "DEVICE_CHV_AMINA_001",
  "last_sync": "2025-12-23T09:00:00Z",
  "pending_uploads": 3,
  "pending_downloads": 0,
  "sync_queue": [
    {
      "signal_id": "CBS_OFFLINE_001",
      "timestamp": "2025-12-23T09:15:00Z",
      "priority": "HIGH"
    },
    {
      "signal_id": "CBS_OFFLINE_002",
      "timestamp": "2025-12-23T09:30:00Z",
      "priority": "MEDIUM"
    }
  ],
  "connectivity_status": "ONLINE"
}
```

## Mobile SDK integration

### Android (Kotlin)

```kotlin
import com.iluminara.sdk.BiointerfaceClient
import com.iluminara.sdk.models.CBSSignal

class HealthDataCollector {
    private val client = BiointerfaceClient(
        apiKey = "YOUR_API_KEY",
        baseUrl = "https://api.iluminara.health"
    )
    
    suspend fun submitCBSSignal(
        location: Location,
        symptoms: List<String>,
        severity: Int
    ) {
        val signal = CBSSignal(
            chvId = "CHV_AMINA_HASSAN",
            location = location,
            symptoms = symptoms,
            severity = severity,
            timestamp = System.currentTimeMillis()
        )
        
        try {
            val response = client.cbs.submit(signal)
            Log.d("iLuminara", "Signal submitted: ${response.signalId}")
        } catch (e: Exception) {
            // Queue for offline sync
            client.offlineQueue.add(signal)
            Log.w("iLuminara", "Queued for offline sync")
        }
    }
}
```

### iOS (Swift)

```swift
import iLuminaraSDK

class HealthDataCollector {
    let client = BiointerfaceClient(
        apiKey: "YOUR_API_KEY",
        baseURL: "https://api.iluminara.health"
    )
    
    func submitCBSSignal(
        location: CLLocation,
        symptoms: [String],
        severity: Int
    ) async throws {
        let signal = CBSSignal(
            chvId: "CHV_AMINA_HASSAN",
            location: location,
            symptoms: symptoms,
            severity: severity,
            timestamp: Date()
        )
        
        do {
            let response = try await client.cbs.submit(signal)
            print("Signal submitted: \(response.signalId)")
        } catch {
            // Queue for offline sync
            client.offlineQueue.add(signal)
            print("Queued for offline sync")
        }
    }
}
```

### React Native (JavaScript)

```javascript
import { BiointerfaceClient } from '@iluminara/sdk';

const client = new BiointerfaceClient({
  apiKey: 'YOUR_API_KEY',
  baseURL: 'https://api.iluminara.health'
});

async function submitCBSSignal(location, symptoms, severity) {
  const signal = {
    chv_id: 'CHV_AMINA_HASSAN',
    location: location,
    symptoms: symptoms,
    severity: severity,
    timestamp: new Date().toISOString()
  };
  
  try {
    const response = await client.cbs.submit(signal);
    console.log('Signal submitted:', response.signal_id);
  } catch (error) {
    // Queue for offline sync
    await client.offlineQueue.add(signal);
    console.log('Queued for offline sync');
  }
}
```

## Offline sync protocol

### Priority queue

```python
from enum import Enum

class SyncPriority(Enum):
    CRITICAL = 1  # Life-threatening, sync immediately
    HIGH = 2      # Outbreak-related, sync within 1 hour
    MEDIUM = 3    # Routine surveillance, sync within 6 hours
    LOW = 4       # Administrative, sync within 24 hours

# Priority queue implementation
sync_queue = [
    {
        'signal_id': 'CBS_OFFLINE_001',
        'priority': SyncPriority.CRITICAL,
        'timestamp': '2025-12-23T09:15:00Z',
        'retry_count': 0
    },
    {
        'signal_id': 'CBS_OFFLINE_002',
        'priority': SyncPriority.HIGH,
        'timestamp': '2025-12-23T09:30:00Z',
        'retry_count': 0
    }
]

# Sort by priority, then timestamp
sync_queue.sort(key=lambda x: (x['priority'].value, x['timestamp']))
```

### Exponential backoff

```python
import time
import random

def sync_with_backoff(signal, max_retries=5):
    for attempt in range(max_retries):
        try:
            response = client.cbs.submit(signal)
            return response
        except Exception as e:
            if attempt == max_retries - 1:
                raise
            
            # Exponential backoff with jitter
            wait_time = (2 ** attempt) + random.uniform(0, 1)
            print(f"Retry {attempt + 1}/{max_retries} in {wait_time:.2f}s")
            time.sleep(wait_time)
```

## Data sovereignty

All Bio-Interface API calls enforce sovereignty constraints:

```python
from governance_kernel.vector_ledger import SovereignGuardrail

guardrail = SovereignGuardrail()

# Validate CBS submission
guardrail.validate_action(
    action_type='Data_Transfer',
    payload={
        'data_type': 'PHI',
        'destination': 'Edge_Node',
        'processing_location': 'africa-south1',
        'consent_token': 'EMERGENCY_CHV_ALERT'
    },
    jurisdiction='KDPA_KE'
)

# ✅ Approved - Data stays in sovereign territory
```

## Rate limits

| Endpoint | Rate Limit | Burst |
|----------|-----------|-------|
| `/api/v1/cbs/submit` | 100/min | 200 |
| `/api/v1/emr/submit` | 50/min | 100 |
| `/api/v1/fuse/verify` | 200/min | 400 |
| `/api/v1/sync/status` | 500/min | 1000 |

## Error codes

| Code | HTTP Status | Description |
|------|-------------|-------------|
| `INVALID_TOKEN` | 401 | Invalid or expired access token |
| `INSUFFICIENT_SCOPE` | 403 | Token lacks required scope |
| `SOVEREIGNTY_VIOLATION` | 403 | Action violates data sovereignty |
| `INVALID_LOCATION` | 400 | Location coordinates invalid |
| `MISSING_CONSENT` | 400 | Consent token required |
| `RATE_LIMIT_EXCEEDED` | 429 | Too many requests |
| `FUSION_CONFLICT` | 409 | Data sources conflict |

## Next steps

<CardGroup cols={2}>
  <Card
    title="Golden Thread"
    icon="link"
    href="/architecture/golden-thread"
  >
    Understand data fusion logic
  </Card>
  <Card
    title="Mobile SDKs"
    icon="mobile"
    href="/integrations/mobile-sdks"
  >
    Download Android/iOS SDKs
  </Card>
  <Card
    title="Governance"
    icon="shield-check"
    href="/governance/overview"
  >
    Configure sovereignty rules
  </Card>
  <Card
    title="API reference"
    icon="terminal"
    href="/api-reference/overview"
  >
    Complete API documentation
  </Card>
</CardGroup>
