---
title: Bio-Interface REST API
description: Mobile health app integration with Golden Thread data fusion
---

## Overview

The Bio-Interface REST API enables mobile health applications to integrate with iLuminara-Core using the **Golden Thread protocol** to fuse data streams from Community-Based Surveillance (CBS) and Electronic Medical Records (EMR).

<Card
  title="Philosophy"
  icon="mobile"
>
  "Zero-friction data collection with sovereign dignity preservation"
</Card>

## Architecture

```
┌─────────────────────────────────────────────────────────┐
│              MOBILE HEALTH APPS                         │
│  - Community Health Volunteer (CHV) App                │
│  - Patient Self-Reporting App                          │
│  - Clinic EMR Mobile Interface                         │
└─────────────────────────────────────────────────────────┘
                        ▼
┌─────────────────────────────────────────────────────────┐
│              BIO-INTERFACE REST API                     │
│  - /api/v1/cbs/report (CBS signals)                    │
│  - /api/v1/emr/record (EMR records)                    │
│  - /api/v1/voice/process (Voice alerts)                │
│  - /api/v1/sync/status (Sync status)                   │
└─────────────────────────────────────────────────────────┘
                        ▼
┌─────────────────────────────────────────────────────────┐
│              GOLDEN THREAD FUSION                       │
│  - Cross-source verification                           │
│  - Verification score calculation                      │
│  - Conflict resolution                                 │
└─────────────────────────────────────────────────────────┘
                        ▼
┌─────────────────────────────────────────────────────────┐
│              SOVEREIGNGUARDRAIL                         │
│  - Consent validation                                  │
│  - Data sovereignty enforcement                        │
│  - Audit logging                                       │
└─────────────────────────────────────────────────────────┘
```

## Base URL

```
https://api.iluminara.health/v1
```

For local development:
```
http://localhost:8080/v1
```

## Authentication

All API requests require authentication using JWT tokens:

```bash
curl -X POST https://api.iluminara.health/v1/auth/login \
  -H "Content-Type: application/json" \
  -d '{
    "username": "chv_amina_hassan",
    "password": "secure_password",
    "device_id": "CHV_DEVICE_001"
  }'
```

Response:
```json
{
  "access_token": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...",
  "refresh_token": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...",
  "expires_in": 3600,
  "token_type": "Bearer"
}
```

## CBS report submission

Submit Community-Based Surveillance reports from CHV mobile apps.

### Endpoint

```
POST /api/v1/cbs/report
```

### Headers

```
Authorization: Bearer {access_token}
Content-Type: application/json
```

### Request body

```json
{
  "reporter_id": "CHV_AMINA_HASSAN",
  "location": {
    "lat": 0.0512,
    "lng": 40.3129,
    "name": "Dadaab Refugee Camp, Ifo Section"
  },
  "timestamp": "2025-12-23T10:30:00Z",
  "symptoms": ["diarrhea", "vomiting", "dehydration"],
  "severity": 9,
  "patient_demographics": {
    "age_group": "5-10",
    "gender": "female"
  },
  "context": {
    "water_source": "communal_tap",
    "sanitation_access": false,
    "recent_travel": false
  },
  "consent_token": "EMERGENCY_CHV_ALERT"
}
```

### Response

```json
{
  "status": "success",
  "report_id": "CBS_20251223_001",
  "verification_score": 0.3,
  "verification_status": "UNVERIFIED",
  "message": "CBS report recorded. Awaiting EMR correlation for verification.",
  "recommendations": [
    "IMMEDIATE: Suspected cholera. Start ORS immediately.",
    "Isolate patient to prevent spread",
    "Notify district health officer"
  ],
  "alert_level": "CRITICAL"
}
```

## EMR record submission

Submit Electronic Medical Records from clinic systems.

### Endpoint

```
POST /api/v1/emr/record
```

### Request body

```json
{
  "facility_id": "DADAAB_CLINIC_001",
  "patient_id": "PAT_12345",
  "location": {
    "lat": 0.0512,
    "lng": 40.3129,
    "name": "Dadaab Refugee Camp"
  },
  "timestamp": "2025-12-23T10:45:00Z",
  "diagnosis": "cholera",
  "symptoms": ["severe_diarrhea", "vomiting", "dehydration"],
  "lab_results": {
    "rapid_test": "positive",
    "culture": "pending"
  },
  "treatment": {
    "ors": true,
    "iv_fluids": true,
    "antibiotics": "doxycycline"
  },
  "consent_token": "PATIENT_CONSENT_12345"
}
```

### Response

```json
{
  "status": "success",
  "record_id": "EMR_20251223_001",
  "verification_score": 1.0,
  "verification_status": "CONFIRMED",
  "message": "EMR record correlated with CBS report CBS_20251223_001",
  "fused_record": {
    "patient_id": "PAT_12345",
    "location": "Dadaab Refugee Camp",
    "diagnosis": "cholera",
    "verification_score": 1.0,
    "data_sources": ["CBS", "EMR"],
    "timeline": [
      {
        "timestamp": "2025-12-23T10:30:00Z",
        "source": "CBS",
        "event": "CHV reported symptoms"
      },
      {
        "timestamp": "2025-12-23T10:45:00Z",
        "source": "EMR",
        "event": "Clinic confirmed diagnosis"
      }
    ]
  }
}
```

## Voice alert processing

Process voice alerts from CHV field recordings.

### Endpoint

```
POST /api/v1/voice/process
```

### Headers

```
Authorization: Bearer {access_token}
Content-Type: audio/wav
```

### Request

```bash
curl -X POST https://api.iluminara.health/v1/voice/process \
  -H "Authorization: Bearer {access_token}" \
  -H "Content-Type: audio/wav" \
  --data-binary @field_report.wav
```

### Response

```json
{
  "status": "success",
  "transcription": "Patient reporting severe watery diarrhea and vomiting",
  "language_detected": "swahili",
  "symptoms": ["diarrhea", "vomiting", "dehydration"],
  "severity": 9,
  "location": {
    "lat": 0.0512,
    "lng": 40.3129
  },
  "cbs_report_id": "CBS_20251223_002",
  "alert_level": "CRITICAL"
}
```

## Sync status

Check synchronization status for offline-first mobile apps.

### Endpoint

```
GET /api/v1/sync/status
```

### Response

```json
{
  "status": "success",
  "sync_status": "ONLINE",
  "last_sync": "2025-12-23T10:50:00Z",
  "pending_uploads": 0,
  "pending_downloads": 2,
  "queue_status": {
    "cbs_reports": 0,
    "emr_records": 0,
    "voice_alerts": 0
  },
  "connectivity": {
    "network_type": "4G",
    "signal_strength": 0.85,
    "estimated_bandwidth_kbps": 2500
  }
}
```

## Golden Thread verification

The Bio-Interface automatically applies Golden Thread verification logic:

### Verification rules

<Steps>
  <Step title="Location match">
    CBS and EMR locations must be within 5km radius
  </Step>
  <Step title="Time delta">
    Timestamps must be within 24 hours
  </Step>
  <Step title="Symptom correlation">
    Symptoms must have >70% overlap
  </Step>
  <Step title="Source credibility">
    EMR records have higher credibility than CBS signals
  </Step>
</Steps>

### Verification scores

| Score | Status | Description |
|-------|--------|-------------|
| 1.0 | CONFIRMED | Perfect match (location + time + symptoms) |
| 0.7-0.9 | PROBABLE | Good match with minor discrepancies |
| 0.4-0.6 | POSSIBLE | Partial match, requires investigation |
| 0.0-0.3 | UNVERIFIED | Single source or major conflicts |

## Offline-first mobile SDK

iLuminara provides mobile SDKs for offline-first operation:

### Android SDK

```kotlin
import health.iluminara.sdk.BioInterface

val bioInterface = BioInterface.Builder()
    .setApiKey("your_api_key")
    .setOfflineMode(true)
    .setAutoSync(true)
    .build()

// Submit CBS report (queued if offline)
val report = CBSReport(
    reporterId = "CHV_AMINA_HASSAN",
    location = Location(0.0512, 40.3129),
    symptoms = listOf("diarrhea", "vomiting"),
    severity = 9
)

bioInterface.submitCBSReport(report) { result ->
    when (result) {
        is Success -> println("Report submitted: ${result.reportId}")
        is Queued -> println("Report queued for sync")
        is Error -> println("Error: ${result.message}")
    }
}

// Check sync status
bioInterface.getSyncStatus { status ->
    println("Pending uploads: ${status.pendingUploads}")
}
```

### iOS SDK

```swift
import iLuminaraSDK

let bioInterface = BioInterface(
    apiKey: "your_api_key",
    offlineMode: true,
    autoSync: true
)

// Submit CBS report
let report = CBSReport(
    reporterId: "CHV_AMINA_HASSAN",
    location: Location(lat: 0.0512, lng: 40.3129),
    symptoms: ["diarrhea", "vomiting"],
    severity: 9
)

bioInterface.submitCBSReport(report) { result in
    switch result {
    case .success(let reportId):
        print("Report submitted: \(reportId)")
    case .queued:
        print("Report queued for sync")
    case .error(let message):
        print("Error: \(message)")
    }
}
```

## Sovereignty compliance

All Bio-Interface operations enforce sovereignty constraints:

```python
from governance_kernel.vector_ledger import SovereignGuardrail

guardrail = SovereignGuardrail()

# Validate CBS report submission
guardrail.validate_action(
    action_type='Data_Processing',
    payload={
        'data_type': 'PHI',
        'processing_location': 'Edge_Node',
        'consent_token': 'EMERGENCY_CHV_ALERT',
        'jurisdiction': 'KDPA_KE'
    },
    jurisdiction='KDPA_KE'
)
```

## Rate limits

| Endpoint | Rate Limit | Burst |
|----------|-----------|-------|
| `/cbs/report` | 100/hour | 10/minute |
| `/emr/record` | 500/hour | 50/minute |
| `/voice/process` | 50/hour | 5/minute |
| `/sync/status` | 1000/hour | 100/minute |

## Error codes

| Code | HTTP Status | Description |
|------|-------------|-------------|
| `AUTH_REQUIRED` | 401 | Missing or invalid authentication token |
| `CONSENT_MISSING` | 403 | Consent token required but not provided |
| `SOVEREIGNTY_VIOLATION` | 403 | Action violates data sovereignty rules |
| `INVALID_LOCATION` | 400 | Location coordinates invalid or missing |
| `RATE_LIMIT_EXCEEDED` | 429 | Too many requests |
| `OFFLINE_QUEUE_FULL` | 507 | Offline queue capacity exceeded |

## Webhooks

Subscribe to real-time events:

```json
{
  "webhook_url": "https://your-app.com/webhooks/iluminara",
  "events": [
    "cbs.report.verified",
    "emr.record.created",
    "outbreak.alert.triggered"
  ],
  "secret": "webhook_secret_key"
}
```

Webhook payload:
```json
{
  "event": "cbs.report.verified",
  "timestamp": "2025-12-23T10:50:00Z",
  "data": {
    "report_id": "CBS_20251223_001",
    "verification_score": 1.0,
    "verification_status": "CONFIRMED"
  },
  "signature": "sha256=..."
}
```

## Next steps

<CardGroup cols={2}>
  <Card
    title="Golden Thread"
    icon="link"
    href="/architecture/golden-thread"
  >
    Understand data fusion logic
  </Card>
  <Card
    title="Voice processing"
    icon="microphone"
    href="/api-reference/voice-processing"
  >
    Process voice alerts
  </Card>
  <Card
    title="Governance"
    icon="shield-check"
    href="/governance/overview"
  >
    Sovereignty compliance
  </Card>
  <Card
    title="Mobile SDKs"
    icon="mobile"
    href="/integrations/mobile-sdks"
  >
    Download mobile SDKs
  </Card>
</CardGroup>
