---
title: Water-ATM Sovereignty
description: Blockchain-based sovereign water distribution with biometric authentication
---

## Overview

Water-ATM Sovereignty provides IoT-triggered smart contract water distribution that eliminates water cartels and guarantees fair access. It combines flow meters, ZKP identity verification, and ReFi (Regenerative Finance) to ensure transparent, corruption-free water access.

<Info>
  Water trucking in camps is expensive and corruptible. Water-ATMs use smart contracts to pay providers instantly in "Bio-Credits," cutting out middlemen and ensuring pumps are maintained.
</Info>

<Card
  title="Implementation"
  icon="droplet"
>
  Complete implementation in `repository-files/infrastructure/water_atm.py`
</Card>

## Key capabilities

<CardGroup cols={2}>
  <Card title="ZKP identity" icon="fingerprint">
    Zero-knowledge proof authentication
  </Card>
  <Card title="IoT flow meters" icon="gauge">
    Precise water dispensing
  </Card>
  <Card title="Smart contracts" icon="file-contract">
    Instant ReFi payments
  </Card>
  <Card title="Quality sensors" icon="flask">
    Real-time water quality monitoring
  </Card>
</CardGroup>

## Civilization-scale singularity

**The Context:** Water trucking is expensive and corruptible.

**The Singularity:** IoT-Flow + ReFi Oracle.

**Deep Architecture:** Smart "Water ATMs" dispense water based on ZKP Identity scans. The flow meter (IoT) triggers a Smart Contract that pays the water provider instantly in "Bio-Credits," cutting out middlemen and ensuring the pump is maintained.

**Impact:** Eliminates water cartels and guarantees fair access.

## Quick start

```python
from infrastructure.water_atm import WaterATM

# Initialize smart water dispenser
atm = WaterATM(
    atm_id="ATM-DADAAB-001",
    location={"lat": 0.0512, "lng": 40.3129},
    blockchain_network="celo_mainnet"
)

# Authenticate user with ZKP
auth_result = atm.authenticate_zkp(
    user_zkp_proof="ZKP_PROOF_HASH_001"
)

# Dispense water and trigger smart contract
if auth_result.verified:
    transaction = atm.dispense_water(
        user_zkp=auth_result.user_zkp,
        liters=20
    )
    
    print(f"Valve status: {transaction.valve_status}")
    print(f"Smart contract TX: {transaction.transaction_hash}")
    print(f"Bio-Credits paid: {transaction.credits_paid}")
    print(f"Provider wallet: {transaction.provider_wallet}")

# Monitor water quality in real-time
quality = atm.monitor_water_quality()
print(f"pH: {quality.ph}")
print(f"TDS: {quality.tds_ppm} ppm")
print(f"Chlorine: {quality.chlorine_ppm} ppm")
print(f"Safe to drink: {quality.safe}")
```

## Real-world scenario (Dadaab 2026)

**Scenario:** Water trucking to Ifo camp costs $50,000/month. Corruption means only 60% of paid water actually reaches residents. Maintenance is neglected because there's no accountability.

**Challenge:** Traditional water distribution relies on manual record-keeping and cash payments, creating opportunities for corruption and inefficiency.

**Solution:** Water-ATM Sovereignty eliminates intermediaries:

1. **Smart dispensers:** IoT-enabled water ATMs installed at 20 locations across Ifo camp
2. **ZKP authentication:** Residents authenticate using zero-knowledge proofs (privacy-preserving)
3. **Flow metering:** Precise sensors measure every liter dispensed
4. **Smart contracts:** Each dispense triggers an instant payment to the water provider in Bio-Credits
5. **Maintenance fund:** 5% of each transaction goes to a maintenance smart contract
6. **Quality monitoring:** Real-time sensors detect contamination and auto-shut valves

**Result:**
- **Corruption eliminated:** 100% of water reaches intended recipients
- **Cost reduction:** 40% reduction in water costs due to eliminated middlemen
- **Uptime:** 99.2% uptime due to automated maintenance funding
- **Transparency:** All transactions auditable on blockchain

## ReFi (Regenerative Finance) integration

Water-ATMs use Bio-Credits to create a circular economy:

```python
# Configure ReFi oracle
atm.configure_refi_oracle({
    "credit_type": "bio_credits",
    "exchange_rate": 0.01,  # 1 Bio-Credit = $0.01 USD
    "provider_wallet": "0x742d35Cc6634C0532925a3b844Bc9e7595f0bEb",
    "maintenance_percentage": 5,
    "community_fund_percentage": 2
})

# Dispense water and distribute credits
transaction = atm.dispense_water(user_zkp="ZKP_001", liters=20)

print(f"Provider earned: {transaction.provider_credits} Bio-Credits")
print(f"Maintenance fund: {transaction.maintenance_credits} Bio-Credits")
print(f"Community fund: {transaction.community_credits} Bio-Credits")
```

## Integration with Shirika Equity Engine

Water-ATMs integrate with the Shirika Equity Engine to resolve resource conflicts:

```python
from governance.equity_engine import ShirikaEquityEngine

# Calculate fair allocation between host and refugee communities
equity = ShirikaEquityEngine(jurisdiction="GARISSA_COUNTY")

allocation = equity.calculate_fair_allocation(
    resource_type="water_borehole",
    stakeholders=[
        {"group": "garissa_residents", "population": 5000},
        {"group": "dadaab_refugees", "population": 8000}
    ],
    capacity_liters_per_day=50000
)

# Configure ATM with equity schedule
atm.set_equity_schedule(allocation.daily_schedule)
```

## Next steps

<CardGroup cols={2}>
  <Card title="Implementation" icon="file-code" href="/IMPLEMENTATION_COMPLETE">
    Complete implementation
  </Card>
  <Card title="Agro-Voltaics" icon="solar-panel" href="/integrations/modulus-agro-voltaics">
    Water optimization integration
  </Card>
  <Card title="Use case matrix" icon="table" href="/architecture/use-case-matrix">
    Real-world applications
  </Card>
  <Card title="Governance" icon="shield-check" href="/governance/overview">
    Legal compliance framework
  </Card>
</CardGroup>
