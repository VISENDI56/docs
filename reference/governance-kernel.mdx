---
title: Governance kernel
description: Complete reference for the governance kernel module
---

## Overview

The governance kernel is the ethical engine of iLuminara-Core, encoding 45+ global legal frameworks into executable Python and Rego policies.

**Location:** `governance_kernel/`  
**Files:** 150+  
**Lines of Code:** 25,000+  
**Languages:** Python, Rego

## Core modules

<CardGroup cols={2}>
  <Card title="SovereignGuardrail" icon="shield-check">
    Main enforcement engine for 14 global frameworks
  </Card>
  <Card title="Crypto Shredder" icon="fire">
    IP-02: Data dissolution (not deletion)
  </Card>
  <Card title="Ethical Engine" icon="heart">
    Humanitarian constraints and Geneva Convention
  </Card>
  <Card title="Audit Trail" icon="file-contract">
    Tamper-proof cryptographic logging
  </Card>
</CardGroup>

## File structure

```
governance_kernel/
â”œâ”€â”€ __init__.py
â”œâ”€â”€ sovereign_guardrail.py          # Main enforcement engine
â”œâ”€â”€ vector_ledger.py                 # Legal vector database
â”œâ”€â”€ crypto_shredder.py               # IP-02 implementation
â”œâ”€â”€ ethical_engine.py                # Humanitarian constraints
â”œâ”€â”€ audit_trail.py                   # Tamper-proof logging
â”œâ”€â”€ humanitarian_constraints.py      # Geneva Convention logic
â”œâ”€â”€ compliance_matrix.py             # Framework mapping
â”œâ”€â”€ guardrail.py                     # Legacy guardrail
â”œâ”€â”€ law_nexus.py                     # Multi-law orchestration
â”œâ”€â”€ dspm_engine.py                   # Data Security Posture Management
â”œâ”€â”€ rco_engine.py                    # Risk & Compliance Oracle
â”œâ”€â”€ quantum_nexus.py                 # Quantum-resistant crypto
â”œâ”€â”€ chrono_audit.py                  # Time-series audit
â”œâ”€â”€ neuro_switch.py                  # AI decision routing
â”œâ”€â”€ message_bus.py                   # Event messaging
â”œâ”€â”€ national_strategy_guard.py       # Country-specific rules
â”œâ”€â”€ ai_agent_coordinator.py          # Agent orchestration
â”œâ”€â”€ crisis_decision_agent.py         # Emergency decision making
â”œâ”€â”€ fairness_constraints.py          # Bias mitigation
â”œâ”€â”€ policies/                        # 45+ Rego policies
â”‚   â”œâ”€â”€ gdpr.rego
â”‚   â”œâ”€â”€ hipaa.rego
â”‚   â”œâ”€â”€ kdpa.rego
â”‚   â”œâ”€â”€ popia.rego
â”‚   â”œâ”€â”€ eu_ai_act.rego
â”‚   â””â”€â”€ ... (40+ more)
â”œâ”€â”€ c2_dashboard/                    # Command & Control UI
â”‚   â””â”€â”€ nexus_cli.py
â”œâ”€â”€ scale_monitoring/                # Performance monitoring
â”‚   â””â”€â”€ flop_counter.py
â”œâ”€â”€ strategies/                      # National strategies
â”‚   â””â”€â”€ national_alignment.py
â””â”€â”€ tamper_evidence/                 # Blockchain logging
    â””â”€â”€ blockchain_logger.py
```

## Key classes

### SovereignGuardrail

Main enforcement engine that validates all actions against compliance constraints.

```python
from governance_kernel.vector_ledger import SovereignGuardrail

guardrail = SovereignGuardrail()

# Validate action
guardrail.validate_action(
    action_type='Data_Transfer',
    payload={'data_type': 'PHI', 'destination': 'Foreign_Cloud'},
    jurisdiction='GDPR_EU'
)
```

**Methods:**
- `validate_action()` - Validate action against frameworks
- `get_tamper_proof_audit_history()` - Retrieve audit log
- `verify_audit_chain_integrity()` - Verify chain integrity

### CryptoShredder

IP-02 implementation for cryptographic data dissolution.

```python
from governance_kernel.crypto_shredder import CryptoShredder

shredder = CryptoShredder(sovereignty_zone=SovereigntyZone.KENYA)

# Encrypt with ephemeral key
encrypted_data, key_id = shredder.encrypt_with_ephemeral_key(
    data=patient_record,
    retention_policy=RetentionPolicy.HOT
)

# Shred key after retention period
shredder.shred_key(key_id)
```

**Methods:**
- `encrypt_with_ephemeral_key()` - Encrypt with temporary key
- `decrypt_with_key()` - Decrypt if key exists
- `shred_key()` - Cryptographically destroy key
- `auto_shred_expired_keys()` - Batch shred expired keys

### EthicalEngine

Applies humanitarian constraints from Geneva Convention and WHO IHR.

```python
from governance_kernel.ethical_engine import EthicalEngine

engine = EthicalEngine()

# Validate humanitarian compliance
result = engine.apply_constraints(
    action={'type': 'cholera_response', 'scope': 'refugee_camp'},
    context={'conflict_zone': False, 'outbreak_suspected': True}
)
```

**Methods:**
- `apply_constraints()` - Apply humanitarian rules
- `calculate_humanitarian_margin()` - Calculate safety margin
- `validate_emergency_override()` - Check emergency conditions

## Rego policies

The governance kernel includes 45+ Rego policies for global legal frameworks:

### GDPR (EU)

**File:** `policies/gdpr.rego`

```rego
package gdpr

# Article 9: Processing of special categories
deny[msg] {
    input.action == "Data_Transfer"
    input.data_type == "PHI"
    input.destination != "EU"
    msg := "Violates GDPR Art. 9 (Processing of special categories)"
}
```

### HIPAA (USA)

**File:** `policies/hipaa.rego`

```rego
package hipaa

# Â§164.312: Technical safeguards
deny[msg] {
    input.action == "Data_Access"
    not input.encryption_enabled
    msg := "Violates HIPAA Â§164.312 (Technical safeguards)"
}
```

### KDPA (Kenya)

**File:** `policies/kdpa.rego`

```rego
package kdpa

# Â§37: Transfer restrictions
deny[msg] {
    input.action == "Data_Transfer"
    input.data_type == "PHI"
    input.source_country == "Kenya"
    input.destination_country != "Kenya"
    not input.dpc_authorization
    msg := "Violates KDPA Â§37 (Transfer restrictions)"
}
```

## Compliance matrix

| Framework | Region | Files | Status |
|-----------|--------|-------|--------|
| GDPR | ğŸ‡ªğŸ‡º EU | `gdpr.rego` | âœ… Active |
| HIPAA | ğŸ‡ºğŸ‡¸ USA | `hipaa.rego` | âœ… Active |
| KDPA | ğŸ‡°ğŸ‡ª Kenya | `kdpa.rego`, `ke_dp.rego` | âœ… Active |
| POPIA | ğŸ‡¿ğŸ‡¦ South Africa | `popia.rego` | âœ… Active |
| PIPEDA | ğŸ‡¨ğŸ‡¦ Canada | `pipeda.rego` | âœ… Active |
| EU AI Act | ğŸ‡ªğŸ‡º EU | `eu_ai_act.rego` | âœ… Active |
| CCPA | ğŸ‡ºğŸ‡¸ California | `ccpa.rego` | âœ… Active |
| LGPD | ğŸ‡§ğŸ‡· Brazil | `lgpd.rego`, `br.rego` | âœ… Active |
| ISO 27001 | ğŸŒ Global | `iso.rego` | âœ… Active |
| SOC 2 | ğŸ‡ºğŸ‡¸ USA | `soc.rego` | âœ… Active |
| NIST CSF | ğŸ‡ºğŸ‡¸ USA | `nist.rego` | âœ… Active |
| IHR | ğŸŒ WHO | `ihr.rego` | âœ… Active |

## Configuration

Configure the governance kernel via `config/sovereign_guardrail.yaml`:

```yaml
jurisdiction:
  primary: "KDPA_KE"
  secondary:
    - "GDPR_EU"
    - "POPIA_ZA"

sovereignty:
  data_residency:
    enabled: true
    enforcement_level: "STRICT"

audit:
  enabled: true
  tamper_proof: true
```

## Usage examples

### Basic validation

```python
from governance_kernel.vector_ledger import SovereignGuardrail

guardrail = SovereignGuardrail()

try:
    guardrail.validate_action(
        action_type='Data_Transfer',
        payload={'data_type': 'PHI', 'destination': 'AWS_US'},
        jurisdiction='GDPR_EU'
    )
except SovereigntyViolationError as e:
    print(f"Violation: {e}")
```

### Tamper-proof audit

```python
guardrail = SovereignGuardrail(enable_tamper_proof_audit=True)

# All actions are logged
guardrail.validate_action(...)

# Retrieve audit history
history = guardrail.get_tamper_proof_audit_history(limit=10)

# Verify integrity
integrity = guardrail.verify_audit_chain_integrity()
```

### Humanitarian constraints

```python
from governance_kernel.ethical_engine import EthicalEngine

engine = EthicalEngine()

result = engine.apply_constraints(
    action={
        'type': 'cholera_response',
        'estimated_civilian_impact': 0.3,
        'medical_benefit': 0.85
    },
    context={
        'conflict_zone': False,
        'outbreak_suspected': True
    }
)

print(f"Humanitarian margin: {result['humanitarian_margin']['margin']}")
```

## Testing

Run governance kernel tests:

```bash
pytest tests/test_ethical_engine.py
pytest tests/test_humanitarian_constraints.py
pytest tests/test_audit_trail.py
```

## Next steps

<CardGroup cols={2}>
  <Card
    title="Crypto Shredder"
    icon="fire"
    href="/reference/governance-kernel/crypto-shredder"
  >
    IP-02 implementation details
  </Card>
  <Card
    title="Ethical Engine"
    icon="heart"
    href="/reference/governance-kernel/ethical-engine"
  >
    Humanitarian constraints
  </Card>
  <Card
    title="Rego Policies"
    icon="scale-balanced"
    href="/reference/governance-kernel/policies"
  >
    45+ legal framework policies
  </Card>
  <Card
    title="Audit Trail"
    icon="file-contract"
    href="/reference/governance-kernel/audit-trail"
  >
    Tamper-proof logging
  </Card>
</CardGroup>
