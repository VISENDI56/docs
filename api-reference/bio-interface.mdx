---
title: Bio-Interface REST API
description: Mobile health app integration with Golden Thread protocol
---

## Overview

The Bio-Interface REST API enables mobile health applications to integrate with iLuminara-Core using the Golden Thread protocol for data fusion. All data flows through the SovereignGuardrail to ensure compliance with 14 global legal frameworks.

<Card
  title="Philosophy"
  icon="mobile"
>
  "Every mobile health signal becomes a verified thread in the sovereign tapestry."
</Card>

## Architecture

```
┌─────────────────────────────────────┐
│     MOBILE HEALTH APPS              │
│  - Community Health Volunteers      │
│  - Patient self-reporting           │
│  - IoT health sensors               │
└─────────────────────────────────────┘
              │
              │ HTTPS/TLS 1.3
              ▼
┌─────────────────────────────────────┐
│     BIO-INTERFACE REST API          │
│  - /health (Health check)           │
│  - /process-voice (Voice alerts)    │
│  - /submit-cbs (CBS reports)        │
│  - /submit-emr (EMR records)        │
│  - /predict (Outbreak prediction)   │
└─────────────────────────────────────┘
              │
              │ Validation
              ▼
┌─────────────────────────────────────┐
│     SOVEREIGN GUARDRAIL             │
│  - Consent validation               │
│  - Data sovereignty check           │
│  - Audit logging                    │
└─────────────────────────────────────┘
              │
              │ Fusion
              ▼
┌─────────────────────────────────────┐
│     GOLDEN THREAD                   │
│  - Merge CBS + EMR + IDSR           │
│  - Cross-source verification        │
│  - Verified timeline                │
└─────────────────────────────────────┘
```

## Base URL

**Development:**
```
http://localhost:8080
```

**Production:**
```
https://api.iluminara.health
```

## Authentication

### API Key authentication

```bash
curl -X POST https://api.iluminara.health/submit-cbs \
  -H "Authorization: Bearer YOUR_API_KEY" \
  -H "Content-Type: application/json" \
  -d '{"location": "Dadaab", "symptom": "fever"}'
```

### OAuth 2.0 (recommended for production)

```bash
# Get access token
curl -X POST https://api.iluminara.health/oauth/token \
  -d "grant_type=client_credentials" \
  -d "client_id=YOUR_CLIENT_ID" \
  -d "client_secret=YOUR_CLIENT_SECRET"

# Use access token
curl -X POST https://api.iluminara.health/submit-cbs \
  -H "Authorization: Bearer ACCESS_TOKEN" \
  -H "Content-Type: application/json" \
  -d '{"location": "Dadaab", "symptom": "fever"}'
```

## Core endpoints

### Health check

```
GET /health
```

Check API service health and metadata.

**Response:**
```json
{
  "status": "healthy",
  "version": "1.0.0",
  "fortress_status": "OPERATIONAL",
  "sovereignty_zone": "africa-south1",
  "jurisdiction": "KDPA_KE",
  "timestamp": "2025-12-25T19:00:00Z"
}
```

### Submit CBS report

```
POST /submit-cbs
```

Submit Community-Based Surveillance report from CHV or mobile app.

**Headers:**
- `Authorization: Bearer YOUR_API_KEY`
- `Content-Type: application/json`

**Request body:**
```json
{
  "chv_id": "CHV_AMINA_HASSAN",
  "location": {
    "lat": 0.0512,
    "lng": 40.3129,
    "name": "Dadaab"
  },
  "symptoms": ["fever", "diarrhea", "vomiting"],
  "severity": 8,
  "patient_age": 5,
  "patient_gender": "F",
  "timestamp": "2025-12-25T10:00:00Z",
  "consent_token": "VALID_CONSENT_TOKEN",
  "notes": "Child presenting with severe dehydration"
}
```

**Response:**
```json
{
  "status": "success",
  "cbs_id": "CBS_20251225_001",
  "verification_score": 0.0,
  "verification_status": "UNVERIFIED",
  "message": "CBS report submitted. Awaiting EMR correlation.",
  "timestamp": "2025-12-25T10:00:05Z",
  "golden_thread_id": "GT_ABC123"
}
```

### Submit EMR record

```
POST /submit-emr
```

Submit Electronic Medical Record from clinic or hospital.

**Request body:**
```json
{
  "facility_id": "DADAAB_CLINIC",
  "patient_id": "PAT_12345",
  "location": {
    "lat": 0.0512,
    "lng": 40.3129,
    "name": "Dadaab"
  },
  "diagnosis": "cholera",
  "symptoms": ["diarrhea", "vomiting", "dehydration"],
  "severity": 9,
  "lab_results": {
    "rapid_test": "positive",
    "culture": "pending"
  },
  "treatment": "ORS + IV fluids",
  "timestamp": "2025-12-25T10:30:00Z",
  "consent_token": "VALID_CONSENT_TOKEN"
}
```

**Response:**
```json
{
  "status": "success",
  "emr_id": "EMR_20251225_001",
  "verification_score": 1.0,
  "verification_status": "CONFIRMED",
  "message": "EMR record correlated with CBS report CBS_20251225_001",
  "timestamp": "2025-12-25T10:30:05Z",
  "golden_thread_id": "GT_ABC123",
  "matched_cbs_reports": ["CBS_20251225_001"]
}
```

### Voice processing

```
POST /process-voice
```

Process voice alert from CHV mobile app.

**Headers:**
- `Authorization: Bearer YOUR_API_KEY`
- `Content-Type: audio/wav`

**Query parameters:**
- `language` (optional): Language of audio (default: "swahili")
- `lat` (optional): Latitude
- `lng` (optional): Longitude

**Request:**
```bash
curl -X POST "https://api.iluminara.health/process-voice?language=swahili&lat=0.0512&lng=40.3129" \
  -H "Authorization: Bearer YOUR_API_KEY" \
  -H "Content-Type: audio/wav" \
  --data-binary @voice-alert.wav
```

**Response:**
```json
{
  "status": "success",
  "transcription": "Patient reporting severe watery diarrhea and vomiting",
  "language_detected": "swahili",
  "symptoms": ["diarrhea", "vomiting", "dehydration"],
  "severity": 9,
  "alert_level": "CRITICAL",
  "cbs_id": "CBS_20251225_002",
  "recommendations": [
    "IMMEDIATE: Suspected cholera. Start ORS immediately.",
    "Isolate patient to prevent spread",
    "Notify district health officer"
  ],
  "timestamp": "2025-12-25T11:00:00Z"
}
```

### Outbreak prediction

```
POST /predict
```

Predict outbreak risk using Z-score analysis.

**Request body:**
```json
{
  "location": {
    "lat": 0.0512,
    "lng": 40.3129,
    "name": "Dadaab"
  },
  "symptoms": ["diarrhea", "vomiting"],
  "time_window_hours": 24,
  "forecast_horizon_hours": 72
}
```

**Response:**
```json
{
  "status": "success",
  "z_score": 10.3,
  "risk_level": "CRITICAL",
  "predicted_cases": [18, 22, 27],
  "confidence_intervals": {
    "lower": [15, 18, 22],
    "upper": [21, 26, 32]
  },
  "alert_triggered": true,
  "bond_status": "PAYOUT_RELEASED",
  "timestamp": "2025-12-25T11:00:05Z"
}
```

## Golden Thread integration

All CBS and EMR submissions automatically flow through the Golden Thread for cross-source verification:

```python
from edge_node.sync_protocol.golden_thread import GoldenThread

gt = GoldenThread()

# CBS report submitted
cbs_signal = {
    'location': 'Dadaab',
    'symptom': 'fever',
    'timestamp': '2025-12-25T10:00:00Z',
    'source': 'CHV_AMINA_HASSAN'
}

# EMR record submitted 30 minutes later
emr_record = {
    'location': 'Dadaab',
    'diagnosis': 'malaria',
    'timestamp': '2025-12-25T10:30:00Z',
    'source': 'DADAAB_CLINIC'
}

# Golden Thread fuses streams
fused = gt.fuse_data_streams(
    cbs_signal=cbs_signal,
    emr_record=emr_record,
    patient_id='PAT_12345'
)

# Verification score: 1.0 (CONFIRMED)
# Location match + time delta < 24h
```

## Sovereignty compliance

All API requests are validated by the SovereignGuardrail:

```python
from governance_kernel.vector_ledger import SovereignGuardrail

guardrail = SovereignGuardrail()

# Validate CBS submission
guardrail.validate_action(
    action_type='Data_Processing',
    payload={
        'data_type': 'PHI',
        'processing_location': 'Edge_Node',
        'consent_token': 'VALID_CONSENT_TOKEN',
        'consent_scope': 'public_health_surveillance'
    },
    jurisdiction='KDPA_KE'
)
```

## Mobile SDK

### Android SDK

```kotlin
// Initialize iLuminara SDK
val iluminara = ILuminaraClient(
    apiKey = "YOUR_API_KEY",
    baseUrl = "https://api.iluminara.health",
    jurisdiction = "KDPA_KE"
)

// Submit CBS report
val cbsReport = CBSReport(
    chvId = "CHV_AMINA_HASSAN",
    location = Location(0.0512, 40.3129, "Dadaab"),
    symptoms = listOf("fever", "diarrhea"),
    severity = 8,
    consentToken = "VALID_CONSENT_TOKEN"
)

iluminara.submitCBS(cbsReport) { result ->
    when (result) {
        is Success -> {
            println("CBS ID: ${result.data.cbsId}")
            println("Verification: ${result.data.verificationStatus}")
        }
        is Error -> {
            println("Error: ${result.error.message}")
        }
    }
}

// Record voice alert
iluminara.recordVoiceAlert(
    language = "swahili",
    location = Location(0.0512, 40.3129)
) { audioFile ->
    iluminara.processVoice(audioFile) { result ->
        println("Transcription: ${result.transcription}")
        println("Alert Level: ${result.alertLevel}")
    }
}
```

### iOS SDK

```swift
// Initialize iLuminara SDK
let iluminara = ILuminaraClient(
    apiKey: "YOUR_API_KEY",
    baseUrl: "https://api.iluminara.health",
    jurisdiction: "KDPA_KE"
)

// Submit CBS report
let cbsReport = CBSReport(
    chvId: "CHV_AMINA_HASSAN",
    location: Location(lat: 0.0512, lng: 40.3129, name: "Dadaab"),
    symptoms: ["fever", "diarrhea"],
    severity: 8,
    consentToken: "VALID_CONSENT_TOKEN"
)

iluminara.submitCBS(cbsReport) { result in
    switch result {
    case .success(let response):
        print("CBS ID: \(response.cbsId)")
        print("Verification: \(response.verificationStatus)")
    case .failure(let error):
        print("Error: \(error.localizedDescription)")
    }
}
```

### React Native SDK

```javascript
import { ILuminaraClient } from '@iluminara/react-native-sdk';

// Initialize client
const iluminara = new ILuminaraClient({
  apiKey: 'YOUR_API_KEY',
  baseUrl: 'https://api.iluminara.health',
  jurisdiction: 'KDPA_KE'
});

// Submit CBS report
const cbsReport = {
  chvId: 'CHV_AMINA_HASSAN',
  location: { lat: 0.0512, lng: 40.3129, name: 'Dadaab' },
  symptoms: ['fever', 'diarrhea'],
  severity: 8,
  consentToken: 'VALID_CONSENT_TOKEN'
};

const result = await iluminara.submitCBS(cbsReport);
console.log('CBS ID:', result.cbsId);
console.log('Verification:', result.verificationStatus);

// Record and process voice
const audioUri = await iluminara.recordVoiceAlert({
  language: 'swahili',
  location: { lat: 0.0512, lng: 40.3129 }
});

const voiceResult = await iluminara.processVoice(audioUri);
console.log('Transcription:', voiceResult.transcription);
console.log('Alert Level:', voiceResult.alertLevel);
```

## Rate limits

| Endpoint | Rate Limit | Burst |
|----------|-----------|-------|
| `/submit-cbs` | 100 req/min | 200 |
| `/submit-emr` | 100 req/min | 200 |
| `/process-voice` | 10 req/min | 20 |
| `/predict` | 100 req/min | 200 |
| `/health` | 1000 req/min | 2000 |

## Error codes

| Code | HTTP Status | Description |
|------|-------------|-------------|
| `invalid_api_key` | 401 | API key missing or invalid |
| `insufficient_permissions` | 403 | API key lacks required permissions |
| `sovereignty_violation` | 403 | Action violates data sovereignty rules |
| `invalid_consent_token` | 400 | Consent token invalid or expired |
| `missing_required_field` | 400 | Required field missing from request |
| `rate_limit_exceeded` | 429 | Rate limit exceeded |
| `internal_error` | 500 | Internal server error |

## Webhooks

Subscribe to real-time events:

```json
POST /webhooks/subscribe
{
  "url": "https://your-app.com/webhook",
  "events": [
    "cbs.submitted",
    "emr.submitted",
    "verification.confirmed",
    "outbreak.detected",
    "alert.critical"
  ],
  "secret": "YOUR_WEBHOOK_SECRET"
}
```

**Webhook payload:**
```json
{
  "event": "verification.confirmed",
  "timestamp": "2025-12-25T10:30:05Z",
  "data": {
    "golden_thread_id": "GT_ABC123",
    "cbs_id": "CBS_20251225_001",
    "emr_id": "EMR_20251225_001",
    "verification_score": 1.0,
    "location": "Dadaab"
  },
  "signature": "sha256=..."
}
```

## Testing

### Sandbox environment

```
https://sandbox.iluminara.health
```

Use test API keys for development:
```
TEST_API_KEY=test_sk_1234567890abcdef
```

### Mock data

```bash
# Generate test CBS reports
curl -X POST https://sandbox.iluminara.health/test/generate-cbs \
  -H "Authorization: Bearer TEST_API_KEY" \
  -d '{"count": 100, "location": "Dadaab"}'

# Generate test outbreak
curl -X POST https://sandbox.iluminara.health/test/simulate-outbreak \
  -H "Authorization: Bearer TEST_API_KEY" \
  -d '{"disease": "cholera", "location": "Dadaab", "duration_hours": 72}'
```

## Next steps

<CardGroup cols={2}>
  <Card
    title="Golden Thread"
    icon="link"
    href="/architecture/golden-thread"
  >
    Understand data fusion logic
  </Card>
  <Card
    title="Governance"
    icon="shield-check"
    href="/governance/overview"
  >
    Configure sovereignty rules
  </Card>
  <Card
    title="Mobile SDKs"
    icon="mobile"
    href="/api-reference/mobile-sdks"
  >
    Integrate with mobile apps
  </Card>
  <Card
    title="Webhooks"
    icon="webhook"
    href="/api-reference/webhooks"
  >
    Subscribe to real-time events
  </Card>
</CardGroup>
