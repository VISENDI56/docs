---
title: Bio-Interface REST API
description: Mobile health app integration with Golden Thread data fusion
---

## Overview

The Bio-Interface REST API enables mobile health applications to integrate with iLuminara-Core using the **Golden Thread protocol** for data fusion from CBS (Community-Based Surveillance) and EMR (Electronic Medical Records).

All data is verified using location + time-delta matching within 24 hours for CONFIRMED status.

<Card
  title="Integration"
  icon="mobile"
>
  IP-05 Golden Thread • IP-06 5DM Bridge • FHIR R4 Compatible
</Card>

## Base URL

```
https://api.iluminara.health/v1
```

For local development:
```
http://localhost:8080/v1
```

## Authentication

### API Key authentication

```bash
curl -H "X-API-Key: your_api_key" \
  https://api.iluminara.health/v1/health
```

### OAuth 2.0 (production)

```bash
# Get access token
curl -X POST https://api.iluminara.health/oauth/token \
  -d "grant_type=client_credentials" \
  -d "client_id=your_client_id" \
  -d "client_secret=your_client_secret"

# Use token
curl -H "Authorization: Bearer access_token" \
  https://api.iluminara.health/v1/health
```

## Core endpoints

<CardGroup cols={2}>
  <Card
    title="Submit CBS report"
    icon="user-nurse"
    href="#submit-cbs-report"
  >
    Community Health Volunteer reports
  </Card>
  <Card
    title="Submit EMR record"
    icon="hospital"
    href="#submit-emr-record"
  >
    Hospital/clinic medical records
  </Card>
  <Card
    title="Get fused timeline"
    icon="link"
    href="#get-fused-timeline"
  >
    Retrieve verified Golden Thread data
  </Card>
  <Card
    title="Check verification status"
    icon="check-circle"
    href="#check-verification-status"
  >
    Query verification score
  </Card>
</CardGroup>

## Submit CBS report

Submit a Community-Based Surveillance report from a CHV mobile app.

### Endpoint

```
POST /v1/cbs/report
```

### Request

```json
{
  "chv_id": "CHV_AMINA_HASSAN",
  "patient_id": "PAT_001",
  "location": {
    "lat": 0.0512,
    "lng": 40.3129,
    "name": "Dadaab Refugee Camp, Ifo Section"
  },
  "timestamp": "2025-01-28T10:30:00Z",
  "symptoms": ["fever", "diarrhea", "vomiting"],
  "severity": 8,
  "notes": "Patient reports severe watery diarrhea for 2 days",
  "consent_token": "CONSENT_20250128_001"
}
```

### Response

```json
{
  "status": "success",
  "cbs_report_id": "CBS_20250128_001234",
  "timestamp": "2025-01-28T10:30:15Z",
  "verification_status": "PENDING",
  "message": "CBS report submitted. Awaiting EMR correlation for verification."
}
```

## Submit EMR record

Submit an Electronic Medical Record from a hospital/clinic system.

### Endpoint

```
POST /v1/emr/record
```

### Request

```json
{
  "facility_id": "DADAAB_CLINIC",
  "patient_id": "PAT_001",
  "location": {
    "lat": 0.0512,
    "lng": 40.3129,
    "name": "Dadaab Medical Clinic"
  },
  "timestamp": "2025-01-28T11:00:00Z",
  "diagnosis": "cholera",
  "icd_code": "A00.9",
  "treatment": "ORS, IV fluids, isolation",
  "lab_results": {
    "rapid_test": "positive",
    "culture": "pending"
  },
  "consent_token": "CONSENT_20250128_001"
}
```

### Response

```json
{
  "status": "success",
  "emr_record_id": "EMR_20250128_005678",
  "timestamp": "2025-01-28T11:00:10Z",
  "verification_status": "CONFIRMED",
  "verification_score": 1.0,
  "matched_cbs_report": "CBS_20250128_001234",
  "message": "EMR record submitted and verified with CBS report (time delta: 30 minutes)"
}
```

## Get fused timeline

Retrieve the verified Golden Thread timeline for a patient.

### Endpoint

```
GET /v1/golden-thread/{patient_id}
```

### Response

```json
{
  "status": "success",
  "patient_id": "PAT_001",
  "timeline": [
    {
      "timestamp": "2025-01-28T10:30:00Z",
      "source": "CBS",
      "report_id": "CBS_20250128_001234",
      "chv_id": "CHV_AMINA_HASSAN",
      "symptoms": ["fever", "diarrhea", "vomiting"],
      "severity": 8,
      "verification_status": "CONFIRMED",
      "verification_score": 1.0
    },
    {
      "timestamp": "2025-01-28T11:00:00Z",
      "source": "EMR",
      "record_id": "EMR_20250128_005678",
      "facility_id": "DADAAB_CLINIC",
      "diagnosis": "cholera",
      "icd_code": "A00.9",
      "treatment": "ORS, IV fluids, isolation",
      "verification_status": "CONFIRMED",
      "verification_score": 1.0
    }
  ],
  "summary": {
    "total_events": 2,
    "confirmed_events": 2,
    "verification_rate": 1.0,
    "first_symptom_date": "2025-01-28T10:30:00Z",
    "diagnosis_date": "2025-01-28T11:00:00Z",
    "time_to_diagnosis_minutes": 30
  }
}
```

## Check verification status

Check the verification status of a CBS report or EMR record.

### Endpoint

```
GET /v1/verification/{report_id}
```

### Response

```json
{
  "status": "success",
  "report_id": "CBS_20250128_001234",
  "verification_status": "CONFIRMED",
  "verification_score": 1.0,
  "verification_details": {
    "location_match": true,
    "time_delta_minutes": 30,
    "time_delta_threshold_minutes": 1440,
    "matched_records": [
      {
        "type": "EMR",
        "record_id": "EMR_20250128_005678",
        "timestamp": "2025-01-28T11:00:00Z"
      }
    ]
  },
  "governance": {
    "frameworks_validated": ["KDPA §37", "GDPR Art. 9", "WHO IHR Art. 45"],
    "audit_log_id": "audit_20250128_001234",
    "compliance_status": "APPROVED"
  }
}
```

## Verification logic

The Golden Thread uses the following verification logic:

```python
IF cbs.location == emr.location AND |cbs.timestamp - emr.timestamp| < 24h
    THEN verification_score = 1.0 (CONFIRMED)
ELSE IF cbs.location == emr.location AND |cbs.timestamp - emr.timestamp| < 48h
    THEN verification_score = 0.8 (PROBABLE)
ELSE IF cbs.location != emr.location BUT distance < 5km AND |cbs.timestamp - emr.timestamp| < 24h
    THEN verification_score = 0.6 (POSSIBLE)
ELSE
    verification_score = 0.3 (UNVERIFIED)
```

## FHIR R4 compatibility

iLuminara supports FHIR R4 resources for interoperability:

### Submit FHIR Observation

```bash
POST /v1/fhir/Observation
Content-Type: application/fhir+json

{
  "resourceType": "Observation",
  "status": "final",
  "code": {
    "coding": [{
      "system": "http://loinc.org",
      "code": "8310-5",
      "display": "Body temperature"
    }]
  },
  "subject": {
    "reference": "Patient/PAT_001"
  },
  "effectiveDateTime": "2025-01-28T10:30:00Z",
  "valueQuantity": {
    "value": 39.5,
    "unit": "°C",
    "system": "http://unitsofmeasure.org",
    "code": "Cel"
  }
}
```

### Submit FHIR Condition

```bash
POST /v1/fhir/Condition
Content-Type: application/fhir+json

{
  "resourceType": "Condition",
  "clinicalStatus": {
    "coding": [{
      "system": "http://terminology.hl7.org/CodeSystem/condition-clinical",
      "code": "active"
    }]
  },
  "code": {
    "coding": [{
      "system": "http://hl7.org/fhir/sid/icd-10",
      "code": "A00.9",
      "display": "Cholera, unspecified"
    }]
  },
  "subject": {
    "reference": "Patient/PAT_001"
  },
  "onsetDateTime": "2025-01-28T10:30:00Z"
}
```

## Mobile SDK integration

### Android (Kotlin)

```kotlin
import com.iluminara.sdk.ILuminaraClient
import com.iluminara.sdk.models.CBSReport

val client = ILuminaraClient(
    apiKey = "your_api_key",
    baseUrl = "https://api.iluminara.health/v1"
)

// Submit CBS report
val report = CBSReport(
    chvId = "CHV_AMINA_HASSAN",
    patientId = "PAT_001",
    location = Location(0.0512, 40.3129, "Dadaab"),
    symptoms = listOf("fever", "diarrhea", "vomiting"),
    severity = 8,
    consentToken = "CONSENT_20250128_001"
)

client.submitCBSReport(report) { result ->
    when (result) {
        is Success -> println("Report submitted: ${result.data.reportId}")
        is Error -> println("Error: ${result.error.message}")
    }
}
```

### iOS (Swift)

```swift
import ILuminaraSDK

let client = ILuminaraClient(
    apiKey: "your_api_key",
    baseURL: "https://api.iluminara.health/v1"
)

// Submit CBS report
let report = CBSReport(
    chvId: "CHV_AMINA_HASSAN",
    patientId: "PAT_001",
    location: Location(lat: 0.0512, lng: 40.3129, name: "Dadaab"),
    symptoms: ["fever", "diarrhea", "vomiting"],
    severity: 8,
    consentToken: "CONSENT_20250128_001"
)

client.submitCBSReport(report) { result in
    switch result {
    case .success(let response):
        print("Report submitted: \(response.reportId)")
    case .failure(let error):
        print("Error: \(error.localizedDescription)")
    }
}
```

### Flutter (Dart)

```dart
import 'package:iluminara_sdk/iluminara_sdk.dart';

final client = ILuminaraClient(
  apiKey: 'your_api_key',
  baseUrl: 'https://api.iluminara.health/v1',
);

// Submit CBS report
final report = CBSReport(
  chvId: 'CHV_AMINA_HASSAN',
  patientId: 'PAT_001',
  location: Location(0.0512, 40.3129, 'Dadaab'),
  symptoms: ['fever', 'diarrhea', 'vomiting'],
  severity: 8,
  consentToken: 'CONSENT_20250128_001',
);

try {
  final response = await client.submitCBSReport(report);
  print('Report submitted: ${response.reportId}');
} catch (e) {
  print('Error: $e');
}
```

## Offline support

The Bio-Interface API supports offline-first mobile apps:

```kotlin
// Queue report for later submission
client.queueCBSReport(report)

// Sync when connectivity returns
client.syncQueuedReports { result ->
    println("Synced ${result.successCount} reports")
    println("Failed ${result.failureCount} reports")
}
```

## Rate limits

| Tier | Requests/minute | Burst |
|------|-----------------|-------|
| Free | 60 | 100 |
| Basic | 600 | 1000 |
| Pro | 6000 | 10000 |
| Enterprise | Unlimited | Unlimited |

## Error codes

| Code | HTTP Status | Description |
|------|-------------|-------------|
| `invalid_api_key` | 401 | API key missing or invalid |
| `missing_consent` | 403 | Consent token required |
| `sovereignty_violation` | 403 | Data sovereignty rules violated |
| `invalid_location` | 400 | Location coordinates invalid |
| `duplicate_report` | 409 | Report already submitted |
| `rate_limit_exceeded` | 429 | Too many requests |

## Next steps

<CardGroup cols={2}>
  <Card
    title="Golden Thread"
    icon="link"
    href="/architecture/golden-thread"
  >
    Understand data fusion logic
  </Card>
  <Card
    title="Voice processing"
    icon="microphone"
    href="/api-reference/voice-processing"
  >
    Convert voice alerts to CBS reports
  </Card>
  <Card
    title="Governance"
    icon="shield-check"
    href="/governance/overview"
  >
    Compliance and sovereignty
  </Card>
  <Card
    title="Mobile SDKs"
    icon="mobile"
    href="/integrations/mobile-sdks"
  >
    Download mobile SDKs
  </Card>
</CardGroup>
