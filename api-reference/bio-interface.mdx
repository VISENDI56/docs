---
title: Bio-Interface REST API
description: Mobile health app integration with Golden Thread protocol
---

## Overview

The Bio-Interface REST API enables mobile health applications to integrate with iLuminara-Core using the **Golden Thread protocol** for data fusion from Community-Based Surveillance (CBS) and Electronic Medical Records (EMR).

<Card
  title="Philosophy"
  icon="mobile"
>
  \"Zero-friction data collection with sovereign dignity.\"\n</Card>

## Architecture

```
┌─────────────────────────────────────────────────────────┐
│              MOBILE HEALTH APPS                         │
│  ┌──────────────┐  ┌──────────────┐  ┌──────────────┐ │
│  │   CHV App    │  │  Clinic EMR  │  │  IDSR App    │ │
│  │  (CBS Data)  │  │  (EMR Data)  │  │ (Gov Data)   │ │
│  └──────┬───────┘  └──────┬───────┘  └──────┬───────┘ │
└─────────┼──────────────────┼──────────────────┼─────────┘
          │                  │                  │
          │   Bio-Interface REST API            │
          ▼                  ▼                  ▼
┌─────────────────────────────────────────────────────────┐
│              GOLDEN THREAD PROTOCOL                     │
│  ┌──────────────────────────────────────────────────┐  │
│  │  Data Fusion Engine                              │  │
│  │  - Cross-source verification                     │  │
│  │  - Verification scores (0.0 to 1.0)              │  │
│  │  - Conflict resolution                           │  │
│  └──────────────────────────────────────────────────┘  │
└─────────────────────────────────────────────────────────┘
          │
          ▼
┌─────────────────────────────────────────────────────────┐
│              SOVEREIGN GUARDRAIL                        │
│  - Validates data sovereignty                           │
│  - Enforces consent requirements                        │
│  - Logs audit trail                                     │
└─────────────────────────────────────────────────────────┘
```

## Base URL

```
https://api.iluminara.health/v1
```

For local development:
```
http://localhost:8080/v1
```

## Authentication

All API requests require authentication using JWT tokens:

```bash
curl -X POST https://api.iluminara.health/v1/auth/login \
  -H \"Content-Type: application/json\" \
  -d '{
    \"username\": \"chv_amina_hassan\",
    \"password\": \"secure_password\",
    \"jurisdiction\": \"KDPA_KE\"
  }'
```

**Response:**
```json
{
  \"access_token\": \"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...\",
  \"token_type\": \"Bearer\",
  \"expires_in\": 3600,
  \"jurisdiction\": \"KDPA_KE\",
  \"permissions\": [\"cbs:write\", \"cbs:read\"]
}
```

Use the token in subsequent requests:
```bash
curl -H \"Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...\"
```

## Endpoints

### Submit CBS report

Submit Community-Based Surveillance data from CHV mobile apps.

```
POST /v1/cbs/reports
```

**Headers:**
- `Authorization: Bearer <token>`
- `Content-Type: application/json`

**Request body:**
```json
{
  \"reporter_id\": \"CHV_AMINA_HASSAN\",
  \"location\": {
    \"lat\": 0.0512,
    \"lng\": 40.3129,
    \"name\": \"Dadaab Refugee Camp, Ifo Section\"
  },
  \"timestamp\": \"2025-12-25T10:00:00Z\",
  \"symptoms\": [
    {
      \"symptom\": \"diarrhea\",
      \"severity\": 8,
      \"duration_hours\": 24
    },
    {
      \"symptom\": \"vomiting\",
      \"severity\": 7,
      \"duration_hours\": 12
    }
  ],
  \"patient_demographics\": {
    \"age_group\": \"5-14\",
    \"gender\": \"female\",
    \"pregnant\": false
  },
  \"environmental_factors\": {
    \"water_source\": \"communal_well\",
    \"sanitation_access\": false,
    \"recent_flooding\": true
  },
  \"consent_token\": \"EMERGENCY_CHV_ALERT\"
}
```

**Response (201 Created):**
```json
{
  \"status\": \"success\",
  \"report_id\": \"CBS_20251225_001\",
  \"verification_status\": \"PENDING\",
  \"golden_thread_id\": \"GT_DADAAB_20251225_001\",
  \"alert_level\": \"HIGH\",
  \"recommendations\": [
    \"Suspected cholera - Start ORS immediately\",
    \"Isolate patient to prevent spread\",
    \"Notify district health officer\"
  ],
  \"next_steps\": {
    \"emr_verification\": \"Awaiting clinic confirmation\",
    \"estimated_verification_time\": \"2-4 hours\"
  }
}
```

### Submit EMR record

Submit Electronic Medical Record data from clinic systems.

```
POST /v1/emr/records
```

**Request body:**
```json
{
  \"facility_id\": \"DADAAB_CLINIC_001\",
  \"patient_id\": \"PAT_12345\",
  \"location\": {
    \"lat\": 0.0512,
    \"lng\": 40.3129,
    \"name\": \"Dadaab Refugee Camp, Ifo Section\"
  },
  \"timestamp\": \"2025-12-25T10:30:00Z\",
  \"diagnosis\": \"cholera\",
  \"symptoms\": [\"diarrhea\", \"vomiting\", \"dehydration\"],
  \"lab_results\": {
    \"rapid_test\": \"positive\",
    \"culture\": \"pending\"
  },
  \"treatment\": {
    \"ors_administered\": true,
    \"iv_fluids\": true,
    \"antibiotics\": \"doxycycline\"
  },
  \"consent_token\": \"INFORMED_CONSENT_12345\"
}
```

**Response (201 Created):**
```json
{
  \"status\": \"success\",
  \"record_id\": \"EMR_20251225_001\",
  \"golden_thread_id\": \"GT_DADAAB_20251225_001\",
  \"verification_status\": \"CONFIRMED\",
  \"verification_score\": 1.0,
  \"matched_cbs_reports\": [\"CBS_20251225_001\"],
  \"alert_level\": \"CRITICAL\",
  \"outbreak_risk\": 0.87
}
```

### Query Golden Thread

Retrieve fused data from the Golden Thread protocol.

```
GET /v1/golden-thread/{golden_thread_id}
```

**Response (200 OK):**
```json
{
  \"golden_thread_id\": \"GT_DADAAB_20251225_001\",
  \"verification_score\": 1.0,
  \"verification_status\": \"CONFIRMED\",
  \"data_sources\": {
    \"cbs\": {
      \"report_id\": \"CBS_20251225_001\",
      \"timestamp\": \"2025-12-25T10:00:00Z\",
      \"reporter\": \"CHV_AMINA_HASSAN\"
    },
    \"emr\": {
      \"record_id\": \"EMR_20251225_001\",
      \"timestamp\": \"2025-12-25T10:30:00Z\",
      \"facility\": \"DADAAB_CLINIC_001\"
    }
  },
  \"fused_data\": {
    \"location\": {
      \"lat\": 0.0512,
      \"lng\": 40.3129,
      \"name\": \"Dadaab Refugee Camp, Ifo Section\"
    },
    \"diagnosis\": \"cholera\",
    \"symptoms\": [\"diarrhea\", \"vomiting\", \"dehydration\"],
    \"severity\": 9,
    \"alert_level\": \"CRITICAL\",
    \"outbreak_risk\": 0.87
  },
  \"timeline\": [
    {
      \"timestamp\": \"2025-12-25T10:00:00Z\",
      \"event\": \"CBS report submitted\",
      \"source\": \"CHV_AMINA_HASSAN\"
    },
    {
      \"timestamp\": \"2025-12-25T10:30:00Z\",
      \"event\": \"EMR record submitted\",
      \"source\": \"DADAAB_CLINIC_001\"
    },
    {
      \"timestamp\": \"2025-12-25T10:31:00Z\",
      \"event\": \"Cross-source verification completed\",
      \"verification_score\": 1.0
    }
  ]
}
```

## Verification logic

The Golden Thread uses cross-source verification to establish confidence:

```
IF cbs.location == emr.location AND |cbs.timestamp - emr.timestamp| < 24h
    THEN verification_score = 1.0 (CONFIRMED)
    ELSE score degrades based on conflict severity
```

### Verification scores

| Score | Status | Description |\n|-------|--------|-------------|\n| 1.0 | CONFIRMED | Multiple sources agree on location and time |\n| 0.7-0.9 | PROBABLE | Partial agreement with minor conflicts |\n| 0.4-0.6 | POSSIBLE | Significant conflicts but plausible |\n| 0.0-0.3 | UNVERIFIED | Major conflicts or single source only |\n\n## Mobile SDK

### Android (Kotlin)

```kotlin\nimport com.iluminara.sdk.BiointerfaceClient\nimport com.iluminara.sdk.models.CBSReport\n\n// Initialize client\nval client = BiointerfaceClient(\n    baseUrl = \"https://api.iluminara.health/v1\",\n    apiKey = \"your_api_key\",\n    jurisdiction = \"KDPA_KE\"\n)\n\n// Submit CBS report\nval report = CBSReport(\n    reporterId = \"CHV_AMINA_HASSAN\",\n    location = Location(0.0512, 40.3129, \"Dadaab\"),\n    symptoms = listOf(\n        Symptom(\"diarrhea\", severity = 8, durationHours = 24),\n        Symptom(\"vomiting\", severity = 7, durationHours = 12)\n    ),\n    consentToken = \"EMERGENCY_CHV_ALERT\"\n)\n\nclient.submitCBSReport(report) { result ->\n    when (result) {\n        is Success -> {\n            println(\"Report submitted: ${result.data.reportId}\")\n            println(\"Alert level: ${result.data.alertLevel}\")\n        }\n        is Error -> {\n            println(\"Error: ${result.error.message}\")\n        }\n    }\n}\n```

### iOS (Swift)

```swift\nimport ILuminaraSDK\n\n// Initialize client\nlet client = BiointerfaceClient(\n    baseURL: \"https://api.iluminara.health/v1\",\n    apiKey: \"your_api_key\",\n    jurisdiction: \"KDPA_KE\"\n)\n\n// Submit CBS report\nlet report = CBSReport(\n    reporterId: \"CHV_AMINA_HASSAN\",\n    location: Location(lat: 0.0512, lng: 40.3129, name: \"Dadaab\"),\n    symptoms: [\n        Symptom(name: \"diarrhea\", severity: 8, durationHours: 24),\n        Symptom(name: \"vomiting\", severity: 7, durationHours: 12)\n    ],\n    consentToken: \"EMERGENCY_CHV_ALERT\"\n)\n\nclient.submitCBSReport(report) { result in\n    switch result {\n    case .success(let response):\n        print(\"Report submitted: \\(response.reportId)\")\n        print(\"Alert level: \\(response.alertLevel)\")\n    case .failure(let error):\n        print(\"Error: \\(error.localizedDescription)\")\n    }\n}\n```

## Offline support

The Bio-Interface API supports offline operation with queue-based sync:

```kotlin\n// Enable offline mode\nclient.enableOfflineMode()\n\n// Submit report (queued if offline)\nclient.submitCBSReport(report) { result ->\n    when (result) {\n        is Queued -> {\n            println(\"Report queued for sync: ${result.queueId}\")\n        }\n        is Success -> {\n            println(\"Report submitted: ${result.data.reportId}\")\n        }\n    }\n}\n\n// Sync when connectivity returns\nclient.syncQueuedReports { syncResult ->\n    println(\"Synced ${syncResult.successCount} reports\")\n    println(\"Failed ${syncResult.failureCount} reports\")\n}\n```

## Sovereignty compliance

All API requests enforce data sovereignty:

```python\nfrom governance_kernel.vector_ledger import SovereignGuardrail\n\nguardrail = SovereignGuardrail()\n\n# Validate CBS report submission\nguardrail.validate_action(\n    action_type='Data_Transfer',\n    payload={\n        'data_type': 'PHI',\n        'destination': 'Local_Node',\n        'consent_token': 'EMERGENCY_CHV_ALERT'\n    },\n    jurisdiction='KDPA_KE'\n)\n```

## Rate limits

| Endpoint | Rate Limit | Burst |\n|----------|------------|-------|\n| `/v1/cbs/reports` | 100 req/min | 200 |\n| `/v1/emr/records` | 50 req/min | 100 |\n| `/v1/golden-thread/*` | 200 req/min | 400 |\n\n## Error codes

| Code | HTTP Status | Description |\n|------|-------------|-------------|\n| `invalid_token` | 401 | Authentication token invalid or expired |\n| `insufficient_permissions` | 403 | User lacks required permissions |\n| `sovereignty_violation` | 403 | Action violates data sovereignty rules |\n| `missing_consent` | 400 | Consent token required but not provided |\n| `invalid_location` | 400 | Location coordinates invalid |\n| `rate_limit_exceeded` | 429 | Too many requests |\n\n## Next steps\n\n<CardGroup cols={2}>\n  <Card\n    title=\"Golden Thread\"\n    icon=\"link\"\n    href=\"/architecture/golden-thread\"\n  >\n    Understand data fusion logic\n  </Card>\n  <Card\n    title=\"Voice processing\"\n    icon=\"microphone\"\n    href=\"/api-reference/voice-processing\"\n  >\n    Process voice alerts from CHVs\n  </Card>\n  <Card\n    title=\"Governance\"\n    icon=\"shield-check\"\n    href=\"/governance/overview\"\n  >\n    Configure compliance enforcement\n  </Card>\n  <Card\n    title=\"Deployment\"\n    icon=\"rocket\"\n    href=\"/deployment/overview\"\n  >\n    Deploy to production\n  </Card>\n</CardGroup>\n