---
title: Bio-Interface REST API
description: Mobile health app integration with Golden Thread data fusion
---

## Overview

The Bio-Interface REST API enables mobile health applications to integrate with iLuminara-Core using the **Golden Thread protocol** to fuse data streams from CBS (Community-Based Surveillance) and EMR (Electronic Medical Records).

<Card
  title="Philosophy"
  icon="mobile"
>
  "Zero-friction data collection. Maximum dignity preservation."
</Card>

## Architecture

```
┌─────────────────────────────────────────────────────────────┐
│                  MOBILE HEALTH APPS                          │
│  ┌──────────────┐  ┌──────────────┐  ┌──────────────┐     │
│  │   CHV App    │  │  Patient App │  │  Clinic App  │     │
│  └──────────────┘  └──────────────┘  └──────────────┘     │
└─────────────────────────────────────────────────────────────┘
                          │
                          │ HTTPS/TLS 1.3
                          ▼
┌─────────────────────────────────────────────────────────────┐
│                  BIO-INTERFACE API                           │
│  ┌──────────────────────────────────────────────────────┐  │
│  │  /api/v1/health-record                               │  │
│  │  /api/v1/symptom-report                              │  │
│  │  /api/v1/voice-alert                                 │  │
│  │  /api/v1/consent                                     │  │
│  └──────────────────────────────────────────────────────┘  │
└─────────────────────────────────────────────────────────────┘
                          │
                          │ Golden Thread Fusion
                          ▼
┌─────────────────────────────────────────────────────────────┐
│                  GOLDEN THREAD ENGINE                        │
│  ┌──────────────────────────────────────────────────────┐  │
│  │  CBS + EMR + IDSR Data Fusion                        │  │
│  │  Verification Score Calculation                       │  │
│  │  Sovereignty Validation                               │  │
│  └──────────────────────────────────────────────────────┘  │
└─────────────────────────────────────────────────────────────┘
```

## Core endpoints

### POST /api/v1/health-record

Submit health record from clinic or hospital.

**Request:**
```json
{
  "patient_id": "PAT_12345",
  "location": {
    "lat": 0.0512,
    "lng": 40.3129,
    "name": "Dadaab Clinic"
  },
  "diagnosis": "cholera",
  "symptoms": ["diarrhea", "vomiting", "dehydration"],
  "severity": 9,
  "timestamp": "2025-12-28T10:00:00Z",
  "consent_token": "CONSENT_TOKEN_ABC123",
  "source": "EMR"
}
```

**Response:**
```json
{
  "status": "success",
  "record_id": "REC_67890",
  "verification_score": 1.0,
  "verification_status": "CONFIRMED",
  "golden_thread_id": "GT_11223",
  "compliance_status": "APPROVED",
  "timestamp": "2025-12-28T10:00:01Z"
}
```

### POST /api/v1/symptom-report

Submit symptom report from CHV or patient.

**Request:**
```json
{
  "reporter_id": "CHV_AMINA_HASSAN",
  "location": {
    "lat": 0.0512,
    "lng": 40.3129,
    "name": "Ifo Camp"
  },
  "symptoms": ["fever", "cough"],
  "severity": 6,
  "patient_count": 1,
  "timestamp": "2025-12-28T09:45:00Z",
  "consent_token": "CONSENT_TOKEN_XYZ789",
  "source": "CBS"
}
```

**Response:**
```json
{
  "status": "success",
  "report_id": "REP_54321",
  "verification_score": 0.8,
  "verification_status": "PROBABLE",
  "alert_level": "MEDIUM",
  "recommendations": [
    "Monitor for additional cases",
    "Notify district health officer if cases increase"
  ],
  "timestamp": "2025-12-28T09:45:01Z"
}
```

### POST /api/v1/voice-alert

Process voice alert from CHV.

**Request:**
```
Content-Type: audio/wav
Authorization: Bearer <token>

[Binary audio data]
```

**Response:**
```json
{
  "status": "success",
  "transcription": "Patient reporting severe watery diarrhea",
  "symptoms": ["diarrhea", "dehydration"],
  "severity": 9,
  "alert_level": "CRITICAL",
  "location": {
    "lat": 0.0512,
    "lng": 40.3129
  },
  "recommendations": [
    "IMMEDIATE: Suspected cholera. Start ORS immediately.",
    "Isolate patient to prevent spread"
  ]
}
```

### POST /api/v1/consent

Manage patient consent.

**Request:**
```json
{
  "patient_id": "PAT_12345",
  "consent_scope": ["diagnosis", "treatment", "public_health_surveillance"],
  "consent_given": true,
  "expiration_days": 365,
  "jurisdiction": "KDPA_KE"
}
```

**Response:**
```json
{
  "status": "success",
  "consent_token": "CONSENT_TOKEN_ABC123",
  "expires_at": "2026-12-28T10:00:00Z",
  "compliance_status": "APPROVED"
}
```

## Golden Thread integration

All Bio-Interface submissions automatically trigger Golden Thread fusion:

```python
from edge_node.sync_protocol.golden_thread import GoldenThread

gt = GoldenThread()

# Fuse CBS and EMR signals
fused = gt.fuse_data_streams(
    cbs_signal={
        'location': 'Dadaab',
        'symptom': 'diarrhea',
        'timestamp': '2025-12-28T09:45:00Z',
        'source': 'CHV_AMINA_HASSAN'
    },
    emr_record={
        'location': 'Dadaab',
        'diagnosis': 'cholera',
        'timestamp': '2025-12-28T10:00:00Z',
        'source': 'Dadaab_Clinic'
    },
    patient_id='PAT_12345'
)

# Verification score: 1.0 (CONFIRMED)
# Both sources agree on location and time (<24h delta)
```

## Authentication

### API key authentication

```bash
curl -X POST https://api.iluminara.health/v1/health-record \
  -H "Authorization: Bearer YOUR_API_KEY" \
  -H "Content-Type: application/json" \
  -d '{"patient_id": "PAT_12345", ...}'
```

### OAuth 2.0

```python
import requests

# Get access token
token_response = requests.post(
    'https://auth.iluminara.health/oauth/token',
    data={
        'grant_type': 'client_credentials',
        'client_id': 'YOUR_CLIENT_ID',
        'client_secret': 'YOUR_CLIENT_SECRET'
    }
)

access_token = token_response.json()['access_token']

# Make API request
response = requests.post(
    'https://api.iluminara.health/v1/health-record',
    headers={'Authorization': f'Bearer {access_token}'},
    json={'patient_id': 'PAT_12345', ...}
)
```

## Mobile SDK

### Android SDK

```kotlin
import health.iluminara.sdk.ILuminaraClient

val client = ILuminaraClient.Builder()
    .apiKey("YOUR_API_KEY")
    .environment(Environment.PRODUCTION)
    .build()

// Submit health record
val record = HealthRecord(
    patientId = "PAT_12345",
    location = Location(0.0512, 40.3129, "Dadaab Clinic"),
    diagnosis = "cholera",
    symptoms = listOf("diarrhea", "vomiting"),
    severity = 9
)

client.submitHealthRecord(record) { result ->
    when (result) {
        is Success -> println("Record submitted: ${result.data.recordId}")
        is Error -> println("Error: ${result.error}")
    }
}
```

### iOS SDK

```swift
import ILuminaraSDK

let client = ILuminaraClient(apiKey: "YOUR_API_KEY")

// Submit symptom report
let report = SymptomReport(
    reporterId: "CHV_AMINA_HASSAN",
    location: Location(lat: 0.0512, lng: 40.3129, name: "Ifo Camp"),
    symptoms: ["fever", "cough"],
    severity: 6
)

client.submitSymptomReport(report) { result in
    switch result {
    case .success(let response):
        print("Report submitted: \\(response.reportId)")
    case .failure(let error):
        print("Error: \\(error)")
    }
}
```

### Flutter SDK

```dart
import 'package:iluminara_sdk/iluminara_sdk.dart';

final client = ILuminaraClient(apiKey: 'YOUR_API_KEY');

// Submit voice alert
final audioFile = File('path/to/audio.wav');
final result = await client.submitVoiceAlert(
  audioFile: audioFile,
  location: Location(lat: 0.0512, lng: 40.3129),
);

if (result.isSuccess) {
  print('Alert submitted: ${result.data.transcription}');
} else {
  print('Error: ${result.error}');
}
```

## Offline support

The Bio-Interface API supports offline operation with automatic sync:

```python
from edge_node.sync_protocol.offline_queue import OfflineQueue

queue = OfflineQueue()

# Queue submission while offline
queue.add({
    'endpoint': '/api/v1/symptom-report',
    'data': {...},
    'priority': 'HIGH'
})

# Automatic sync when connectivity returns
queue.sync_when_online()
```

## Rate limits

| Endpoint | Rate Limit | Burst |
|----------|------------|-------|
| /health-record | 100/min | 200 |
| /symptom-report | 200/min | 400 |
| /voice-alert | 10/min | 20 |
| /consent | 50/min | 100 |

## Error codes

| Code | HTTP Status | Description |
|------|-------------|-------------|
| `invalid_consent` | 403 | Consent token invalid or expired |
| `sovereignty_violation` | 403 | Action violates data sovereignty rules |
| `missing_location` | 400 | Location required but not provided |
| `invalid_severity` | 400 | Severity must be 0-10 |
| `rate_limit_exceeded` | 429 | Too many requests |

## Next steps

<CardGroup cols={2}>
  <Card
    title="Golden Thread"
    icon="link"
    href="/architecture/golden-thread"
  >
    Understand data fusion logic
  </Card>
  <Card
    title="Voice processing"
    icon="microphone"
    href="/api-reference/voice-processing"
  >
    Process voice alerts
  </Card>
  <Card
    title="Governance"
    icon="shield-check"
    href="/governance/overview"
  >
    Configure compliance
  </Card>
  <Card
    title="Deploy"
    icon="rocket"
    href="/deployment/overview"
  >
    Deploy to production
  </Card>
</CardGroup>
