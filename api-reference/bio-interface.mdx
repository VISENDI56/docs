---
title: Bio-Interface REST API
description: Mobile health app integration with Golden Thread protocol
---

## Overview

The Bio-Interface REST API enables mobile health applications to integrate with iLuminara-Core using the Golden Thread protocol for data fusion and verification.

<Card
  title="Philosophy"
  icon="mobile"
>
  "Zero-friction data collection with sovereign dignity preservation"
</Card>

## Architecture

```
┌─────────────────────────────────────┐
│   MOBILE HEALTH APPS                │
│  - Community Health Volunteer       │
│  - Patient Self-Reporting           │
│  - IoT Sensor Integration           │
└─────────────────────────────────────┘
              │
              │ HTTPS/TLS 1.3
              ▼
┌─────────────────────────────────────┐
│   BIO-INTERFACE REST API            │
│  - Authentication                   │
│  - Data Validation                  │
│  - Golden Thread Fusion             │
└─────────────────────────────────────┘
              │
              │ Validated Data
              ▼
┌─────────────────────────────────────┐
│   GOLDEN THREAD ENGINE              │
│  - CBS Signal Creation              │
│  - EMR Correlation                  │
│  - Verification Scoring             │
└─────────────────────────────────────┘
              │
              │ Fused Timeline
              ▼
┌─────────────────────────────────────┐
│   SOVEREIGNGUARDRAIL                │
│  - Compliance Validation            │
│  - Audit Trail                      │
│  - Sovereignty Enforcement          │
└─────────────────────────────────────┘
```

## Base URL

```
https://api.iluminara.health/v1
```

For local development:
```
http://localhost:8080/v1
```

## Authentication

### API Key authentication

```bash
curl -X POST https://api.iluminara.health/v1/health-report \
  -H "Authorization: Bearer YOUR_API_KEY" \
  -H "Content-Type: application/json" \
  -d '{...}'
```

### OAuth 2.0 (recommended for production)

```bash
# Get access token
curl -X POST https://api.iluminara.health/v1/oauth/token \
  -H "Content-Type: application/x-www-form-urlencoded" \
  -d "grant_type=client_credentials&client_id=YOUR_CLIENT_ID&client_secret=YOUR_CLIENT_SECRET"

# Use access token
curl -X POST https://api.iluminara.health/v1/health-report \
  -H "Authorization: Bearer ACCESS_TOKEN" \
  -H "Content-Type: application/json" \
  -d '{...}'
```

## Core endpoints

### Submit health report

Submit a health report from a mobile app or CHV device.

**Endpoint:** `POST /v1/health-report`

**Request:**

```json
{
  "reporter": {
    "id": "CHV_AMINA_HASSAN",
    "type": "community_health_volunteer",
    "location": {
      "lat": 0.0512,
      "lng": 40.3129,
      "name": "Dadaab Refugee Camp"
    }
  },
  "patient": {
    "id": "PATIENT_12345",
    "age": 35,
    "gender": "female",
    "consent_token": "CONSENT_TOKEN_ABC123"
  },
  "symptoms": [
    {
      "name": "fever",
      "severity": 8,
      "duration_hours": 24,
      "notes": "High fever, 38.5°C"
    },
    {
      "name": "diarrhea",
      "severity": 9,
      "duration_hours": 12,
      "notes": "Watery diarrhea, severe dehydration"
    },
    {
      "name": "vomiting",
      "severity": 7,
      "duration_hours": 8
    }
  ],
  "vital_signs": {
    "temperature_celsius": 38.5,
    "heart_rate_bpm": 95,
    "blood_pressure": "110/70",
    "respiratory_rate": 22
  },
  "timestamp": "2025-12-23T15:00:00Z",
  "source": "mobile_app_v2.1.0"
}
```

**Response (200 OK):**

```json
{
  "status": "success",
  "report_id": "RPT_789ABC",
  "timestamp": "2025-12-23T15:00:01Z",
  "golden_thread": {
    "cbs_signal_created": true,
    "verification_score": 0.85,
    "verification_status": "PROBABLE",
    "correlated_emr_records": 1
  },
  "alert": {
    "level": "CRITICAL",
    "message": "Suspected cholera - immediate response required",
    "recommendations": [
      "Start ORS immediately",
      "Isolate patient",
      "Notify district health officer"
    ]
  },
  "compliance": {
    "jurisdiction": "KDPA_KE",
    "consent_validated": true,
    "sovereignty_check": "PASSED",
    "audit_id": "AUD_456DEF"
  }
}
```

### Query health reports

Retrieve health reports with filtering and pagination.

**Endpoint:** `GET /v1/health-reports`

**Query parameters:**

| Parameter | Type | Description |
|-----------|------|-------------|
| `location` | string | Filter by location name |
| `lat` | float | Latitude (requires lng) |
| `lng` | float | Longitude (requires lat) |
| `radius_km` | float | Search radius in kilometers |
| `start_date` | ISO 8601 | Start date filter |
| `end_date` | ISO 8601 | End date filter |
| `alert_level` | string | LOW, MEDIUM, HIGH, CRITICAL |
| `verification_status` | string | CONFIRMED, PROBABLE, POSSIBLE, UNVERIFIED |
| `limit` | integer | Results per page (default: 50, max: 500) |
| `offset` | integer | Pagination offset |

**Example:**

```bash
curl -X GET "https://api.iluminara.health/v1/health-reports?location=Dadaab&alert_level=CRITICAL&limit=10" \
  -H "Authorization: Bearer YOUR_API_KEY"
```

**Response:**

```json
{
  "status": "success",
  "total": 47,
  "limit": 10,
  "offset": 0,
  "reports": [
    {
      "report_id": "RPT_789ABC",
      "timestamp": "2025-12-23T15:00:00Z",
      "location": "Dadaab Refugee Camp",
      "alert_level": "CRITICAL",
      "verification_score": 0.85,
      "symptoms": ["fever", "diarrhea", "vomiting"]
    }
  ]
}
```

### Submit voice alert

Process voice alerts from CHVs (integrates with FRENASA Engine).

**Endpoint:** `POST /v1/voice-alert`

**Headers:**
- `Content-Type: audio/wav` or `multipart/form-data`
- `Authorization: Bearer YOUR_API_KEY`

**Request:**

```bash
curl -X POST https://api.iluminara.health/v1/voice-alert \
  -H "Authorization: Bearer YOUR_API_KEY" \
  -H "Content-Type: audio/wav" \
  -H "X-Reporter-ID: CHV_AMINA_HASSAN" \
  -H "X-Location-Lat: 0.0512" \
  -H "X-Location-Lng: 40.3129" \
  --data-binary @voice-alert.wav
```

**Response:**

```json
{
  "status": "success",
  "report_id": "RPT_VOICE_123",
  "transcription": "Patient reporting severe watery diarrhea and vomiting",
  "language_detected": "swahili",
  "symptoms_extracted": ["diarrhea", "vomiting"],
  "alert_level": "CRITICAL",
  "golden_thread": {
    "cbs_signal_created": true,
    "verification_score": 0.75
  }
}
```

### Get outbreak predictions

Retrieve outbreak predictions for a location.

**Endpoint:** `GET /v1/outbreak-predictions`

**Query parameters:**

| Parameter | Type | Required | Description |
|-----------|------|----------|-------------|
| `location` | string | Yes | Location name |
| `disease` | string | No | Filter by disease |
| `horizon_days` | integer | No | Forecast horizon (default: 14) |

**Example:**

```bash
curl -X GET "https://api.iluminara.health/v1/outbreak-predictions?location=Dadaab&disease=cholera&horizon_days=7" \
  -H "Authorization: Bearer YOUR_API_KEY"
```

**Response:**

```json
{
  "status": "success",
  "location": "Dadaab",
  "disease": "cholera",
  "current_cases": 47,
  "forecast": [
    {"date": "2025-12-24", "predicted_cases": 55, "confidence_interval": [48, 62]},
    {"date": "2025-12-25", "predicted_cases": 68, "confidence_interval": [58, 78]},
    {"date": "2025-12-26", "predicted_cases": 82, "confidence_interval": [69, 95]}
  ],
  "r_effective": 2.8,
  "alert_level": "CRITICAL",
  "recommendations": [
    "Activate emergency response protocol",
    "Deploy additional ORS supplies",
    "Increase surveillance in surrounding areas"
  ]
}
```

## Golden Thread integration

All health reports automatically create CBS (Community-Based Surveillance) signals:

```python
from edge_node.sync_protocol.golden_thread import GoldenThread

gt = GoldenThread()

# API automatically creates CBS signal
fused = gt.fuse_data_streams(
    cbs_signal={
        'location': request.data['reporter']['location'],
        'symptom': request.data['symptoms'][0]['name'],
        'timestamp': request.data['timestamp'],
        'source': 'mobile_app'
    },
    patient_id=request.data['patient']['id']
)

# Verification score determines alert level
if fused.verification_score >= 0.8:
    alert_level = "CONFIRMED"
elif fused.verification_score >= 0.6:
    alert_level = "PROBABLE"
else:
    alert_level = "POSSIBLE"
```

## Sovereignty compliance

All API requests are validated by SovereignGuardrail:

```python
from governance_kernel.vector_ledger import SovereignGuardrail

guardrail = SovereignGuardrail()

# Validate data submission
guardrail.validate_action(
    action_type='Data_Processing',
    payload={
        'data_type': 'PHI',
        'processing_location': 'Edge_Node',
        'consent_token': request.data['patient']['consent_token'],
        'consent_scope': 'public_health_surveillance'
    },
    jurisdiction='KDPA_KE'
)
```

## Rate limiting

| Tier | Requests/minute | Requests/day |
|------|-----------------|--------------|
| Free | 60 | 10,000 |
| Standard | 600 | 100,000 |
| Enterprise | Unlimited | Unlimited |

Rate limit headers:
```
X-RateLimit-Limit: 60
X-RateLimit-Remaining: 45
X-RateLimit-Reset: 1703347200
```

## Error handling

### Error response format

```json
{
  "status": "error",
  "error_code": "CONSENT_REQUIRED",
  "message": "Patient consent token is required for PHI processing",
  "details": {
    "field": "patient.consent_token",
    "requirement": "GDPR Art. 6, KDPA §37"
  },
  "timestamp": "2025-12-23T15:00:00Z"
}
```

### Common error codes

| Code | HTTP Status | Description |
|------|-------------|-------------|
| `INVALID_API_KEY` | 401 | API key is invalid or expired |
| `CONSENT_REQUIRED` | 403 | Patient consent token required |
| `SOVEREIGNTY_VIOLATION` | 403 | Action violates data sovereignty rules |
| `RATE_LIMIT_EXCEEDED` | 429 | Too many requests |
| `INVALID_LOCATION` | 400 | Location coordinates invalid |
| `MISSING_REQUIRED_FIELD` | 400 | Required field missing |

## Mobile SDK

### Android SDK

```kotlin
import health.iluminara.sdk.ILuminaraClient
import health.iluminara.sdk.models.HealthReport

val client = ILuminaraClient.Builder()
    .apiKey("YOUR_API_KEY")
    .baseUrl("https://api.iluminara.health/v1")
    .build()

// Submit health report
val report = HealthReport.Builder()
    .reporter(Reporter("CHV_AMINA_HASSAN", ReporterType.CHV))
    .patient(Patient("PATIENT_12345", consentToken = "CONSENT_ABC"))
    .addSymptom(Symptom("fever", severity = 8, durationHours = 24))
    .addSymptom(Symptom("diarrhea", severity = 9, durationHours = 12))
    .location(Location(0.0512, 40.3129, "Dadaab"))
    .build()

client.submitHealthReport(report) { result ->
    when (result) {
        is Success -> println("Report submitted: ${result.data.reportId}")
        is Error -> println("Error: ${result.error.message}")
    }
}
```

### iOS SDK

```swift
import ILuminaraSDK

let client = ILuminaraClient(
    apiKey: "YOUR_API_KEY",
    baseURL: "https://api.iluminara.health/v1"
)

// Submit health report
let report = HealthReport(
    reporter: Reporter(id: "CHV_AMINA_HASSAN", type: .chv),
    patient: Patient(id: "PATIENT_12345", consentToken: "CONSENT_ABC"),
    symptoms: [
        Symptom(name: "fever", severity: 8, durationHours: 24),
        Symptom(name: "diarrhea", severity: 9, durationHours: 12)
    ],
    location: Location(lat: 0.0512, lng: 40.3129, name: "Dadaab")
)

client.submitHealthReport(report) { result in
    switch result {
    case .success(let response):
        print("Report submitted: \(response.reportId)")
    case .failure(let error):
        print("Error: \(error.localizedDescription)")
    }
}
```

## Testing

### Test environment

```
https://api-test.iluminara.health/v1
```

### Test API key

```
TEST_API_KEY_ABC123DEF456
```

### Example test request

```bash
curl -X POST https://api-test.iluminara.health/v1/health-report \
  -H "Authorization: Bearer TEST_API_KEY_ABC123DEF456" \
  -H "Content-Type: application/json" \
  -d '{
    "reporter": {"id": "TEST_CHV", "type": "community_health_volunteer"},
    "patient": {"id": "TEST_PATIENT", "consent_token": "TEST_CONSENT"},
    "symptoms": [{"name": "fever", "severity": 5}],
    "timestamp": "2025-12-23T15:00:00Z"
  }'
```

## Next steps

<CardGroup cols={2}>
  <Card
    title="Golden Thread"
    icon="link"
    href="/architecture/golden-thread"
  >
    Understand data fusion logic
  </Card>
  <Card
    title="Voice processing"
    icon="microphone"
    href="/api-reference/voice-processing"
  >
    Integrate voice alerts
  </Card>
  <Card
    title="Governance"
    icon="shield-check"
    href="/governance/overview"
  >
    Configure compliance
  </Card>
  <Card
    title="Mobile SDKs"
    icon="mobile"
    href="/api-reference/mobile-sdks"
  >
    Download mobile SDKs
  </Card>
</CardGroup>
