---
title: Bio-Interface REST API
description: Mobile health app integration with Golden Thread protocol
---

## Overview

The Bio-Interface REST API enables mobile health applications to integrate with iLuminara-Core using the Golden Thread protocol for data fusion. It provides endpoints for Community Health Volunteers (CHVs), clinics, and IoT devices to submit health data that automatically fuses with EMR and IDSR streams.

<Card
  title="Golden Thread Integration"
  icon="link"
>
  All data submitted through the Bio-Interface automatically becomes part of the Golden Thread data fusion engine, creating verified timelines from multiple sources.
</Card>

## Architecture

```
┌─────────────────────────────────────────────────────────┐
│              MOBILE HEALTH APPS                         │
│  ┌──────────────┐  ┌──────────────┐  ┌──────────────┐ │
│  │   CHV App    │  │  Clinic App  │  │   IoT App    │ │
│  │  (Android)   │  │   (Web)      │  │  (Sensors)   │ │
│  └──────────────┘  └──────────────┘  └──────────────┘ │
└─────────────────────────────────────────────────────────┘
                        │
                        │ HTTPS / TLS 1.3
                        ▼
┌─────────────────────────────────────────────────────────┐
│              BIO-INTERFACE REST API                     │
│  ┌──────────────────────────────────────────────────┐  │
│  │  POST /api/v1/cbs/submit                         │  │
│  │  POST /api/v1/emr/submit                         │  │
│  │  POST /api/v1/iot/submit                         │  │
│  │  GET  /api/v1/sync/status                        │  │
│  └──────────────────────────────────────────────────┘  │
└─────────────────────────────────────────────────────────┘
                        │
                        │ Golden Thread Protocol
                        ▼
┌─────────────────────────────────────────────────────────┐
│              GOLDEN THREAD FUSION ENGINE                │
│  - Merges CBS + EMR + IDSR streams                      │
│  - Calculates verification scores                       │
│  - Creates verified timelines                           │
└─────────────────────────────────────────────────────────┘
                        │
                        ▼
┌─────────────────────────────────────────────────────────┐
│              SOVEREIGNGUARDRAIL VALIDATION              │
│  - Enforces data sovereignty                            │
│  - Validates consent tokens                             │
│  - Logs to tamper-proof audit trail                    │
└─────────────────────────────────────────────────────────┘
```

## Authentication

### API key authentication

```bash
# Include API key in header
curl -X POST https://api.iluminara.health/api/v1/cbs/submit \
  -H "Authorization: Bearer YOUR_API_KEY" \
  -H "Content-Type: application/json" \
  -d @payload.json
```

### OAuth 2.0 (recommended for production)

```python
import requests
from google.oauth2 import service_account

# Load service account credentials
credentials = service_account.Credentials.from_service_account_file(
    'service-account.json',
    scopes=['https://www.googleapis.com/auth/cloud-platform']
)

# Get access token
auth_req = google.auth.transport.requests.Request()
credentials.refresh(auth_req)
access_token = credentials.token

# Make authenticated request
response = requests.post(
    'https://api.iluminara.health/api/v1/cbs/submit',
    headers={'Authorization': f'Bearer {access_token}'},
    json=payload
)
```

## Endpoints

### Submit CBS report

Submit Community-Based Surveillance data from CHVs.

**Endpoint:** `POST /api/v1/cbs/submit`

**Request:**

```json
{
  "chv_id": "CHV_AMINA_HASSAN",
  "patient_id": "PAT_12345",
  "location": {
    "lat": 0.0512,
    "lng": 40.3129,
    "name": "Dadaab Refugee Camp"
  },
  "timestamp": "2025-12-23T10:30:00Z",
  "symptoms": [
    {
      "name": "diarrhea",
      "severity": 8,
      "duration_hours": 12
    },
    {
      "name": "vomiting",
      "severity": 7,
      "duration_hours": 8
    }
  ],
  "vital_signs": {
    "temperature": 38.5,
    "heart_rate": 95,
    "respiratory_rate": 22
  },
  "suspected_disease": "cholera",
  "consent_token": "CONSENT_TOKEN_ABC123",
  "metadata": {
    "source": "mobile_app",
    "app_version": "2.1.0",
    "device_id": "DEVICE_789"
  }
}
```

**Response:**

```json
{
  "status": "success",
  "cbs_id": "CBS_20251223_001",
  "golden_thread_id": "GT_PAT_12345_20251223",
  "verification_score": 0.3,
  "verification_status": "UNVERIFIED",
  "message": "CBS report submitted. Awaiting EMR correlation for verification.",
  "next_steps": [
    "EMR correlation pending",
    "Will auto-verify if EMR received within 24h"
  ],
  "timestamp": "2025-12-23T10:30:15Z"
}
```

### Submit EMR record

Submit Electronic Medical Record data from clinics.

**Endpoint:** `POST /api/v1/emr/submit`

**Request:**

```json
{
  "clinic_id": "CLINIC_DADAAB_001",
  "patient_id": "PAT_12345",
  "location": {
    "lat": 0.0512,
    "lng": 40.3129,
    "name": "Dadaab Health Center"
  },
  "timestamp": "2025-12-23T11:00:00Z",
  "diagnosis": {
    "disease": "cholera",
    "icd_code": "A00.9",
    "confidence": 0.95
  },
  "symptoms": ["diarrhea", "vomiting", "dehydration"],
  "lab_results": {
    "rapid_test": "positive",
    "culture": "pending"
  },
  "treatment": {
    "medications": ["ORS", "Zinc"],
    "admission_required": true
  },
  "consent_token": "CONSENT_TOKEN_ABC123",
  "metadata": {
    "clinician_id": "DR_JOHN_DOE",
    "emr_system": "OpenMRS",
    "emr_version": "3.0.0"
  }
}
```

**Response:**

```json
{
  "status": "success",
  "emr_id": "EMR_20251223_001",
  "golden_thread_id": "GT_PAT_12345_20251223",
  "verification_score": 1.0,
  "verification_status": "CONFIRMED",
  "message": "EMR record submitted and verified with CBS report.",
  "correlation": {
    "cbs_id": "CBS_20251223_001",
    "time_delta_minutes": 30,
    "location_match": true,
    "symptom_match": true
  },
  "timestamp": "2025-12-23T11:00:15Z"
}
```

### Submit IoT sensor data

Submit environmental or wearable sensor data.

**Endpoint:** `POST /api/v1/iot/submit`

**Request:**

```json
{
  "sensor_id": "SENSOR_TEMP_001",
  "location": {
    "lat": 0.0512,
    "lng": 40.3129,
    "name": "Dadaab Water Point 3"
  },
  "timestamp": "2025-12-23T10:00:00Z",
  "sensor_type": "water_quality",
  "readings": {
    "ph": 6.8,
    "turbidity": 12.5,
    "chlorine_residual": 0.3,
    "temperature": 28.5
  },
  "alerts": [
    {
      "type": "low_chlorine",
      "severity": "medium",
      "message": "Chlorine residual below recommended level"
    }
  ],
  "metadata": {
    "device_model": "AquaSense Pro",
    "firmware_version": "1.2.3"
  }
}
```

**Response:**

```json
{
  "status": "success",
  "iot_id": "IOT_20251223_001",
  "risk_assessment": {
    "waterborne_disease_risk": "elevated",
    "risk_score": 0.65,
    "contributing_factors": ["low_chlorine", "high_turbidity"]
  },
  "recommendations": [
    "Increase chlorination at water point",
    "Monitor for diarrheal disease cases in area",
    "Notify WASH team"
  ],
  "timestamp": "2025-12-23T10:00:15Z"
}
```

### Check sync status

Check Golden Thread synchronization status.

**Endpoint:** `GET /api/v1/sync/status`

**Query parameters:**
- `patient_id` (optional) - Filter by patient
- `location` (optional) - Filter by location
- `start_date` (optional) - Start date (ISO 8601)
- `end_date` (optional) - End date (ISO 8601)

**Response:**

```json
{
  "status": "success",
  "sync_status": {
    "total_records": 1247,
    "verified_records": 892,
    "unverified_records": 355,
    "verification_rate": 0.715,
    "last_sync": "2025-12-23T11:00:00Z"
  },
  "data_streams": {
    "cbs": {
      "total": 523,
      "last_update": "2025-12-23T10:55:00Z"
    },
    "emr": {
      "total": 489,
      "last_update": "2025-12-23T11:00:00Z"
    },
    "iot": {
      "total": 235,
      "last_update": "2025-12-23T10:50:00Z"
    }
  },
  "quality_metrics": {
    "cbs_coverage": 0.78,
    "emr_coverage": 0.72,
    "conflict_rate": 0.08
  }
}
```

## Golden Thread protocol

### Verification logic

The Bio-Interface automatically applies Golden Thread verification:

```python
# Verification score calculation
if cbs.location == emr.location and abs(cbs.timestamp - emr.timestamp) < 24h:
    verification_score = 1.0  # CONFIRMED
elif location_match and time_delta < 48h:
    verification_score = 0.7  # PROBABLE
elif symptom_match:
    verification_score = 0.5  # POSSIBLE
else:
    verification_score = 0.3  # UNVERIFIED
```

### Verification statuses

| Score | Status | Description |
|-------|--------|-------------|
| 1.0 | CONFIRMED | Multiple sources agree on location and time |
| 0.7-0.9 | PROBABLE | Partial agreement with minor conflicts |
| 0.4-0.6 | POSSIBLE | Significant conflicts but plausible |
| 0.0-0.3 | UNVERIFIED | Major conflicts or single source only |

## Mobile SDK integration

### Android SDK

```kotlin
// Initialize iLuminara SDK
val iluminara = ILuminaraClient(
    apiKey = "YOUR_API_KEY",
    baseUrl = "https://api.iluminara.health"
)

// Submit CBS report
val cbsReport = CBSReport(
    chvId = "CHV_AMINA_HASSAN",
    patientId = "PAT_12345",
    location = Location(0.0512, 40.3129, "Dadaab"),
    symptoms = listOf(
        Symptom("diarrhea", severity = 8, durationHours = 12),
        Symptom("vomiting", severity = 7, durationHours = 8)
    ),
    consentToken = "CONSENT_TOKEN_ABC123"
)

iluminara.submitCBS(cbsReport) { result ->
    when (result) {
        is Success -> {
            println("✅ CBS submitted: ${result.data.cbsId}")
            println("   Verification: ${result.data.verificationStatus}")
        }
        is Error -> {
            println("❌ Error: ${result.error.message}")
        }
    }
}
```

### iOS SDK

```swift
// Initialize iLuminara SDK
let iluminara = ILuminaraClient(
    apiKey: "YOUR_API_KEY",
    baseUrl: "https://api.iluminara.health"
)

// Submit CBS report
let cbsReport = CBSReport(
    chvId: "CHV_AMINA_HASSAN",
    patientId: "PAT_12345",
    location: Location(lat: 0.0512, lng: 40.3129, name: "Dadaab"),
    symptoms: [
        Symptom(name: "diarrhea", severity: 8, durationHours: 12),
        Symptom(name: "vomiting", severity: 7, durationHours: 8)
    ],
    consentToken: "CONSENT_TOKEN_ABC123"
)

iluminara.submitCBS(cbsReport) { result in
    switch result {
    case .success(let response):
        print("✅ CBS submitted: \(response.cbsId)")
        print("   Verification: \(response.verificationStatus)")
    case .failure(let error):
        print("❌ Error: \(error.localizedDescription)")
    }
}
```

### React Native SDK

```javascript
import { ILuminaraClient } from '@iluminara/react-native-sdk';

// Initialize client
const iluminara = new ILuminaraClient({
  apiKey: 'YOUR_API_KEY',
  baseUrl: 'https://api.iluminara.health'
});

// Submit CBS report
const cbsReport = {
  chvId: 'CHV_AMINA_HASSAN',
  patientId: 'PAT_12345',
  location: {
    lat: 0.0512,
    lng: 40.3129,
    name: 'Dadaab'
  },
  symptoms: [
    { name: 'diarrhea', severity: 8, durationHours: 12 },
    { name: 'vomiting', severity: 7, durationHours: 8 }
  ],
  consentToken: 'CONSENT_TOKEN_ABC123'
};

try {
  const response = await iluminara.submitCBS(cbsReport);
  console.log('✅ CBS submitted:', response.cbsId);
  console.log('   Verification:', response.verificationStatus);
} catch (error) {
  console.error('❌ Error:', error.message);
}
```

## Offline support

The Bio-Interface supports offline operation with automatic sync when connectivity returns.

### Queue submissions offline

```javascript
// Enable offline queue
iluminara.enableOfflineQueue({
  maxQueueSize: 1000,
  syncInterval: 300000  // 5 minutes
});

// Submit while offline (automatically queued)
await iluminara.submitCBS(cbsReport);

// Check queue status
const queueStatus = iluminara.getQueueStatus();
console.log(`Queued: ${queueStatus.pending}, Synced: ${queueStatus.synced}`);

// Manual sync trigger
await iluminara.syncQueue();
```

## Compliance integration

All Bio-Interface submissions enforce sovereignty constraints:

```python
from governance_kernel.vector_ledger import SovereignGuardrail

guardrail = SovereignGuardrail()

# Validate CBS submission
guardrail.validate_action(
    action_type='Data_Transfer',
    payload={
        'data_type': 'PHI',
        'destination': 'Edge_Node',
        'consent_token': 'CONSENT_TOKEN_ABC123',
        'consent_scope': 'public_health_surveillance'
    },
    jurisdiction='KDPA_KE'
)
```

## Rate limits

| Endpoint | Rate Limit | Burst |
|----------|-----------|-------|
| `/api/v1/cbs/submit` | 100 req/min | 200 |
| `/api/v1/emr/submit` | 50 req/min | 100 |
| `/api/v1/iot/submit` | 1000 req/min | 2000 |
| `/api/v1/sync/status` | 10 req/min | 20 |

## Error codes

| Code | HTTP Status | Description |
|------|-------------|-------------|
| `invalid_consent_token` | 403 | Consent token invalid or expired |
| `sovereignty_violation` | 403 | Action violates data sovereignty rules |
| `missing_required_field` | 400 | Required field missing from payload |
| `invalid_location` | 400 | Location coordinates invalid |
| `duplicate_submission` | 409 | Record already submitted |
| `rate_limit_exceeded` | 429 | Too many requests |

## Next steps

<CardGroup cols={2}>
  <Card
    title="Golden Thread"
    icon="link"
    href="/architecture/golden-thread"
  >
    Understand data fusion logic
  </Card>
  <Card
    title="Voice processing"
    icon="microphone"
    href="/api-reference/voice-processing"
  >
    Process voice alerts from CHVs
  </Card>
  <Card
    title="Governance"
    icon="shield-check"
    href="/governance/overview"
  >
    Configure compliance enforcement
  </Card>
  <Card
    title="Deployment"
    icon="rocket"
    href="/deployment/overview"
  >
    Deploy to production
  </Card>
</CardGroup>
