---
title: Bio-Interface API
description: Mobile health apps integration with Golden Thread protocol
---

## Overview

The Bio-Interface API enables mobile health applications to submit Community-Based Surveillance (CBS) signals that are automatically fused with EMR data using the Golden Thread protocol.

<Card
  title="Integration"
  icon="mobile"
>
  Seamless integration with 14M+ African mobile nodes via IP-06: 5DM Bridge
</Card>

## Base URL

```
http://localhost:8080/api/v1
```

For production: `https://api.iluminara.health/v1`

## Authentication

Production deployments require authentication:

```bash
curl -H "Authorization: Bearer YOUR_API_KEY" \
  https://api.iluminara.health/v1/report
```

## Core endpoints

<CardGroup cols={2}>
  <Card title="Submit health report" icon="file-medical">
    POST /report
  </Card>
  <Card title="Get report status" icon="magnifying-glass">
    GET /report/:id
  </Card>
  <Card title="Calculate outbreak risk" icon="chart-line">
    POST /outbreak/risk
  </Card>
  <Card title="Sync Golden Thread" icon="link">
    POST /sync
  </Card>
</CardGroup>

## Submit health report

Submit a health report from a mobile app or CHV device.

### Endpoint

```
POST /api/v1/report
```

### Request body

```json
{
  "patient_id": "optional",
  "location": {
    "lat": 0.4221,
    "lng": 40.2255
  },
  "symptoms": ["fever", "cough", "fatigue"],
  "severity": 7,
  "source": "mobile_app",
  "consent_token": "VALID_CONSENT_TOKEN",
  "metadata": {
    "chv_name": "Amina Hassan",
    "village": "Ifo Camp"
  }
}
```

### Request fields

| Field | Type | Required | Description |
|-------|------|----------|-------------|
| `patient_id` | string | No | Patient identifier (auto-generated if missing) |
| `location` | object | Yes | Geographic coordinates |
| `symptoms` | array | Yes | List of reported symptoms |
| `severity` | integer | Yes | Severity score (0-10) |
| `source` | string | Yes | Data source (mobile_app, chv_device, iot_sensor) |
| `consent_token` | string | No | Consent token (defaults to EMERGENCY_CBS_ALERT) |
| `metadata` | object | No | Additional metadata |

### Response (201 Created)

```json
{
  "status": "success",
  "message": "Health report submitted successfully",
  "data": {
    "report_id": "a3f5c8d2e1b4",
    "timestamp": "2025-12-23T15:00:00.000Z",
    "location": {
      "lat": 0.4221,
      "lng": 40.2255
    },
    "symptoms": ["fever", "cough", "fatigue"],
    "severity": 7
  },
  "verification_score": 0.85,
  "compliance_status": "COMPLIANT (KDPA ยง37, GDPR Art. 9)"
}
```

### Golden Thread integration

The API automatically creates a CBS signal and fuses it with EMR data:

```python
# CBS signal created
cbs_signal = {
    'location': "0.4221,40.2255",
    'symptom': "fever",
    'timestamp': "2025-12-23T15:00:00Z",
    'source': "mobile_app",
    'severity': 7
}

# Fused with Golden Thread
fused_data = golden_thread.fuse_data_streams(
    cbs_signal=cbs_signal,
    patient_id="AUTO_a3f5c8d2e1b4"
)

# Verification score: 0.85 (PROBABLE)
```

## Get report status

Retrieve the status of a submitted health report.

### Endpoint

```
GET /api/v1/report/:report_id
```

### Response (200 OK)

```json
{
  "status": "success",
  "message": "Health report retrieved",
  "data": {
    "report_id": "a3f5c8d2e1b4",
    "status": "processed",
    "verification_score": 0.85,
    "fused_sources": ["CBS", "EMR"]
  },
  "compliance_status": "COMPLIANT"
}
```

## Calculate outbreak risk

Calculate outbreak risk for a specific location and time window.

### Endpoint

```
POST /api/v1/outbreak/risk
```

### Request body

```json
{
  "location": {
    "lat": 0.4221,
    "lng": 40.2255
  },
  "radius_km": 10,
  "time_window_hours": 24
}
```

### Response (200 OK)

```json
{
  "status": "success",
  "message": "Outbreak risk calculated",
  "data": {
    "location": {
      "lat": 0.4221,
      "lng": 40.2255
    },
    "risk_score": 0.65,
    "alert_level": "MEDIUM",
    "radius_km": 10,
    "time_window_hours": 24,
    "recent_reports": 15,
    "verified_cases": 8
  },
  "compliance_status": "COMPLIANT"
}
```

### Alert levels

| Level | Risk Score | Description |
|-------|------------|-------------|
| LOW | 0.0 - 0.3 | Normal surveillance |
| MEDIUM | 0.4 - 0.6 | Increased monitoring |
| HIGH | 0.7 - 0.8 | Active response |
| CRITICAL | 0.9 - 1.0 | Emergency response |

## Sync Golden Thread

Manually sync CBS signals with EMR records using the Golden Thread protocol.

### Endpoint

```
POST /api/v1/sync
```

### Request body

```json
{
  "cbs_signals": [
    {
      "id": "cbs_001",
      "location": "0.4221,40.2255",
      "symptom": "fever",
      "timestamp": "2025-12-23T15:00:00Z",
      "patient_id": "PAT_001"
    }
  ],
  "emr_records": [
    {
      "id": "emr_001",
      "location": "0.4221,40.2255",
      "diagnosis": "malaria",
      "timestamp": "2025-12-23T15:30:00Z",
      "patient_id": "PAT_001"
    }
  ]
}
```

### Response (200 OK)

```json
{
  "status": "success",
  "message": "Synced 1 records",
  "data": {
    "fused_records": [
      {
        "cbs_id": "cbs_001",
        "emr_id": "emr_001",
        "verification_score": 1.0,
        "status": "CONFIRMED"
      }
    ],
    "total_cbs": 1,
    "total_emr": 1,
    "confirmed": 1
  },
  "compliance_status": "COMPLIANT"
}
```

### Verification logic

```
IF cbs.location == emr.location AND |cbs.timestamp - emr.timestamp| < 24h
    THEN verification_score = 1.0 (CONFIRMED)
    ELSE score degrades based on conflict severity
```

## Compliance status

Check the compliance status of the Bio-Interface API.

### Endpoint

```
GET /api/v1/compliance/status
```

### Response (200 OK)

```json
{
  "status": "success",
  "message": "Compliance status retrieved",
  "data": {
    "frameworks": [
      "GDPR Art. 9 (Special Categories)",
      "KDPA ยง37 (Transfer Restrictions)",
      "HIPAA ยง164.312 (Safeguards)",
      "POPIA ยง11 (Lawfulness)"
    ],
    "sovereignty_zone": "africa-south1",
    "data_residency": "ENFORCED",
    "audit_trail": "TAMPER-PROOF",
    "golden_thread": "ACTIVE",
    "crypto_shredder": "ACTIVE"
  },
  "compliance_status": "COMPLIANT (14 global frameworks)"
}
```

## Error responses

### 400 Bad Request

```json
{
  "status": "error",
  "message": "Missing required field: location"
}
```

### 403 Forbidden (Sovereignty Violation)

```json
{
  "status": "error",
  "message": "Sovereignty violation: PHI cannot leave sovereign territory",
  "compliance_status": "NON-COMPLIANT"
}
```

### 404 Not Found

```json
{
  "status": "error",
  "message": "Report not found: a3f5c8d2e1b4"
}
```

### 500 Internal Server Error

```json
{
  "status": "error",
  "message": "Internal error: Database connection failed"
}
```

## Python SDK example

```python
import requests

# Submit health report
response = requests.post(
    'http://localhost:8080/api/v1/report',
    json={
        "location": {"lat": 0.4221, "lng": 40.2255},
        "symptoms": ["fever", "cough"],
        "severity": 7,
        "source": "mobile_app"
    }
)

result = response.json()

if result['status'] == 'success':
    print(f"Report ID: {result['data']['report_id']}")
    print(f"Verification: {result['verification_score']:.2f}")
    print(f"Compliance: {result['compliance_status']}")
```

## Mobile app integration

### Flutter example

```dart
import 'package:http/http.dart' as http;
import 'dart:convert';

Future<void> submitHealthReport() async {
  final response = await http.post(
    Uri.parse('http://localhost:8080/api/v1/report'),
    headers: {'Content-Type': 'application/json'},
    body: jsonEncode({
      'location': {'lat': 0.4221, 'lng': 40.2255},
      'symptoms': ['fever', 'cough'],
      'severity': 7,
      'source': 'mobile_app'
    }),
  );

  if (response.statusCode == 201) {
    final result = jsonDecode(response.body);
    print('Report ID: ${result['data']['report_id']}');
  }
}
```

### React Native example

```javascript
const submitHealthReport = async () => {
  const response = await fetch('http://localhost:8080/api/v1/report', {
    method: 'POST',
    headers: {'Content-Type': 'application/json'},
    body: JSON.stringify({
      location: {lat: 0.4221, lng: 40.2255},
      symptoms: ['fever', 'cough'],
      severity: 7,
      source: 'mobile_app'
    })
  });

  const result = await response.json();
  console.log('Report ID:', result.data.report_id);
};
```

## Rate limiting

Production deployments implement rate limiting:

- **Health reports**: 10 requests/minute per IP
- **Outbreak risk**: 100 requests/minute per IP
- **Sync operations**: 5 requests/minute per IP

## Security

All endpoints enforce sovereignty constraints:

```python
# Sovereignty validation
guardrail.validate_action(
    action_type='Data_Processing',
    payload={
        'data_type': 'PHI',
        'processing_location': 'Edge_Node',
        'source': 'mobile_app'
    },
    jurisdiction='KDPA_KE'
)
```

## Next steps

<CardGroup cols={2}>
  <Card
    title="Golden Thread"
    icon="link"
    href="/architecture/golden-thread"
  >
    Understand data fusion logic
  </Card>
  <Card
    title="Voice processing"
    icon="microphone"
    href="/api-reference/voice-processing"
  >
    Process voice alerts
  </Card>
  <Card
    title="Deploy API"
    icon="rocket"
    href="/deployment/overview"
  >
    Deploy to production
  </Card>
  <Card
    title="Governance"
    icon="shield-check"
    href="/governance/overview"
  >
    Compliance enforcement
  </Card>
</CardGroup>
