---
title: Bio-Interface REST API
description: Mobile health app integration with Golden Thread protocol
---

## Overview

The Bio-Interface REST API enables mobile health applications to integrate with iLuminara-Core using the Golden Thread protocol for data fusion and verification.

<Card
  title="Philosophy"
  icon="mobile"
>
  "Zero-friction data collection with sovereign dignity preservation"
</Card>

## Architecture

```
┌─────────────────────────────────────────┐
│      MOBILE HEALTH APPS                 │
│  - Community Health Volunteer Apps      │
│  - Patient Self-Reporting Apps          │
│  - Clinic Management Systems            │
└─────────────────────────────────────────┘
                  │
                  │ HTTPS/REST
                  ▼
┌─────────────────────────────────────────┐
│      BIO-INTERFACE API                  │
│  - Authentication & Authorization       │
│  - Data Validation                      │
│  - Golden Thread Integration            │
└─────────────────────────────────────────┘
                  │
                  │ Verified Data
                  ▼
┌─────────────────────────────────────────┐
│      GOLDEN THREAD                      │
│  - CBS Signal Creation                  │
│  - EMR Record Fusion                    │
│  - Verification Scoring                 │
└─────────────────────────────────────────┘
                  │
                  │ Fused Timeline
                  ▼
┌─────────────────────────────────────────┐
│      SOVEREIGNGUARDRAIL                 │
│  - Compliance Validation                │
│  - Consent Verification                 │
│  - Audit Logging                        │
└─────────────────────────────────────────┘
```

## Base URL

```
https://api.iluminara.health/v1
```

For local development:
```
http://localhost:8080/v1
```

## Authentication

### API Key Authentication

```bash
curl -X POST https://api.iluminara.health/v1/health-report \
  -H "Authorization: Bearer YOUR_API_KEY" \
  -H "Content-Type: application/json" \
  -d '{...}'
```

### OAuth 2.0 (Recommended for Production)

```bash
# Get access token
curl -X POST https://api.iluminara.health/v1/oauth/token \
  -H "Content-Type: application/x-www-form-urlencoded" \
  -d "grant_type=client_credentials" \
  -d "client_id=YOUR_CLIENT_ID" \
  -d "client_secret=YOUR_CLIENT_SECRET"

# Use access token
curl -X POST https://api.iluminara.health/v1/health-report \
  -H "Authorization: Bearer ACCESS_TOKEN" \
  -H "Content-Type: application/json" \
  -d '{...}'
```

## Core endpoints

### Submit health report

Submit a health report from a Community Health Volunteer or patient.

**Endpoint:** `POST /v1/health-report`

**Request:**

```json
{
  "reporter": {
    "id": "CHV_AMINA_HASSAN",
    "type": "community_health_volunteer",
    "location": {
      "lat": 0.0512,
      "lng": 40.3129,
      "name": "Dadaab Refugee Camp"
    }
  },
  "patient": {
    "id": "PATIENT_12345",
    "age": 28,
    "gender": "female",
    "consent_token": "CONSENT_2025_01_15_12345"
  },
  "symptoms": [
    {
      "name": "diarrhea",
      "severity": 9,
      "onset": "2025-01-15T08:00:00Z",
      "description": "Severe watery diarrhea, 10+ episodes in 6 hours"
    },
    {
      "name": "vomiting",
      "severity": 8,
      "onset": "2025-01-15T09:00:00Z",
      "description": "Persistent vomiting, unable to keep fluids down"
    },
    {
      "name": "dehydration",
      "severity": 9,
      "onset": "2025-01-15T10:00:00Z",
      "description": "Severe dehydration, sunken eyes, dry mouth"
    }
  ],
  "vital_signs": {
    "temperature": 37.8,
    "heart_rate": 110,
    "blood_pressure": "90/60",
    "respiratory_rate": 22
  },
  "suspected_disease": "cholera",
  "urgency": "critical",
  "timestamp": "2025-01-15T10:30:00Z"
}
```

**Response:**

```json
{
  "status": "success",
  "report_id": "RPT_2025_01_15_001",
  "verification": {
    "score": 0.85,
    "status": "PROBABLE",
    "matched_sources": ["CBS"],
    "pending_verification": ["EMR"]
  },
  "golden_thread": {
    "cbs_signal_id": "CBS_2025_01_15_001",
    "verification_pending": true,
    "estimated_verification_time": "2025-01-15T12:00:00Z"
  },
  "alert": {
    "level": "CRITICAL",
    "triggered": true,
    "notification_sent": true,
    "response_team_notified": true
  },
  "compliance": {
    "consent_validated": true,
    "jurisdiction": "KDPA_KE",
    "data_residency": "africa-south1",
    "frameworks_applied": ["KDPA", "GDPR", "WHO_IHR"]
  },
  "timestamp": "2025-01-15T10:30:15Z"
}
```

### Query verification status

Check the verification status of a health report.

**Endpoint:** `GET /v1/health-report/{report_id}/verification`

**Response:**

```json
{
  "report_id": "RPT_2025_01_15_001",
  "verification": {
    "score": 1.0,
    "status": "CONFIRMED",
    "matched_sources": ["CBS", "EMR"],
    "verification_timestamp": "2025-01-15T11:45:00Z"
  },
  "golden_thread": {
    "cbs_signal_id": "CBS_2025_01_15_001",
    "emr_record_id": "EMR_2025_01_15_045",
    "location_match": true,
    "time_delta_hours": 1.25,
    "diagnosis_confirmed": "cholera"
  },
  "timeline": [
    {
      "timestamp": "2025-01-15T10:30:00Z",
      "source": "CBS",
      "event": "Health report submitted by CHV"
    },
    {
      "timestamp": "2025-01-15T11:45:00Z",
      "source": "EMR",
      "event": "Patient admitted to clinic, diagnosis confirmed"
    }
  ]
}
```

### Submit EMR record

Submit an Electronic Medical Record from a clinic or hospital.

**Endpoint:** `POST /v1/emr-record`

**Request:**

```json
{
  "facility": {
    "id": "DADAAB_CLINIC",
    "name": "Dadaab Primary Health Center",
    "location": {
      "lat": 0.0512,
      "lng": 40.3129
    }
  },
  "patient": {
    "id": "PATIENT_12345",
    "age": 28,
    "gender": "female",
    "consent_token": "CONSENT_2025_01_15_12345"
  },
  "diagnosis": {
    "primary": "cholera",
    "icd_code": "A00.9",
    "confidence": 0.95,
    "confirmed_by": "DR_JOHN_KAMAU"
  },
  "symptoms": ["diarrhea", "vomiting", "dehydration"],
  "lab_results": {
    "rapid_diagnostic_test": "positive",
    "stool_culture": "pending"
  },
  "treatment": {
    "medications": ["ORS", "Zinc", "Azithromycin"],
    "admission_status": "admitted",
    "isolation": true
  },
  "timestamp": "2025-01-15T11:45:00Z"
}
```

**Response:**

```json
{
  "status": "success",
  "emr_record_id": "EMR_2025_01_15_045",
  "golden_thread": {
    "matched_cbs_signals": ["CBS_2025_01_15_001"],
    "verification_score": 1.0,
    "verification_status": "CONFIRMED",
    "fused_timeline_created": true
  },
  "alert": {
    "outbreak_risk_updated": true,
    "z_score": 10.3,
    "alert_level": "CRITICAL",
    "response_triggered": true
  },
  "compliance": {
    "consent_validated": true,
    "jurisdiction": "KDPA_KE",
    "data_residency": "africa-south1"
  }
}
```

### Query outbreak status

Get real-time outbreak status for a location.

**Endpoint:** `GET /v1/outbreak-status`

**Query Parameters:**
- `location` - Location name or coordinates
- `disease` - Disease name (optional)
- `time_window` - Time window in days (default: 7)

**Response:**

```json
{
  "location": "Dadaab",
  "time_window_days": 7,
  "outbreak_status": {
    "active": true,
    "disease": "cholera",
    "z_score": 10.3,
    "alert_level": "CRITICAL",
    "cases_reported": 11776,
    "cases_confirmed": 8432,
    "verification_rate": 0.72
  },
  "forecast": {
    "peak_cases": 15000,
    "peak_date": "2025-01-20",
    "r_effective": 2.8,
    "confidence": 0.92
  },
  "response": {
    "status": "active",
    "teams_deployed": 5,
    "treatment_centers": 3,
    "supplies_status": "adequate"
  },
  "golden_thread": {
    "total_signals": 15234,
    "cbs_signals": 11776,
    "emr_records": 8432,
    "idsr_reports": 12,
    "verification_rate": 0.72
  }
}
```

## Golden Thread integration

### CBS signal creation

When a health report is submitted, the Bio-Interface automatically creates a CBS (Community-Based Surveillance) signal:

```python
from edge_node.sync_protocol.golden_thread import GoldenThread

gt = GoldenThread()

# Create CBS signal from health report
cbs_signal = {
    'location': health_report['reporter']['location']['name'],
    'symptom': health_report['symptoms'][0]['name'],
    'timestamp': health_report['timestamp'],
    'source': health_report['reporter']['id'],
    'severity': health_report['symptoms'][0]['severity']
}

# Fuse with existing data
fused = gt.fuse_data_streams(
    cbs_signal=cbs_signal,
    patient_id=health_report['patient']['id']
)
```

### Verification logic

The Golden Thread verifies CBS signals against EMR records:

```
IF cbs.location == emr.location AND |cbs.timestamp - emr.timestamp| < 24h
    THEN verification_score = 1.0 (CONFIRMED)
    ELSE score degrades based on conflict severity
```

## Mobile SDK

### Android SDK

```kotlin
// Initialize iLuminara SDK
val iluminara = ILuminaraClient(
    apiKey = "YOUR_API_KEY",
    baseUrl = "https://api.iluminara.health/v1"
)

// Submit health report
val report = HealthReport(
    reporter = Reporter(
        id = "CHV_AMINA_HASSAN",
        type = ReporterType.COMMUNITY_HEALTH_VOLUNTEER,
        location = Location(0.0512, 40.3129, "Dadaab")
    ),
    patient = Patient(
        id = "PATIENT_12345",
        age = 28,
        gender = Gender.FEMALE,
        consentToken = "CONSENT_2025_01_15_12345"
    ),
    symptoms = listOf(
        Symptom("diarrhea", severity = 9),
        Symptom("vomiting", severity = 8)
    ),
    suspectedDisease = "cholera",
    urgency = Urgency.CRITICAL
)

iluminara.submitHealthReport(report) { result ->
    when (result) {
        is Success -> {
            println("Report submitted: ${result.data.reportId}")
            println("Verification score: ${result.data.verification.score}")
        }
        is Error -> {
            println("Error: ${result.error.message}")
        }
    }
}
```

### iOS SDK

```swift
// Initialize iLuminara SDK
let iluminara = ILuminaraClient(
    apiKey: "YOUR_API_KEY",
    baseURL: "https://api.iluminara.health/v1"
)

// Submit health report
let report = HealthReport(
    reporter: Reporter(
        id: "CHV_AMINA_HASSAN",
        type: .communityHealthVolunteer,
        location: Location(lat: 0.0512, lng: 40.3129, name: "Dadaab")
    ),
    patient: Patient(
        id: "PATIENT_12345",
        age: 28,
        gender: .female,
        consentToken: "CONSENT_2025_01_15_12345"
    ),
    symptoms: [
        Symptom(name: "diarrhea", severity: 9),
        Symptom(name: "vomiting", severity: 8)
    ],
    suspectedDisease: "cholera",
    urgency: .critical
)

iluminara.submitHealthReport(report) { result in
    switch result {
    case .success(let response):
        print("Report submitted: \\(response.reportId)")
        print("Verification score: \\(response.verification.score)")
    case .failure(let error):
        print("Error: \\(error.localizedDescription)")
    }
}
```

## Compliance & security

### Consent validation

All health reports require valid consent tokens:

```python
from governance_kernel.vector_ledger import SovereignGuardrail

guardrail = SovereignGuardrail()

# Validate consent
guardrail.validate_action(
    action_type='Consent_Validation',
    payload={
        'consent_token': health_report['patient']['consent_token'],
        'consent_scope': 'public_health_surveillance',
        'data_type': 'PHI'
    },
    jurisdiction='KDPA_KE'
)
```

### Data residency

All data is processed within sovereign territory:

```yaml
# config/sovereign_guardrail.yaml
sovereignty:
  data_residency:
    enabled: true
    allowed_zones:
      - "africa-south1"  # Kenya, South Africa
    enforcement_level: "STRICT"
```

### Audit trail

All API calls are logged to the tamper-proof audit trail:

```json
{
  "timestamp": "2025-01-15T10:30:15Z",
  "action": "Health_Report_Submitted",
  "report_id": "RPT_2025_01_15_001",
  "reporter_id": "CHV_AMINA_HASSAN",
  "patient_id": "PATIENT_12345",
  "jurisdiction": "KDPA_KE",
  "compliance_frameworks": ["KDPA", "GDPR", "WHO_IHR"],
  "data_residency": "africa-south1"
}
```

## Rate limits

| Endpoint | Rate Limit | Burst |
|----------|-----------|-------|
| `/health-report` | 100 req/min | 200 |
| `/emr-record` | 100 req/min | 200 |
| `/outbreak-status` | 1000 req/min | 2000 |
| `/verification` | 500 req/min | 1000 |

## Error codes

| Code | HTTP Status | Description |
|------|-------------|-------------|
| `invalid_consent` | 403 | Consent token invalid or expired |
| `sovereignty_violation` | 403 | Action violates data sovereignty rules |
| `missing_required_field` | 400 | Required field missing in request |
| `invalid_location` | 400 | Location coordinates invalid |
| `rate_limit_exceeded` | 429 | Rate limit exceeded |
| `internal_error` | 500 | Internal server error |

## Next steps

<CardGroup cols={2}>
  <Card
    title="Golden Thread"
    icon="link"
    href="/architecture/golden-thread"
  >
    Understand data fusion logic
  </Card>
  <Card
    title="Mobile SDKs"
    icon="mobile"
    href="/api-reference/mobile-sdks"
  >
    Integrate with mobile apps
  </Card>
  <Card
    title="Governance"
    icon="shield-check"
    href="/governance/overview"
  >
    Configure compliance enforcement
  </Card>
  <Card
    title="Deployment"
    icon="rocket"
    href="/deployment/overview"
  >
    Deploy to production
  </Card>
</CardGroup>
