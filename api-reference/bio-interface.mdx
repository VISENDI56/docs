---
title: Bio-Interface REST API
description: Mobile health app integration with Golden Thread protocol
---

## Overview

The Bio-Interface REST API enables mobile health applications to integrate with iLuminara-Core using the Golden Thread protocol for data fusion and verification.

<Card
  title="Philosophy"
  icon="mobile"
>
  "Zero-friction data collection with sovereign dignity preservation"
</Card>

## Architecture

```
┌─────────────────────────────────────────────────────────┐
│              MOBILE HEALTH APPS                         │
│  - Community Health Volunteer (CHV) Apps               │
│  - Patient Self-Reporting Apps                         │
│  - IoT Health Sensors                                  │
└─────────────────────────────────────────────────────────┘
                         ▼
┌─────────────────────────────────────────────────────────┐
│              BIO-INTERFACE REST API                     │
│  - Voice Processing (/process-voice)                   │
│  - Symptom Reporting (/report-symptoms)                │
│  - Health Data Sync (/sync-health-data)                │
│  - Outbreak Alerts (/subscribe-alerts)                 │
└─────────────────────────────────────────────────────────┘
                         ▼
┌─────────────────────────────────────────────────────────┐
│              GOLDEN THREAD FUSION                       │
│  - CBS Signal Creation                                 │
│  - EMR Cross-Verification                              │
│  - IDSR Report Generation                              │
└─────────────────────────────────────────────────────────┘
                         ▼
┌─────────────────────────────────────────────────────────┐
│              SOVEREIGNGUARDRAIL                         │
│  - Consent Validation                                  │
│  - Data Sovereignty Enforcement                        │
│  - Audit Trail Logging                                 │
└─────────────────────────────────────────────────────────┘
```

## Base URL

```
https://api.iluminara.health/v1
```

For local development:
```
http://localhost:8080
```

## Authentication

### API key authentication

```bash
curl -X POST https://api.iluminara.health/v1/report-symptoms \
  -H "Authorization: Bearer YOUR_API_KEY" \
  -H "Content-Type: application/json" \
  -d '{"symptoms": ["fever", "cough"]}'
```

### OAuth 2.0 (recommended for production)

```bash
# Get access token
curl -X POST https://api.iluminara.health/oauth/token \
  -d "grant_type=client_credentials" \
  -d "client_id=YOUR_CLIENT_ID" \
  -d "client_secret=YOUR_CLIENT_SECRET"

# Use token
curl -X POST https://api.iluminara.health/v1/report-symptoms \
  -H "Authorization: Bearer ACCESS_TOKEN" \
  -H "Content-Type: application/json" \
  -d '{"symptoms": ["fever", "cough"]}'
```

## Core endpoints

### Report symptoms

Submit symptom reports from mobile apps or CHV devices.

**Endpoint:** `POST /report-symptoms`

**Request:**

```json
{
  "patient_id": "PAT_12345",
  "location": {
    "lat": 0.0512,
    "lng": 40.3129,
    "name": "Dadaab Refugee Camp"
  },
  "symptoms": [
    {
      "name": "fever",
      "severity": 8,
      "onset": "2025-12-20T08:00:00Z"
    },
    {
      "name": "diarrhea",
      "severity": 9,
      "onset": "2025-12-20T10:00:00Z"
    }
  ],
  "vital_signs": {
    "temperature": 38.5,
    "heart_rate": 95,
    "blood_pressure": "120/80"
  },
  "reporter": {
    "type": "CHV",
    "id": "CHV_AMINA_HASSAN",
    "credentials": "VERIFIED"
  },
  "consent_token": "CONSENT_TOKEN_123",
  "timestamp": "2025-12-20T12:00:00Z"
}
```

**Response:**

```json
{
  "status": "success",
  "report_id": "RPT_789456",
  "cbs_signal_id": "CBS_123456",
  "verification_status": "PENDING_EMR",
  "verification_score": 0.5,
  "alert_level": "HIGH",
  "recommendations": [
    "IMMEDIATE: Suspected cholera. Start ORS immediately.",
    "Isolate patient to prevent spread",
    "Notify district health officer"
  ],
  "golden_thread": {
    "fused": false,
    "awaiting_emr": true,
    "verification_window": "24h"
  },
  "compliance": {
    "jurisdiction": "KDPA_KE",
    "consent_validated": true,
    "data_residency": "africa-south1"
  }
}
```

### Sync health data

Batch sync health data from mobile devices (offline-first support).

**Endpoint:** `POST /sync-health-data`

**Request:**

```json
{
  "device_id": "DEVICE_CHV_001",
  "sync_token": "LAST_SYNC_TOKEN",
  "records": [
    {
      "type": "symptom_report",
      "patient_id": "PAT_001",
      "data": {...},
      "timestamp": "2025-12-20T08:00:00Z",
      "offline_recorded": true
    },
    {
      "type": "vital_signs",
      "patient_id": "PAT_002",
      "data": {...},
      "timestamp": "2025-12-20T09:00:00Z",
      "offline_recorded": true
    }
  ]
}
```

**Response:**

```json
{
  "status": "success",
  "synced_count": 2,
  "failed_count": 0,
  "new_sync_token": "NEW_SYNC_TOKEN_456",
  "conflicts": [],
  "server_updates": [
    {
      "type": "outbreak_alert",
      "location": "Dadaab",
      "disease": "cholera",
      "severity": "HIGH"
    }
  ]
}
```

### Subscribe to alerts

Real-time outbreak alerts via WebSocket or Server-Sent Events.

**Endpoint:** `GET /subscribe-alerts`

**WebSocket connection:**

```javascript
const ws = new WebSocket('wss://api.iluminara.health/v1/subscribe-alerts');

ws.onopen = () => {
  ws.send(JSON.stringify({
    auth_token: 'YOUR_TOKEN',
    location: { lat: 0.0512, lng: 40.3129 },
    radius_km: 50
  }));
};

ws.onmessage = (event) => {
  const alert = JSON.parse(event.data);
  console.log('Outbreak alert:', alert);
  
  // {
  //   "type": "outbreak_alert",
  //   "disease": "cholera",
  //   "location": "Dadaab",
  //   "severity": "CRITICAL",
  //   "case_count": 47,
  //   "z_score": 8.3,
  //   "recommendations": [...]
  // }
};
```

### Voice processing

Process voice alerts from CHV mobile apps.

**Endpoint:** `POST /process-voice`

See [Voice Processing](/api-reference/voice-processing) for detailed documentation.

## Golden Thread integration

All Bio-Interface submissions automatically create CBS (Community-Based Surveillance) signals:

```python
from edge_node.sync_protocol.golden_thread import GoldenThread

gt = GoldenThread()

# Mobile app submission creates CBS signal
cbs_signal = {
    'location': request.json['location'],
    'symptom': request.json['symptoms'][0]['name'],
    'severity': request.json['symptoms'][0]['severity'],
    'timestamp': request.json['timestamp'],
    'source': f"CHV_{request.json['reporter']['id']}"
}

# Attempt fusion with EMR
fused = gt.fuse_data_streams(
    cbs_signal=cbs_signal,
    patient_id=request.json['patient_id']
)

# Return verification status
return {
    'verification_score': fused.verification_score,
    'verification_status': fused.status,
    'golden_thread': {
        'fused': fused.verification_score >= 0.8,
        'awaiting_emr': fused.verification_score < 0.8
    }
}
```

## Offline-first support

The Bio-Interface API supports offline-first mobile apps:

### Sync protocol

<Steps>
  <Step title="Record offline">
    Mobile app records data locally when offline
  </Step>
  <Step title="Queue for sync">
    Data queued with timestamps and sync tokens
  </Step>
  <Step title="Detect connectivity">
    App detects network availability
  </Step>
  <Step title="Batch sync">
    POST /sync-health-data with queued records
  </Step>
  <Step title="Conflict resolution">
    Server resolves conflicts using timestamps
  </Step>
  <Step title="Update local">
    App receives server updates and new sync token
  </Step>
</Steps>

### Example mobile app integration

```javascript
// React Native example
import AsyncStorage from '@react-native-async-storage/async-storage';
import NetInfo from '@react-native-community/netinfo';

class iLuminaraSync {
  constructor(apiKey) {
    this.apiKey = apiKey;
    this.baseUrl = 'https://api.iluminara.health/v1';
    this.syncQueue = [];
  }

  async recordSymptoms(data) {
    // Always record locally first
    const record = {
      type: 'symptom_report',
      data: data,
      timestamp: new Date().toISOString(),
      synced: false
    };
    
    this.syncQueue.push(record);
    await AsyncStorage.setItem('syncQueue', JSON.stringify(this.syncQueue));
    
    // Try to sync if online
    const isConnected = await NetInfo.fetch().then(state => state.isConnected);
    if (isConnected) {
      await this.sync();
    }
  }

  async sync() {
    const syncToken = await AsyncStorage.getItem('syncToken');
    
    const response = await fetch(`${this.baseUrl}/sync-health-data`, {
      method: 'POST',
      headers: {
        'Authorization': `Bearer ${this.apiKey}`,
        'Content-Type': 'application/json'
      },
      body: JSON.stringify({
        device_id: await this.getDeviceId(),
        sync_token: syncToken,
        records: this.syncQueue.filter(r => !r.synced)
      })
    });
    
    const result = await response.json();
    
    // Mark records as synced
    this.syncQueue = this.syncQueue.map(r => ({...r, synced: true}));
    await AsyncStorage.setItem('syncQueue', JSON.stringify(this.syncQueue));
    await AsyncStorage.setItem('syncToken', result.new_sync_token);
    
    // Handle server updates
    for (const update of result.server_updates) {
      this.handleServerUpdate(update);
    }
  }
}
```

## Consent management

All Bio-Interface endpoints enforce consent validation:

```python
from governance_kernel.vector_ledger import SovereignGuardrail

guardrail = SovereignGuardrail()

# Validate consent before processing
guardrail.validate_action(
    action_type='Consent_Validation',
    payload={
        'consent_token': request.json['consent_token'],
        'consent_scope': 'symptom_reporting',
        'data_type': 'PHI',
        'patient_id': request.json['patient_id']
    },
    jurisdiction='KDPA_KE'
)
```

## Rate limiting

| Endpoint | Rate Limit | Burst |
|----------|-----------|-------|
| `/report-symptoms` | 100/hour | 10/minute |
| `/sync-health-data` | 50/hour | 5/minute |
| `/process-voice` | 20/hour | 2/minute |
| `/subscribe-alerts` | 10 connections | - |

## Error codes

| Code | HTTP Status | Description |
|------|-------------|-------------|
| `invalid_consent` | 403 | Consent token invalid or expired |
| `sovereignty_violation` | 403 | Action violates data sovereignty |
| `rate_limit_exceeded` | 429 | Too many requests |
| `invalid_location` | 400 | Location coordinates invalid |
| `missing_symptoms` | 400 | Symptoms array required |
| `device_not_registered` | 401 | Device ID not registered |

## SDK examples

### Python SDK

```python
from iluminara import BioInterface

client = BioInterface(api_key='YOUR_API_KEY')

# Report symptoms
result = client.report_symptoms(
    patient_id='PAT_12345',
    location={'lat': 0.0512, 'lng': 40.3129},
    symptoms=[
        {'name': 'fever', 'severity': 8},
        {'name': 'diarrhea', 'severity': 9}
    ],
    consent_token='CONSENT_TOKEN'
)

print(f"Report ID: {result.report_id}")
print(f"Alert Level: {result.alert_level}")
```

### JavaScript SDK

```javascript
import { BioInterface } from '@iluminara/sdk';

const client = new BioInterface({ apiKey: 'YOUR_API_KEY' });

// Report symptoms
const result = await client.reportSymptoms({
  patientId: 'PAT_12345',
  location: { lat: 0.0512, lng: 40.3129 },
  symptoms: [
    { name: 'fever', severity: 8 },
    { name: 'diarrhea', severity: 9 }
  ],
  consentToken: 'CONSENT_TOKEN'
});

console.log(`Report ID: ${result.reportId}`);
console.log(`Alert Level: ${result.alertLevel}`);
```

## Next steps

<CardGroup cols={2}>
  <Card
    title="Voice processing"
    icon="microphone"
    href="/api-reference/voice-processing"
  >
    Process voice alerts from CHVs
  </Card>
  <Card
    title="Golden Thread"
    icon="link"
    href="/architecture/golden-thread"
  >
    Understand data fusion logic
  </Card>
  <Card
    title="Governance"
    icon="shield-check"
    href="/governance/overview"
  >
    Configure consent and sovereignty
  </Card>
  <Card
    title="Deployment"
    icon="rocket"
    href="/deployment/overview"
  >
    Deploy Bio-Interface API
  </Card>
</CardGroup>
