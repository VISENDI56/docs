---
title: Bio-Interface API
description: Mobile health app integration with Golden Thread protocol
---

## Overview

The Bio-Interface API enables mobile health applications to integrate with iLuminara-Core using the Golden Thread protocol for data fusion. All data flows through the SovereignGuardrail for compliance enforcement.

<Card
  title="Integration"
  icon="mobile"
>
  REST API for mobile health apps with CBS + EMR fusion
</Card>

## Base URL

```
https://api.iluminara.health/v1
```

For local development:
```
http://localhost:8080/v1
```

## Authentication

### API key authentication

```bash
curl -X POST https://api.iluminara.health/v1/health-report \
  -H "Authorization: Bearer YOUR_API_KEY" \
  -H "Content-Type: application/json" \
  -d '{...}'
```

### OAuth 2.0 (recommended for production)

```bash
# Get access token
curl -X POST https://api.iluminara.health/oauth/token \
  -d "grant_type=client_credentials" \
  -d "client_id=YOUR_CLIENT_ID" \
  -d "client_secret=YOUR_CLIENT_SECRET"

# Use access token
curl -X POST https://api.iluminara.health/v1/health-report \
  -H "Authorization: Bearer ACCESS_TOKEN" \
  -H "Content-Type: application/json"
```

## Endpoints

### Submit health report

Submit a Community-Based Surveillance (CBS) report from a mobile health app.

**Endpoint:** `POST /v1/health-report`

**Request:**

```json
{
  "reporter": {
    "id": "CHV_AMINA_HASSAN",
    "type": "community_health_volunteer",
    "location": {
      "lat": 0.0512,
      "lng": 40.3129,
      "name": "Dadaab Refugee Camp"
    }
  },
  "patient": {
    "id": "PATIENT_12345",
    "age": 28,
    "gender": "female",
    "consent_token": "VALID_CONSENT_TOKEN"
  },
  "symptoms": [
    {
      "name": "diarrhea",
      "severity": 9,
      "onset": "2025-01-15T08:00:00Z",
      "description": "Severe watery diarrhea"
    },
    {
      "name": "vomiting",
      "severity": 8,
      "onset": "2025-01-15T09:00:00Z"
    },
    {
      "name": "dehydration",
      "severity": 9,
      "onset": "2025-01-15T10:00:00Z"
    }
  ],
  "vital_signs": {
    "temperature": 38.5,
    "heart_rate": 110,
    "blood_pressure": "90/60",
    "respiratory_rate": 22
  },
  "metadata": {
    "app_version": "1.2.3",
    "device_id": "DEVICE_ABC123",
    "timestamp": "2025-01-15T10:30:00Z"
  }
}
```

**Response (200 OK):**

```json
{
  "status": "success",
  "report_id": "CBS_20250115_001",
  "verification_score": 0.0,
  "verification_status": "PENDING_EMR",
  "alert_level": "CRITICAL",
  "recommendations": [
    "IMMEDIATE: Suspected cholera. Start ORS immediately.",
    "Isolate patient to prevent spread",
    "Notify district health officer"
  ],
  "golden_thread": {
    "cbs_signal_id": "CBS_20250115_001",
    "awaiting_emr_confirmation": true,
    "estimated_verification_time": "24h"
  },
  "compliance": {
    "jurisdiction": "KDPA_KE",
    "consent_validated": true,
    "data_residency": "africa-south1",
    "sovereignty_status": "COMPLIANT"
  }
}
```

### Link EMR record

Link an Electronic Medical Record (EMR) to a CBS signal for verification.

**Endpoint:** `POST /v1/emr-link`

**Request:**

```json
{
  "cbs_signal_id": "CBS_20250115_001",
  "emr_record": {
    "patient_id": "PATIENT_12345",
    "facility": "Dadaab District Hospital",
    "diagnosis": "cholera",
    "lab_confirmed": true,
    "treatment": "ORS + IV fluids",
    "timestamp": "2025-01-15T11:00:00Z",
    "location": {
      "lat": 0.0512,
      "lng": 40.3129
    }
  },
  "provider": {
    "id": "DR_JOHN_KAMAU",
    "credentials": "MD, MPH",
    "facility_id": "DADAAB_HOSPITAL"
  }
}
```

**Response (200 OK):**

```json
{
  "status": "success",
  "verification_score": 1.0,
  "verification_status": "CONFIRMED",
  "golden_thread": {
    "fused_record_id": "FUSED_20250115_001",
    "cbs_signal_id": "CBS_20250115_001",
    "emr_record_id": "EMR_20250115_001",
    "location_match": true,
    "time_delta_hours": 0.5,
    "confidence": "HIGH"
  },
  "outbreak_alert": {
    "triggered": true,
    "disease": "cholera",
    "location": "Dadaab",
    "case_count": 15,
    "z_score": 3.2,
    "alert_level": "HIGH"
  }
}
```

### Query outbreak status

Get real-time outbreak status for a location.

**Endpoint:** `GET /v1/outbreak-status`

**Query parameters:**

| Parameter | Type | Required | Description |
|-----------|------|----------|-------------|
| `location` | string | Yes | Location name or coordinates |
| `disease` | string | No | Filter by disease |
| `time_window` | integer | No | Days to look back (default: 30) |

**Request:**

```bash
curl -X GET "https://api.iluminara.health/v1/outbreak-status?location=Dadaab&disease=cholera&time_window=7" \
  -H "Authorization: Bearer YOUR_API_KEY"
```

**Response (200 OK):**

```json
{
  "status": "success",
  "location": "Dadaab",
  "disease": "cholera",
  "time_window_days": 7,
  "outbreak_status": {
    "active": true,
    "alert_level": "HIGH",
    "case_count": 47,
    "confirmed_cases": 32,
    "suspected_cases": 15,
    "deaths": 2,
    "case_fatality_rate": 0.043
  },
  "forecasting": {
    "72h_prediction": {
      "expected_cases": [55, 68, 82],
      "confidence_interval": [0.95, 0.95, 0.95],
      "r_effective": 2.8
    }
  },
  "golden_thread": {
    "verification_rate": 0.68,
    "cbs_signals": 47,
    "emr_confirmations": 32,
    "idsr_reports": 3
  }
}
```

### Submit IDSR report

Submit an Integrated Disease Surveillance Response (IDSR) report.

**Endpoint:** `POST /v1/idsr-report`

**Request:**

```json
{
  "reporting_facility": "Dadaab District Hospital",
  "reporting_period": {
    "start": "2025-01-08",
    "end": "2025-01-14"
  },
  "diseases": [
    {
      "name": "cholera",
      "cases": 47,
      "deaths": 2,
      "lab_confirmed": 32
    },
    {
      "name": "malaria",
      "cases": 156,
      "deaths": 0,
      "lab_confirmed": 120
    }
  ],
  "location": {
    "district": "Dadaab",
    "county": "Garissa",
    "country": "Kenya"
  }
}
```

**Response (200 OK):**

```json
{
  "status": "success",
  "idsr_report_id": "IDSR_20250115_001",
  "submitted_to": "Kenya Ministry of Health",
  "golden_thread": {
    "matched_cbs_signals": 47,
    "matched_emr_records": 32,
    "verification_score": 0.68
  }
}
```

## Golden Thread integration

All Bio-Interface submissions automatically participate in the Golden Thread data fusion:

```python
from edge_node.sync_protocol.golden_thread import GoldenThread

gt = GoldenThread()

# CBS signal from mobile app
cbs_signal = {
    'location': 'Dadaab',
    'symptom': 'diarrhea',
    'timestamp': '2025-01-15T10:30:00Z',
    'source': 'MOBILE_APP_CHV_AMINA'
}

# EMR record from hospital
emr_record = {
    'location': 'Dadaab',
    'diagnosis': 'cholera',
    'timestamp': '2025-01-15T11:00:00Z',
    'source': 'DADAAB_HOSPITAL'
}

# Fuse streams
fused = gt.fuse_data_streams(
    cbs_signal=cbs_signal,
    emr_record=emr_record,
    patient_id='PATIENT_12345'
)

# Verification score: 1.0 (CONFIRMED)
print(f"Verification: {fused.verification_score}")
```

## Sovereignty compliance

All Bio-Interface requests are validated by the SovereignGuardrail:

```python
from governance_kernel.vector_ledger import SovereignGuardrail

guardrail = SovereignGuardrail()

# Validate health report submission
guardrail.validate_action(
    action_type='Data_Processing',
    payload={
        'data_type': 'PHI',
        'processing_location': 'Edge_Node',
        'consent_token': 'VALID_CONSENT_TOKEN',
        'jurisdiction': 'KDPA_KE'
    },
    jurisdiction='KDPA_KE'
)
```

## Mobile SDK

### Android SDK

```kotlin
import health.iluminara.sdk.ILuminaraClient
import health.iluminara.sdk.models.HealthReport

val client = ILuminaraClient(
    apiKey = "YOUR_API_KEY",
    baseUrl = "https://api.iluminara.health/v1"
)

// Submit health report
val report = HealthReport(
    reporter = Reporter(
        id = "CHV_AMINA_HASSAN",
        type = ReporterType.COMMUNITY_HEALTH_VOLUNTEER,
        location = Location(0.0512, 40.3129, "Dadaab")
    ),
    patient = Patient(
        id = "PATIENT_12345",
        age = 28,
        gender = Gender.FEMALE,
        consentToken = "VALID_CONSENT_TOKEN"
    ),
    symptoms = listOf(
        Symptom("diarrhea", severity = 9),
        Symptom("vomiting", severity = 8)
    )
)

client.submitHealthReport(report) { result ->
    when (result) {
        is Success -> println("Report ID: ${result.data.reportId}")
        is Error -> println("Error: ${result.error}")
    }
}
```

### iOS SDK

```swift
import ILuminaraSDK

let client = ILuminaraClient(
    apiKey: "YOUR_API_KEY",
    baseURL: "https://api.iluminara.health/v1"
)

// Submit health report
let report = HealthReport(
    reporter: Reporter(
        id: "CHV_AMINA_HASSAN",
        type: .communityHealthVolunteer,
        location: Location(lat: 0.0512, lng: 40.3129, name: "Dadaab")
    ),
    patient: Patient(
        id: "PATIENT_12345",
        age: 28,
        gender: .female,
        consentToken: "VALID_CONSENT_TOKEN"
    ),
    symptoms: [
        Symptom(name: "diarrhea", severity: 9),
        Symptom(name: "vomiting", severity: 8)
    ]
)

client.submitHealthReport(report) { result in
    switch result {
    case .success(let response):
        print("Report ID: \(response.reportId)")
    case .failure(let error):
        print("Error: \(error)")
    }
}
```

## Rate limits

| Endpoint | Rate Limit | Burst |
|----------|-----------|-------|
| `/v1/health-report` | 100/hour | 10/minute |
| `/v1/emr-link` | 100/hour | 10/minute |
| `/v1/outbreak-status` | 1000/hour | 100/minute |
| `/v1/idsr-report` | 50/hour | 5/minute |

## Error codes

| Code | HTTP Status | Description |
|------|-------------|-------------|
| `invalid_consent` | 403 | Consent token invalid or expired |
| `sovereignty_violation` | 403 | Action violates data sovereignty rules |
| `missing_location` | 400 | Location required but not provided |
| `invalid_symptoms` | 400 | Symptoms list invalid or empty |
| `rate_limit_exceeded` | 429 | Too many requests |

## Next steps

<CardGroup cols={2}>
  <Card
    title="Golden Thread"
    icon="link"
    href="/architecture/golden-thread"
  >
    Understand data fusion logic
  </Card>
  <Card
    title="Voice processing"
    icon="microphone"
    href="/api-reference/voice-processing"
  >
    Process voice alerts from CHVs
  </Card>
  <Card
    title="Governance"
    icon="shield-check"
    href="/governance/overview"
  >
    Configure compliance enforcement
  </Card>
  <Card
    title="Deployment"
    icon="rocket"
    href="/deployment/overview"
  >
    Deploy Bio-Interface API
  </Card>
</CardGroup>
