---
title: Bio-Interface REST API
description: Mobile health app integration with Golden Thread data fusion
---

## Overview

The Bio-Interface REST API enables mobile health applications to integrate with iLuminara-Core using the **Golden Thread protocol** for data fusion from Community-Based Surveillance (CBS) and Electronic Medical Records (EMR).

<Card
  title="Philosophy"
  icon="mobile"
>
  "Zero-friction data collection with sovereign dignity."
</Card>

## Architecture

```
┌──────────────────────────────────────────────────────────┐
│              MOBILE HEALTH APPS                          │
│  (CHV Apps, Patient Apps, Clinic Apps)                  │
└──────────────────────────────────────────────────────────┘
                            │
                            │ HTTPS/REST
                            ▼
┌──────────────────────────────────────────────────────────┐
│              BIO-INTERFACE API                           │
│  - Authentication (OAuth 2.0, API Keys)                  │
│  - Rate Limiting                                          │
│  - Data Validation                                        │
└──────────────────────────────────────────────────────────┘
                            │
                            │ Validated Data
                            ▼
┌──────────────────────────────────────────────────────────┐
│              GOLDEN THREAD ENGINE                        │
│  - CBS Signal Processing                                 │
│  - EMR Record Matching                                    │
│  - Cross-source Verification                             │
└──────────────────────────────────────────────────────────┘
                            │
                            │ Fused Data
                            ▼
┌──────────────────────────────────────────────────────────┐
│              SOVEREIGN GUARDRAIL                         │
│  - Consent Validation                                     │
│  - Data Sovereignty Check                                 │
│  - Audit Logging                                          │
└──────────────────────────────────────────────────────────┘
```

## Base URL

```
https://api.iluminara.health/v1
```

For local development:
```
http://localhost:8080/v1
```

## Authentication

### API Key (Recommended for mobile apps)

```bash
curl -X POST https://api.iluminara.health/v1/cbs/report \
  -H "X-API-Key: your_api_key_here" \
  -H "Content-Type: application/json" \
  -d '{...}'
```

### OAuth 2.0 (For server-to-server)

```bash
# Get access token
curl -X POST https://api.iluminara.health/v1/oauth/token \
  -d "grant_type=client_credentials" \
  -d "client_id=your_client_id" \
  -d "client_secret=your_client_secret"

# Use token
curl -X POST https://api.iluminara.health/v1/cbs/report \
  -H "Authorization: Bearer access_token_here" \
  -H "Content-Type: application/json" \
  -d '{...}'
```

## Core endpoints

### Submit CBS report

Submit a Community-Based Surveillance report from a CHV.

**Endpoint:** `POST /v1/cbs/report`

**Request:**
```json
{
  "chv_id": "CHV_AMINA_HASSAN",
  "patient_id": "PAT_12345",
  "location": {
    "lat": 0.0512,
    "lng": 40.3129,
    "name": "Dadaab Refugee Camp"
  },
  "symptoms": ["fever", "cough", "difficulty_breathing"],
  "severity": 8,
  "timestamp": "2025-12-25T10:00:00Z",
  "consent_token": "valid_consent_token",
  "metadata": {
    "age": 45,
    "gender": "M",
    "comorbidities": ["diabetes"]
  }
}
```

**Response:**
```json
{
  "status": "success",
  "report_id": "CBS_20251225_001",
  "verification_score": 0.5,
  "verification_status": "PENDING_EMR_MATCH",
  "golden_thread_id": "GT_12345",
  "recommendations": [
    "Monitor for EMR confirmation",
    "Alert district health officer if symptoms worsen"
  ],
  "timestamp": "2025-12-25T10:00:01Z"
}
```

### Submit EMR record

Submit an Electronic Medical Record from a clinic or hospital.

**Endpoint:** `POST /v1/emr/record`

**Request:**
```json
{
  "facility_id": "DADAAB_CLINIC",
  "patient_id": "PAT_12345",
  "location": {
    "lat": 0.0512,
    "lng": 40.3129,
    "name": "Dadaab Refugee Camp"
  },
  "diagnosis": "pneumonia",
  "symptoms": ["fever", "cough", "difficulty_breathing"],
  "lab_results": {
    "chest_xray": "infiltrates_present",
    "spo2": 92
  },
  "treatment": "antibiotics_prescribed",
  "timestamp": "2025-12-25T10:30:00Z",
  "consent_token": "valid_consent_token"
}
```

**Response:**
```json
{
  "status": "success",
  "record_id": "EMR_20251225_001",
  "verification_score": 1.0,
  "verification_status": "CONFIRMED",
  "golden_thread_id": "GT_12345",
  "matched_cbs_reports": ["CBS_20251225_001"],
  "alert_level": "HIGH",
  "recommendations": [
    "CBS report confirmed by EMR",
    "Update outbreak surveillance dashboard"
  ],
  "timestamp": "2025-12-25T10:30:01Z"
}
```

### Query Golden Thread

Retrieve fused data from the Golden Thread for a patient.

**Endpoint:** `GET /v1/golden-thread/{patient_id}`

**Response:**
```json
{
  "status": "success",
  "patient_id": "PAT_12345",
  "golden_thread_id": "GT_12345",
  "verification_score": 1.0,
  "verification_status": "CONFIRMED",
  "timeline": [
    {
      "timestamp": "2025-12-25T10:00:00Z",
      "source": "CBS",
      "report_id": "CBS_20251225_001",
      "symptoms": ["fever", "cough", "difficulty_breathing"],
      "severity": 8
    },
    {
      "timestamp": "2025-12-25T10:30:00Z",
      "source": "EMR",
      "record_id": "EMR_20251225_001",
      "diagnosis": "pneumonia",
      "treatment": "antibiotics_prescribed"
    }
  ],
  "summary": {
    "total_events": 2,
    "cbs_reports": 1,
    "emr_records": 1,
    "idsr_reports": 0,
    "first_event": "2025-12-25T10:00:00Z",
    "last_event": "2025-12-25T10:30:00Z"
  }
}
```

### Outbreak prediction

Get outbreak risk prediction for a location.

**Endpoint:** `POST /v1/outbreak/predict`

**Request:**
```json
{
  "location": {
    "lat": 0.0512,
    "lng": 40.3129
  },
  "symptoms": ["diarrhea", "vomiting"],
  "time_window_days": 7
}
```

**Response:**
```json
{
  "status": "success",
  "location": {
    "lat": 0.0512,
    "lng": 40.3129,
    "name": "Dadaab"
  },
  "risk_score": 0.85,
  "risk_level": "HIGH",
  "predicted_disease": "cholera",
  "confidence": 0.92,
  "z_score": 8.5,
  "forecast_72h": {
    "expected_cases": [18, 22, 27],
    "confidence_interval": [[15, 21], [18, 26], [22, 32]]
  },
  "recommendations": [
    "IMMEDIATE: Suspected cholera outbreak",
    "Activate emergency response protocol",
    "Notify WHO IHR focal point"
  ],
  "timestamp": "2025-12-25T10:00:00Z"
}
```

## Mobile SDK

### Android (Kotlin)

```kotlin
import com.iluminara.sdk.ILuminaraClient
import com.iluminara.sdk.models.CBSReport

class HealthReportActivity : AppCompatActivity() {
    private val client = ILuminaraClient(
        apiKey = "your_api_key",
        baseUrl = "https://api.iluminara.health/v1"
    )
    
    suspend fun submitReport() {
        val report = CBSReport(
            chvId = "CHV_AMINA_HASSAN",
            patientId = "PAT_12345",
            location = Location(0.0512, 40.3129, "Dadaab"),
            symptoms = listOf("fever", "cough"),
            severity = 8,
            consentToken = "valid_token"
        )
        
        try {
            val response = client.submitCBSReport(report)
            Log.d("iLuminara", "Report submitted: ${response.reportId}")
            Log.d("iLuminara", "Verification: ${response.verificationStatus}")
        } catch (e: Exception) {
            Log.e("iLuminara", "Error: ${e.message}")
        }
    }
}
```

### iOS (Swift)

```swift
import ILuminaraSDK

class HealthReportViewController: UIViewController {
    let client = ILuminaraClient(
        apiKey: "your_api_key",
        baseURL: "https://api.iluminara.health/v1"
    )
    
    func submitReport() {
        let report = CBSReport(
            chvId: "CHV_AMINA_HASSAN",
            patientId: "PAT_12345",
            location: Location(lat: 0.0512, lng: 40.3129, name: "Dadaab"),
            symptoms: ["fever", "cough"],
            severity: 8,
            consentToken: "valid_token"
        )
        
        client.submitCBSReport(report) { result in
            switch result {
            case .success(let response):
                print("Report submitted: \\(response.reportId)")
                print("Verification: \\(response.verificationStatus)")
            case .failure(let error):
                print("Error: \\(error.localizedDescription)")
            }
        }
    }
}
```

### React Native (JavaScript)

```javascript
import { ILuminaraClient } from '@iluminara/react-native-sdk';

const client = new ILuminaraClient({
  apiKey: 'your_api_key',
  baseURL: 'https://api.iluminara.health/v1'
});

async function submitReport() {
  try {
    const response = await client.submitCBSReport({
      chvId: 'CHV_AMINA_HASSAN',
      patientId: 'PAT_12345',
      location: {
        lat: 0.0512,
        lng: 40.3129,
        name: 'Dadaab'
      },
      symptoms: ['fever', 'cough'],
      severity: 8,
      consentToken: 'valid_token'
    });
    
    console.log('Report submitted:', response.reportId);
    console.log('Verification:', response.verificationStatus);
  } catch (error) {
    console.error('Error:', error.message);
  }
}
```

## Offline support

The Bio-Interface API supports offline operation with automatic sync when connectivity returns.

### Queue reports offline

```javascript
import { ILuminaraClient } from '@iluminara/sdk';

const client = new ILuminaraClient({
  apiKey: 'your_api_key',
  offlineMode: true,
  syncInterval: 300000 // 5 minutes
});

// Report is queued locally if offline
await client.submitCBSReport(report);

// Automatically syncs when online
client.on('sync', (syncedReports) => {
  console.log(`Synced ${syncedReports.length} reports`);
});
```

## Rate limiting

- **Free tier**: 100 requests/hour
- **Standard tier**: 1,000 requests/hour
- **Enterprise tier**: Unlimited

Rate limit headers:
```
X-RateLimit-Limit: 1000
X-RateLimit-Remaining: 999
X-RateLimit-Reset: 1640000000
```

## Error codes

| Code | HTTP Status | Description |
|------|-------------|-------------|
| `invalid_api_key` | 401 | API key is invalid or expired |
| `rate_limit_exceeded` | 429 | Too many requests |
| `invalid_consent_token` | 403 | Consent token is invalid |
| `sovereignty_violation` | 403 | Action violates data sovereignty |
| `missing_required_field` | 400 | Required field is missing |
| `invalid_location` | 400 | Location coordinates are invalid |
| `server_error` | 500 | Internal server error |

## Compliance

All Bio-Interface API calls enforce:
- **Consent validation** - GDPR Art. 6, POPIA §11
- **Data sovereignty** - KDPA §37, GDPR Art. 9
- **Audit logging** - HIPAA §164.312(b), SOC 2
- **Encryption** - TLS 1.3 in transit, AES-256 at rest

## Next steps

<CardGroup cols={2}>
  <Card
    title="Golden Thread"
    icon="link"
    href="/architecture/golden-thread"
  >
    Understand data fusion logic
  </Card>
  <Card
    title="Voice processing"
    icon="microphone"
    href="/api-reference/voice-processing"
  >
    Process voice alerts from CHVs
  </Card>
  <Card
    title="Governance"
    icon="shield-check"
    href="/governance/overview"
  >
    Understand compliance enforcement
  </Card>
  <Card
    title="Deployment"
    icon="rocket"
    href="/deployment/overview"
  >
    Deploy Bio-Interface API
  </Card>
</CardGroup>
