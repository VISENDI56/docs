---
title: Bio-Interface API
description: Mobile health integration with Golden Thread data fusion
---

## Overview

The Bio-Interface API enables mobile health apps to submit Community-Based Surveillance (CBS) signals that are automatically fused with EMR and IDSR data streams through the Golden Thread protocol.

<Card
  title="Integration"
  icon="mobile"
>
  Zero-friction health data collection from 14M+ mobile users
</Card>

## Base URL

```
http://localhost:8080/api/v1
```

For production: `https://your-domain.com/api/v1`

## Authentication

Currently uses consent tokens for data processing validation. For production, implement:

- OAuth 2.0
- API keys
- Google Cloud IAM

## Endpoints

### Submit health signal

Submit a community-based surveillance signal from a mobile app.

```
POST /submit-signal
```

#### Request body

```json
{
  "location": {
    "lat": 0.0512,
    "lng": 40.3129
  },
  "symptoms": ["fever", "cough", "fatigue"],
  "severity": 7,
  "patient_age": 35,
  "patient_gender": "F",
  "reporter_id": "CHV_AMINA_HASSAN",
  "reporter_type": "CHV",
  "consent_token": "CONSENT_TOKEN_123",
  "device_id": "DEVICE_ABC123",
  "app_version": "2.1.0"
}
```

#### Parameters

| Field | Type | Required | Description |
|-------|------|----------|-------------|
| `location` | object | Yes | GPS coordinates {lat, lng} |
| `symptoms` | array | Yes | List of symptoms |
| `severity` | integer | No | Severity score (0-10), default: 5 |
| `patient_age` | integer | No | Patient age |
| `patient_gender` | string | No | Patient gender (M/F/Other) |
| `reporter_id` | string | Yes | CHV or patient identifier |
| `reporter_type` | string | No | "CHV", "PATIENT", "FAMILY", default: "PATIENT" |
| `consent_token` | string | Yes | Consent validation token |
| `device_id` | string | No | Mobile device identifier |
| `app_version` | string | No | App version |

#### Response (200 OK)

```json
{
  "signal_id": "SIG_A1B2C3D4E5F6",
  "status": "CONFIRMED",
  "verification_score": 0.95,
  "fused_record_id": "FUSED_123",
  "recommendations": [
    "Start oral rehydration solution (ORS) immediately",
    "Seek medical attention if symptoms worsen",
    "⚠️ HIGH PRIORITY: Visit health facility within 24 hours"
  ],
  "alert_level": "HIGH",
  "compliance_status": {
    "sovereignty": "COMPLIANT",
    "consent": "VALIDATED",
    "frameworks": "GDPR, KDPA, WHO IHR"
  }
}
```

#### Response fields

| Field | Type | Description |
|-------|------|-------------|
| `signal_id` | string | Unique signal identifier |
| `status` | string | Verification status: CONFIRMED, PROBABLE, POSSIBLE, UNVERIFIED |
| `verification_score` | float | Golden Thread verification score (0.0-1.0) |
| `fused_record_id` | string | Fused record ID if matched with EMR |
| `recommendations` | array | Health recommendations based on symptoms |
| `alert_level` | string | Alert level: LOW, MEDIUM, HIGH, CRITICAL |
| `compliance_status` | object | Compliance validation results |

#### Error responses

**400 Bad Request** - Missing required fields
```json
{
  "error": "missing_field",
  "message": "Required field missing: location"
}
```

**403 Forbidden** - Sovereignty violation
```json
{
  "error": "sovereignty_violation",
  "message": "Violates KDPA §37 (Transfer Restrictions)"
}
```

**500 Internal Server Error** - Processing failed
```json
{
  "error": "processing_failed",
  "message": "Internal error message"
}
```

### Query signal status

Query the status of a previously submitted signal.

```
GET /query-status?signal_id=SIG_A1B2C3D4E5F6
```

#### Query parameters

| Parameter | Type | Required | Description |
|-----------|------|----------|-------------|
| `signal_id` | string | Yes | Signal identifier |

#### Response (200 OK)

```json
{
  "signal_id": "SIG_A1B2C3D4E5F6",
  "status": "CONFIRMED",
  "verification_score": 0.95,
  "last_updated": "2025-12-23T14:30:00.000Z",
  "fused_with_emr": true,
  "alert_triggered": true
}
```

### Get outbreak alerts

Get active outbreak alerts for a location.

```
GET /outbreak-alerts?lat=0.0512&lng=40.3129&radius_km=50
```

#### Query parameters

| Parameter | Type | Required | Description |
|-----------|------|----------|-------------|
| `lat` | float | Yes | Latitude |
| `lng` | float | Yes | Longitude |
| `radius_km` | float | No | Search radius in km (default: 50) |

#### Response (200 OK)

```json
{
  "alerts": [
    {
      "alert_id": "ALERT_001",
      "disease": "cholera",
      "location": {"lat": 0.0512, "lng": 40.3129},
      "severity": "HIGH",
      "case_count": 45,
      "trend": "INCREASING",
      "recommendations": [
        "Boil water before drinking",
        "Seek medical attention for diarrhea",
        "Report symptoms to health authorities"
      ],
      "issued_at": "2025-12-23T10:00:00.000Z"
    }
  ],
  "count": 1,
  "search_location": {"lat": 0.0512, "lng": 40.3129},
  "radius_km": 50
}
```

### Validate consent

Validate a consent token for data processing.

```
POST /consent/validate
```

#### Request body

```json
{
  "consent_token": "CONSENT_TOKEN_123",
  "scope": "public_health_surveillance"
}
```

#### Response (200 OK)

```json
{
  "valid": true,
  "scope": "public_health_surveillance",
  "frameworks": "GDPR Art. 6, KDPA §42, POPIA §11",
  "validated_at": "2025-12-23T14:30:00.000Z"
}
```

#### Response (403 Forbidden) - Invalid consent

```json
{
  "valid": false,
  "error": "Consent token expired or invalid"
}
```

## Alert levels

| Level | Severity Range | Description | Response Time |
|-------|----------------|-------------|---------------|
| `LOW` | 0-3 | Minor symptoms | Routine monitoring |
| `MEDIUM` | 4-6 | Moderate symptoms | Increased surveillance |
| `HIGH` | 7-8 | Serious symptoms | Visit facility within 24h |
| `CRITICAL` | 9-10 | Life-threatening | Emergency response |

## Verification status

| Status | Score Range | Description |
|--------|-------------|-------------|
| `CONFIRMED` | 0.9-1.0 | Multiple sources agree |
| `PROBABLE` | 0.7-0.9 | Partial agreement |
| `POSSIBLE` | 0.4-0.7 | Significant conflicts |
| `UNVERIFIED` | 0.0-0.4 | Single source only |

## Golden Thread integration

All submitted signals are automatically processed through the Golden Thread data fusion engine:

```python
from edge_node.sync_protocol.golden_thread import GoldenThread

gt = GoldenThread()

# Signal is fused with EMR and IDSR data
fused = gt.fuse_data_streams(
    cbs_signal={
        'location': signal.location,
        'symptom': signal.symptoms[0],
        'timestamp': signal.timestamp,
        'source': f"{signal.reporter_type}_{signal.reporter_id}"
    },
    patient_id=f"AUTO_{signal.signal_id}"
)

# Verification score indicates data quality
print(f"Verification: {fused.verification_score:.2f}")
```

## Sovereignty compliance

All API operations enforce sovereignty constraints:

```python
from governance_kernel.vector_ledger import SovereignGuardrail

guardrail = SovereignGuardrail()

# Validate before processing
guardrail.validate_action(
    action_type='Data_Processing',
    payload={
        'data_type': 'PHI',
        'processing_location': 'Edge_Node',
        'consent_token': signal.consent_token
    },
    jurisdiction='KDPA_KE'
)
```

## Example: Mobile app integration

### React Native

```javascript
import axios from 'axios';

const submitHealthSignal = async (symptoms, severity, location) => {
  try {
    const response = await axios.post(
      'http://localhost:8080/api/v1/submit-signal',
      {
        location: location,
        symptoms: symptoms,
        severity: severity,
        reporter_id: 'USER_123',
        reporter_type: 'PATIENT',
        consent_token: 'VALID_TOKEN',
        device_id: await getDeviceId(),
        app_version: '2.1.0'
      }
    );
    
    const { signal_id, status, recommendations, alert_level } = response.data;
    
    // Show recommendations to user
    Alert.alert(
      `Health Report Submitted (${alert_level})`,
      recommendations.join('\n\n')
    );
    
    return signal_id;
  } catch (error) {
    console.error('Failed to submit health signal:', error);
    throw error;
  }
};

// Usage
await submitHealthSignal(
  ['fever', 'cough'],
  7,
  { lat: 0.0512, lng: 40.3129 }
);
```

### Flutter

```dart
import 'package:http/http.dart' as http;
import 'dart:convert';

Future<String> submitHealthSignal(
  List<String> symptoms,
  int severity,
  Map<String, double> location,
) async {
  final response = await http.post(
    Uri.parse('http://localhost:8080/api/v1/submit-signal'),
    headers: {'Content-Type': 'application/json'},
    body: jsonEncode({
      'location': location,
      'symptoms': symptoms,
      'severity': severity,
      'reporter_id': 'USER_123',
      'reporter_type': 'PATIENT',
      'consent_token': 'VALID_TOKEN',
      'device_id': await getDeviceId(),
      'app_version': '2.1.0',
    }),
  );
  
  if (response.statusCode == 200) {
    final data = jsonDecode(response.body);
    
    // Show recommendations
    showDialog(
      context: context,
      builder: (context) => AlertDialog(
        title: Text('Health Report Submitted (${data['alert_level']})'),
        content: Text(data['recommendations'].join('\n\n')),
      ),
    );
    
    return data['signal_id'];
  } else {
    throw Exception('Failed to submit health signal');
  }
}

// Usage
await submitHealthSignal(
  ['fever', 'cough'],
  7,
  {'lat': 0.0512, 'lng': 40.3129},
);
```

## Rate limiting

Recommended rate limits for production:

- **Submit signal:** 10 requests/minute per device
- **Query status:** 100 requests/minute per device
- **Outbreak alerts:** 100 requests/minute per device
- **Consent validation:** 50 requests/minute per device

Implement using:
- Google Cloud Armor
- API Gateway
- Custom middleware

## Next steps

<CardGroup cols={2}>
  <Card
    title="Golden Thread"
    icon="link"
    href="/architecture/golden-thread"
  >
    Understand data fusion logic
  </Card>
  <Card
    title="Sovereignty"
    icon="shield-check"
    href="/governance/overview"
  >
    Configure compliance enforcement
  </Card>
  <Card
    title="5DM Bridge"
    icon="mobile"
    href="/nuclear-ip/ip-06-5dm-bridge"
  >
    Zero-friction mobile integration
  </Card>
  <Card
    title="Deployment"
    icon="rocket"
    href="/deployment/overview"
  >
    Deploy to production
  </Card>
</CardGroup>
