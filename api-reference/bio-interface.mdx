---
title: Bio-Interface API
description: REST API for mobile health apps and CHV devices
---

## Overview

The Bio-Interface API provides REST endpoints for mobile health applications, Community Health Volunteer (CHV) devices, and third-party integrations with iLuminara-Core.

<Card
  title="Base URL"
  icon="link"
>
  `https://api.iluminara.health/v1` (Production)  
  `http://localhost:8080` (Development)
</Card>

## Authentication

### API Key authentication

```bash
curl -H "Authorization: Bearer YOUR_API_KEY" \
  https://api.iluminara.health/v1/health
```

### Service account (GCP)

```python
from google.oauth2 import service_account
import requests

credentials = service_account.Credentials.from_service_account_file(
    'path/to/credentials.json'
)

response = requests.get(
    'https://api.iluminara.health/v1/health',
    headers={'Authorization': f'Bearer {credentials.token}'}
)
```

## Core endpoints

### Health check

```http
GET /health
```

Check service health and metadata.

**Response:**

```json
{
  "status": "healthy",
  "version": "1.0.0",
  "node_id": "JOR-47",
  "jurisdiction": "KDPA_KE",
  "uptime_seconds": 86400,
  "services": {
    "frenasa_engine": "operational",
    "golden_thread": "operational",
    "governance_kernel": "operational"
  }
}
```

### Voice processing

```http
POST /process-voice
Content-Type: audio/wav
```

Process voice alerts from CHVs.

**Parameters:**

| Parameter | Type | Required | Description |
|-----------|------|----------|-------------|
| `language` | string | No | Language code (default: "swahili") |
| `lat` | float | No | Latitude coordinate |
| `lng` | float | No | Longitude coordinate |
| `patient_id` | string | No | Patient identifier |
| `chv_id` | string | No | CHV identifier |

**Request:**

```bash
curl -X POST http://localhost:8080/process-voice \
  -H "Content-Type: audio/wav" \
  --data-binary @swahili-symptom.wav \
  -G \
  --data-urlencode "language=swahili" \
  --data-urlencode "lat=0.0512" \
  --data-urlencode "lng=40.3129" \
  --data-urlencode "patient_id=PATIENT_001" \
  --data-urlencode "chv_id=CHV_AMINA"
```

**Response:**

```json
{
  "status": "success",
  "timestamp": "2025-12-19T20:00:00.000Z",
  "processing_time_ms": 4200,
  "transcription": "Mgonjwa ana homa kali na maumivu ya tumbo",
  "language_detected": "swahili",
  "symptoms": [
    {"symptom_name": "homa", "severity": "HIGH"},
    {"symptom_name": "maumivu ya tumbo", "severity": "MEDIUM"}
  ],
  "urgency_level": "URGENT",
  "disease_suspicion": "malaria",
  "location": {"lat": 0.0512, "lng": 40.3129},
  "alert_level": "HIGH",
  "recommendations": [
    "IMMEDIATE: Suspected malaria. Start antimalarial treatment.",
    "Isolate patient to prevent spread",
    "Notify district health officer"
  ]
}
```

### Outbreak prediction

```http
POST /predict
Content-Type: application/json
```

Predict outbreak risk using Z-score analysis.

**Request:**

```json
{
  "location": {
    "lat": 0.4221,
    "lng": 40.2255
  },
  "symptoms": ["diarrhea", "vomiting"],
  "time_window_hours": 72,
  "population_size": 125000
}
```

**Response:**

```json
{
  "status": "success",
  "location": "Dadaab, Ifo Camp",
  "z_score": 3.8,
  "risk_level": "HIGH",
  "predicted_cases_72h": [18, 22, 27],
  "confidence_interval": {
    "lower": [15, 18, 22],
    "upper": [22, 27, 33]
  },
  "disease_suspicion": "cholera",
  "recommended_actions": [
    "Activate emergency response protocol",
    "Deploy ORS to affected areas",
    "Initiate water quality testing"
  ]
}
```

### Submit CBS report

```http
POST /cbs/report
Content-Type: application/json
```

Submit Community-Based Surveillance report.

**Request:**

```json
{
  "chv_id": "CHV_AMINA_HASSAN",
  "location": {
    "lat": 0.0512,
    "lng": 40.3129,
    "name": "Ifo Camp, Block C3"
  },
  "symptoms": [
    {"symptom": "fever", "count": 5},
    {"symptom": "cough", "count": 3}
  ],
  "timestamp": "2025-12-19T20:00:00Z",
  "notes": "Increased cases in past 24 hours",
  "consent_token": "CONSENT_TOKEN_123"
}
```

**Response:**

```json
{
  "status": "success",
  "report_id": "CBS-20251219-001",
  "verification_score": 0.85,
  "golden_thread_record_id": "GT-20251219-001",
  "alert_triggered": true,
  "alert_level": "MEDIUM"
}
```

### Query Golden Thread

```http
GET /golden-thread/query
```

Query fused data from Golden Thread.

**Parameters:**

| Parameter | Type | Required | Description |
|-----------|------|----------|-------------|
| `patient_id` | string | No | Patient identifier |
| `location` | string | No | Location name |
| `start_date` | string | No | Start date (ISO 8601) |
| `end_date` | string | No | End date (ISO 8601) |
| `min_verification_score` | float | No | Minimum verification score (0-1) |

**Request:**

```bash
curl "http://localhost:8080/golden-thread/query?location=Dadaab&start_date=2025-12-01&min_verification_score=0.8"
```

**Response:**

```json
{
  "status": "success",
  "total_records": 156,
  "records": [
    {
      "record_id": "GT-20251219-001",
      "patient_id": "PATIENT_001",
      "location": "Dadaab",
      "symptoms": ["fever", "cough"],
      "verification_score": 0.95,
      "data_sources": ["CBS", "EMR"],
      "timestamp": "2025-12-19T20:00:00Z"
    }
  ]
}
```

### Forecast outbreak

```http
POST /forecast
Content-Type: application/json
```

Generate multi-scale outbreak forecast using Vertex AI.

**Request:**

```json
{
  "location": "Dadaab",
  "disease": "cholera",
  "forecast_horizon_hours": 72,
  "spatial_level": "district",
  "confidence_level": 0.95
}
```

**Response:**

```json
{
  "status": "success",
  "forecast_horizon_hours": 72,
  "spatial_level": "district",
  "forecasts": {
    "community": {
      "ifo_camp": {
        "forecast_values": [18, 22, 27],
        "lower_bound": [15, 18, 22],
        "upper_bound": [22, 27, 33]
      }
    },
    "district": {
      "dadaab": {
        "forecast_values": [55, 68, 82],
        "lower_bound": [45, 55, 68],
        "upper_bound": [68, 82, 98]
      }
    }
  },
  "generated_at": "2025-12-19T20:00:00Z"
}
```

## Governance endpoints

### Validate action

```http
POST /governance/validate
Content-Type: application/json
```

Validate action against sovereignty constraints.

**Request:**

```json
{
  "action_type": "Data_Transfer",
  "payload": {
    "data_type": "PHI",
    "destination": "Cloud_Storage",
    "consent_token": "CONSENT_TOKEN_123"
  },
  "jurisdiction": "KDPA_KE"
}
```

**Response:**

```json
{
  "status": "compliant",
  "action_type": "Data_Transfer",
  "jurisdiction": "KDPA_KE",
  "constraints_applied": [
    "GDPR Art. 9",
    "KDPA ยง37"
  ],
  "approved": true
}
```

### Audit trail

```http
GET /governance/audit
```

Retrieve tamper-proof audit trail.

**Parameters:**

| Parameter | Type | Required | Description |
|-----------|------|----------|-------------|
| `limit` | integer | No | Number of records (default: 100) |
| `offset` | integer | No | Pagination offset |
| `action_type` | string | No | Filter by action type |

**Response:**

```json
{
  "status": "success",
  "total_records": 1523,
  "records": [
    {
      "timestamp": "2025-12-19T20:00:00Z",
      "action": "Data_Transfer",
      "actor": "CHV_AMINA_HASSAN",
      "resource": "PATIENT_001",
      "jurisdiction": "KDPA_KE",
      "approved": true,
      "hash": "sha256:abc123..."
    }
  ],
  "chain_valid": true
}
```

## Error responses

### Standard error format

```json
{
  "status": "error",
  "error_code": "SOVEREIGNTY_VIOLATION",
  "message": "Action violates GDPR Art. 9 (Special Categories)",
  "details": {
    "action_type": "Data_Transfer",
    "destination": "Foreign_Cloud",
    "jurisdiction": "GDPR_EU"
  },
  "timestamp": "2025-12-19T20:00:00Z"
}
```

### Error codes

| Code | HTTP Status | Description |
|------|-------------|-------------|
| `INVALID_REQUEST` | 400 | Malformed request |
| `UNAUTHORIZED` | 401 | Missing or invalid authentication |
| `FORBIDDEN` | 403 | Insufficient permissions |
| `NOT_FOUND` | 404 | Resource not found |
| `SOVEREIGNTY_VIOLATION` | 403 | Action violates compliance rules |
| `PROCESSING_FAILED` | 500 | Internal processing error |
| `SERVICE_UNAVAILABLE` | 503 | Service temporarily unavailable |

## Rate limits

| Endpoint | Rate Limit | Burst |
|----------|------------|-------|
| `/process-voice` | 10 req/min | 20 |
| `/predict` | 100 req/min | 200 |
| `/cbs/report` | 50 req/min | 100 |
| `/golden-thread/query` | 100 req/min | 200 |
| `/forecast` | 10 req/min | 20 |

## SDKs

### Python

```python
from iluminara import ILuminaraClient

client = ILuminaraClient(
    api_key="YOUR_API_KEY",
    base_url="https://api.iluminara.health/v1"
)

# Process voice
result = client.process_voice(
    audio_file="swahili-symptom.wav",
    patient_id="PATIENT_001",
    location={"lat": 0.0512, "lng": 40.3129}
)

# Submit CBS report
report = client.submit_cbs_report(
    chv_id="CHV_AMINA",
    location="Ifo Camp",
    symptoms=[{"symptom": "fever", "count": 5}]
)

# Query Golden Thread
records = client.query_golden_thread(
    location="Dadaab",
    min_verification_score=0.8
)
```

### JavaScript

```javascript
import { ILuminaraClient } from '@iluminara/sdk';

const client = new ILuminaraClient({
  apiKey: 'YOUR_API_KEY',
  baseUrl: 'https://api.iluminara.health/v1'
});

// Process voice
const result = await client.processVoice({
  audioFile: audioBlob,
  patientId: 'PATIENT_001',
  location: { lat: 0.0512, lng: 40.3129 }
});

// Submit CBS report
const report = await client.submitCBSReport({
  chvId: 'CHV_AMINA',
  location: 'Ifo Camp',
  symptoms: [{ symptom: 'fever', count: 5 }]
});
```

## Webhooks

Subscribe to real-time events:

```http
POST /webhooks/subscribe
Content-Type: application/json
```

**Request:**

```json
{
  "url": "https://your-app.com/webhooks/iluminara",
  "events": [
    "outbreak.detected",
    "alert.high_priority",
    "forecast.updated"
  ],
  "secret": "webhook_secret_123"
}
```

**Webhook payload:**

```json
{
  "event": "outbreak.detected",
  "timestamp": "2025-12-19T20:00:00Z",
  "data": {
    "location": "Dadaab",
    "disease": "cholera",
    "z_score": 4.2,
    "cases": 27
  },
  "signature": "sha256:abc123..."
}
```

## Next steps

<CardGroup cols={2}>
  <Card
    title="Voice processing"
    icon="microphone"
    href="/api-reference/voice-processing"
  >
    Detailed voice processing documentation
  </Card>
  <Card
    title="Golden Thread"
    icon="link"
    href="/architecture/golden-thread"
  >
    Understand data fusion logic
  </Card>
  <Card
    title="Deployment"
    icon="rocket"
    href="/deployment/overview"
  >
    Deploy the API to production
  </Card>
  <Card
    title="SDKs"
    icon="code"
    href="/api-reference/sdks"
  >
    Use official SDKs
  </Card>
</CardGroup>
