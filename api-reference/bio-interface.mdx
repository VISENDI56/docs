---
title: Bio-Interface REST API
description: Mobile health app integration with Golden Thread protocol
---

## Overview

The Bio-Interface REST API enables mobile health applications to integrate with iLuminara-Core using the **Golden Thread protocol** for data fusion across CBS (Community-Based Surveillance), EMR (Electronic Medical Records), and IDSR (Integrated Disease Surveillance Response).

<Card
  title="Philosophy"
  icon="mobile"
>
  "Zero-friction data collection with sovereign dignity preservation"
</Card>

## Base URL

```
https://api.iluminara.health/v1
```

For local development:
```
http://localhost:8080/v1
```

## Authentication

All API requests require authentication using JWT tokens:

```bash
curl -X POST https://api.iluminara.health/v1/auth/token \
  -H "Content-Type: application/json" \
  -d '{
    "username": "chv_amina_hassan",
    "password": "your_password",
    "jurisdiction": "KDPA_KE"
  }'
```

**Response:**
```json
{
  "access_token": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...",
  "token_type": "Bearer",
  "expires_in": 3600,
  "jurisdiction": "KDPA_KE",
  "consent_scope": ["diagnosis", "treatment", "public_health_surveillance"]
}
```

Use the token in subsequent requests:
```bash
curl -H "Authorization: Bearer YOUR_TOKEN" \
  https://api.iluminara.health/v1/health-events
```

## Core endpoints

<CardGroup cols={2}>
  <Card
    title="Health events"
    icon="heart-pulse"
    href="#post-health-events"
  >
    Submit health events from mobile apps
  </Card>
  <Card
    title="Voice alerts"
    icon="microphone"
    href="#post-voice-alerts"
  >
    Process voice recordings from CHVs
  </Card>
  <Card
    title="Symptom checker"
    icon="stethoscope"
    href="#post-symptom-checker"
  >
    AI-powered symptom assessment
  </Card>
  <Card
    title="Outbreak alerts"
    icon="bell"
    href="#get-outbreak-alerts"
  >
    Real-time outbreak notifications
  </Card>
</CardGroup>

## POST /health-events

Submit a health event from a mobile app (CBS signal).

### Request

```bash
curl -X POST https://api.iluminara.health/v1/health-events \
  -H "Authorization: Bearer YOUR_TOKEN" \
  -H "Content-Type: application/json" \
  -d '{
    "patient_id": "PAT_12345",
    "location": {
      "lat": 0.0512,
      "lng": 40.3129,
      "name": "Dadaab Refugee Camp"
    },
    "symptoms": ["fever", "diarrhea", "vomiting"],
    "vital_signs": {
      "temperature": 38.5,
      "heart_rate": 95,
      "respiratory_rate": 22
    },
    "onset_date": "2025-01-15T08:00:00Z",
    "severity": 8,
    "source": "mobile_app",
    "consent_token": "CONSENT_TOKEN_123",
    "metadata": {
      "app_version": "2.1.0",
      "device_id": "DEVICE_456"
    }
  }'
```

### Response (201 Created)

```json
{
  "status": "success",
  "event_id": "EVT_789",
  "timestamp": "2025-01-15T08:05:00Z",
  "golden_thread": {
    "verification_score": 0.3,
    "status": "UNVERIFIED",
    "message": "CBS signal recorded. Awaiting EMR confirmation."
  },
  "alert_level": "HIGH",
  "recommendations": [
    "Monitor for dehydration",
    "Suspected cholera - start ORS immediately",
    "Notify district health officer"
  ],
  "compliance": {
    "jurisdiction": "KDPA_KE",
    "consent_validated": true,
    "data_residency": "africa-south1"
  }
}
```

### Golden Thread fusion

When an EMR record matches this CBS signal, the verification score increases:

```json
{
  "golden_thread": {
    "verification_score": 1.0,
    "status": "CONFIRMED",
    "message": "CBS signal confirmed by EMR record from Dadaab Clinic",
    "emr_match": {
      "record_id": "EMR_456",
      "timestamp": "2025-01-15T08:30:00Z",
      "diagnosis": "cholera",
      "location_match": true,
      "time_delta_hours": 0.5
    }
  }
}
```

## POST /voice-alerts

Process voice recordings from Community Health Volunteers.

### Request

```bash
curl -X POST https://api.iluminara.health/v1/voice-alerts \
  -H "Authorization: Bearer YOUR_TOKEN" \
  -H "Content-Type: audio/wav" \
  --data-binary @alert.wav
```

### Response (200 OK)

```json
{
  "status": "success",
  "event_id": "EVT_890",
  "timestamp": "2025-01-15T09:00:00Z",
  "transcription": "Patient reporting severe watery diarrhea and vomiting",
  "language_detected": "swahili",
  "symptoms": ["diarrhea", "vomiting", "dehydration"],
  "severity": 9,
  "alert_level": "CRITICAL",
  "recommendations": [
    "IMMEDIATE: Suspected cholera. Start ORS immediately.",
    "Isolate patient to prevent spread",
    "Notify district health officer"
  ],
  "golden_thread": {
    "verification_score": 0.3,
    "status": "UNVERIFIED",
    "message": "Voice alert recorded as CBS signal"
  }
}
```

## POST /symptom-checker

AI-powered symptom assessment with SHAP explainability.

### Request

```bash
curl -X POST https://api.iluminara.health/v1/symptom-checker \
  -H "Authorization: Bearer YOUR_TOKEN" \
  -H "Content-Type: application/json" \
  -d '{
    "symptoms": ["fever", "cough", "fatigue"],
    "vital_signs": {
      "temperature": 38.2,
      "heart_rate": 88
    },
    "age": 35,
    "gender": "female",
    "location": {
      "lat": 0.0512,
      "lng": 40.3129
    }
  }'
```

### Response (200 OK)

```json
{
  "status": "success",
  "timestamp": "2025-01-15T10:00:00Z",
  "assessment": {
    "diagnosis": "malaria",
    "confidence": 0.87,
    "severity": 6,
    "urgency": "MODERATE"
  },
  "explainability": {
    "shap_values": {
      "fever": 0.42,
      "location": 0.28,
      "temperature": 0.17
    },
    "evidence_chain": [
      "High fever (38.2°C) strongly indicates infection",
      "Location in malaria-endemic region",
      "Symptom combination consistent with malaria"
    ],
    "feature_importance": {
      "fever": 0.42,
      "location": 0.28,
      "temperature": 0.17,
      "cough": 0.08,
      "fatigue": 0.05
    }
  },
  "recommendations": [
    "Rapid diagnostic test (RDT) for malaria",
    "If positive, start artemisinin-based combination therapy (ACT)",
    "Monitor for severe malaria symptoms"
  ],
  "compliance": {
    "explainability_required": true,
    "framework": "EU_AI_ACT",
    "article": "§6 (High-Risk AI)"
  }
}
```

## GET /outbreak-alerts

Retrieve real-time outbreak alerts for a location.

### Request

```bash
curl -X GET "https://api.iluminara.health/v1/outbreak-alerts?lat=0.0512&lng=40.3129&radius=50" \
  -H "Authorization: Bearer YOUR_TOKEN"
```

### Query parameters

| Parameter | Type | Required | Description |
|-----------|------|----------|-------------|
| `lat` | float | Yes | Latitude |
| `lng` | float | Yes | Longitude |
| `radius` | integer | No | Radius in km (default: 50) |
| `severity` | string | No | Filter by severity (LOW, MEDIUM, HIGH, CRITICAL) |

### Response (200 OK)

```json
{
  "status": "success",
  "timestamp": "2025-01-15T11:00:00Z",
  "location": {
    "lat": 0.0512,
    "lng": 40.3129,
    "name": "Dadaab Refugee Camp"
  },
  "alerts": [
    {
      "alert_id": "ALERT_123",
      "disease": "cholera",
      "severity": "CRITICAL",
      "case_count": 47,
      "trend": "INCREASING",
      "z_score": 8.3,
      "forecast": {
        "24h": 62,
        "48h": 81,
        "72h": 105
      },
      "distance_km": 2.3,
      "issued_at": "2025-01-15T06:00:00Z",
      "recommendations": [
        "Avoid untreated water sources",
        "Boil all drinking water",
        "Seek immediate medical attention for diarrhea/vomiting"
      ]
    },
    {
      "alert_id": "ALERT_124",
      "disease": "measles",
      "severity": "MEDIUM",
      "case_count": 12,
      "trend": "STABLE",
      "z_score": 2.1,
      "distance_km": 15.7,
      "issued_at": "2025-01-14T18:00:00Z",
      "recommendations": [
        "Ensure vaccination coverage",
        "Monitor for fever and rash"
      ]
    }
  ],
  "total_alerts": 2
}
```

## POST /emr-records

Submit EMR records from clinics/hospitals (requires elevated permissions).

### Request

```bash
curl -X POST https://api.iluminara.health/v1/emr-records \
  -H "Authorization: Bearer YOUR_TOKEN" \
  -H "Content-Type: application/json" \
  -d '{
    "patient_id": "PAT_12345",
    "record_id": "EMR_456",
    "location": {
      "lat": 0.0512,
      "lng": 40.3129,
      "facility": "Dadaab Clinic"
    },
    "diagnosis": "cholera",
    "symptoms": ["diarrhea", "vomiting", "dehydration"],
    "lab_results": {
      "rapid_test": "positive",
      "culture": "pending"
    },
    "treatment": {
      "medications": ["ORS", "Doxycycline"],
      "admission": true
    },
    "timestamp": "2025-01-15T08:30:00Z",
    "provider_id": "DR_HASSAN_MOHAMED"
  }'
```

### Response (201 Created)

```json
{
  "status": "success",
  "record_id": "EMR_456",
  "timestamp": "2025-01-15T08:35:00Z",
  "golden_thread": {
    "verification_score": 1.0,
    "status": "CONFIRMED",
    "message": "EMR record matched with CBS signal EVT_789",
    "cbs_match": {
      "event_id": "EVT_789",
      "timestamp": "2025-01-15T08:00:00Z",
      "location_match": true,
      "time_delta_hours": 0.5,
      "symptom_overlap": ["diarrhea", "vomiting"]
    }
  },
  "compliance": {
    "jurisdiction": "KDPA_KE",
    "data_residency": "africa-south1",
    "audit_logged": true
  }
}
```

## WebSocket: Real-time alerts

Subscribe to real-time outbreak alerts via WebSocket.

### Connect

```javascript
const ws = new WebSocket('wss://api.iluminara.health/v1/ws/alerts');

ws.onopen = () => {
  // Authenticate
  ws.send(JSON.stringify({
    type: 'auth',
    token: 'YOUR_JWT_TOKEN'
  }));
  
  // Subscribe to location
  ws.send(JSON.stringify({
    type: 'subscribe',
    location: {
      lat: 0.0512,
      lng: 40.3129,
      radius: 50
    }
  }));
};

ws.onmessage = (event) => {
  const alert = JSON.parse(event.data);
  console.log('New alert:', alert);
  
  // Handle alert
  if (alert.severity === 'CRITICAL') {
    showNotification(alert);
  }
};
```

### Alert message format

```json
{
  "type": "outbreak_alert",
  "alert_id": "ALERT_125",
  "disease": "cholera",
  "severity": "CRITICAL",
  "case_count": 52,
  "location": {
    "lat": 0.0512,
    "lng": 40.3129,
    "name": "Dadaab Refugee Camp"
  },
  "timestamp": "2025-01-15T12:00:00Z",
  "recommendations": [
    "Avoid untreated water sources",
    "Boil all drinking water"
  ]
}
```

## Error responses

### 400 Bad Request

```json
{
  "status": "error",
  "error": "invalid_request",
  "message": "Missing required field: location",
  "details": {
    "field": "location",
    "expected": "object with lat/lng"
  }
}
```

### 401 Unauthorized

```json
{
  "status": "error",
  "error": "unauthorized",
  "message": "Invalid or expired token"
}
```

### 403 Forbidden (Sovereignty Violation)

```json
{
  "status": "error",
  "error": "sovereignty_violation",
  "message": "Cross-border data transfer blocked",
  "details": {
    "framework": "KDPA_KE",
    "article": "§37 (Transfer Restrictions)",
    "reason": "PHI cannot leave Kenyan jurisdiction without authorization"
  }
}
```

### 429 Too Many Requests

```json
{
  "status": "error",
  "error": "rate_limit_exceeded",
  "message": "Rate limit exceeded: 100 requests per minute",
  "retry_after": 45
}
```

## Rate limits

| Endpoint | Limit | Window |
|----------|-------|--------|
| `/health-events` | 100 req/min | Per user |
| `/voice-alerts` | 10 req/min | Per user |
| `/symptom-checker` | 50 req/min | Per user |
| `/outbreak-alerts` | 200 req/min | Per user |

## SDK examples

### Python

```python
import requests

class ILuminaraClient:
    def __init__(self, token):
        self.base_url = "https://api.iluminara.health/v1"
        self.token = token
        self.headers = {
            "Authorization": f"Bearer {token}",
            "Content-Type": "application/json"
        }
    
    def submit_health_event(self, event):
        response = requests.post(
            f"{self.base_url}/health-events",
            headers=self.headers,
            json=event
        )
        return response.json()
    
    def get_outbreak_alerts(self, lat, lng, radius=50):
        response = requests.get(
            f"{self.base_url}/outbreak-alerts",
            headers=self.headers,
            params={"lat": lat, "lng": lng, "radius": radius}
        )
        return response.json()

# Usage
client = ILuminaraClient(token="YOUR_TOKEN")

event = {
    "patient_id": "PAT_12345",
    "location": {"lat": 0.0512, "lng": 40.3129},
    "symptoms": ["fever", "cough"],
    "severity": 5
}

result = client.submit_health_event(event)
print(f"Event ID: {result['event_id']}")
```

### JavaScript

```javascript
class ILuminaraClient {
  constructor(token) {
    this.baseUrl = 'https://api.iluminara.health/v1';
    this.token = token;
  }
  
  async submitHealthEvent(event) {
    const response = await fetch(`${this.baseUrl}/health-events`, {
      method: 'POST',
      headers: {
        'Authorization': `Bearer ${this.token}`,
        'Content-Type': 'application/json'
      },
      body: JSON.stringify(event)
    });
    return response.json();
  }
  
  async getOutbreakAlerts(lat, lng, radius = 50) {
    const response = await fetch(
      `${this.baseUrl}/outbreak-alerts?lat=${lat}&lng=${lng}&radius=${radius}`,
      {
        headers: {
          'Authorization': `Bearer ${this.token}`
        }
      }
    );
    return response.json();
  }
}

// Usage
const client = new ILuminaraClient('YOUR_TOKEN');

const event = {
  patient_id: 'PAT_12345',
  location: { lat: 0.0512, lng: 40.3129 },
  symptoms: ['fever', 'cough'],
  severity: 5
};

const result = await client.submitHealthEvent(event);
console.log(`Event ID: ${result.event_id}`);
```

## Next steps

<CardGroup cols={2}>
  <Card
    title="Golden Thread"
    icon="link"
    href="/architecture/golden-thread"
  >
    Understand data fusion logic
  </Card>
  <Card
    title="Voice processing"
    icon="microphone"
    href="/api-reference/voice-processing"
  >
    Process voice alerts from CHVs
  </Card>
  <Card
    title="SovereignGuardrail"
    icon="shield-check"
    href="/governance/overview"
  >
    Configure compliance enforcement
  </Card>
  <Card
    title="Deploy to GCP"
    icon="cloud"
    href="/deployment/gcp"
  >
    Production deployment guide
  </Card>
</CardGroup>
