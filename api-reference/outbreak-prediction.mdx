---
title: Outbreak prediction
description: Predict outbreak risk using Z-score analysis and AI forecasting
---

## Endpoint

```
POST /predict
```

## Description

Predict outbreak risk based on location, symptoms, and historical data using Z-score analysis and AI-powered forecasting models.

## Headers

| Header | Value | Required |
|--------|-------|----------|
| `Content-Type` | `application/json` | Yes |

## Request body

```json
{
  "location": {
    "lat": 0.4221,
    "lng": 40.2255
  },
  "symptoms": ["diarrhea", "vomiting", "dehydration"],
  "population_size": 100000,
  "time_window_days": 7,
  "forecast_horizon_days": 14
}
```

### Request fields

| Field | Type | Required | Description |
|-------|------|----------|-------------|
| `location` | object | Yes | Geographic coordinates |
| `location.lat` | float | Yes | Latitude (-90 to 90) |
| `location.lng` | float | Yes | Longitude (-180 to 180) |
| `symptoms` | array | Yes | List of symptoms |
| `population_size` | integer | No | Population at risk (default: 100000) |
| `time_window_days` | integer | No | Historical window (default: 7) |
| `forecast_horizon_days` | integer | No | Forecast period (default: 14) |

## Response

### Success (200 OK)

```json
{
  "status": "success",
  "timestamp": "2025-12-24T11:00:00.000Z",
  "processing_time_ms": 45,
  "location": {
    "lat": 0.4221,
    "lng": 40.2255,
    "name": "Dadaab Refugee Camp"
  },
  "risk_assessment": {
    "risk_level": "HIGH",
    "risk_score": 0.85,
    "z_score": 8.3,
    "confidence": 0.92
  },
  "outbreak_prediction": {
    "disease": "cholera",
    "probability": 0.87,
    "estimated_r0": 2.8,
    "peak_cases": 1200,
    "peak_date": "2025-12-31",
    "attack_rate": 0.012
  },
  "forecast": {
    "horizon_days": 14,
    "daily_predictions": [
      {"date": "2025-12-25", "cases": 45, "lower_bound": 38, "upper_bound": 52},
      {"date": "2025-12-26", "cases": 68, "lower_bound": 58, "upper_bound": 78},
      {"date": "2025-12-27", "cases": 102, "lower_bound": 88, "upper_bound": 116}
    ]
  },
  "recommendations": [
    "IMMEDIATE: Suspected cholera outbreak. Activate emergency response.",
    "Deploy ORS (Oral Rehydration Solution) to affected areas",
    "Establish isolation units to prevent spread",
    "Notify WHO and district health officer within 24 hours",
    "Initiate contact tracing and surveillance"
  ],
  "compliance": {
    "who_ihr_notification": "REQUIRED",
    "notification_deadline": "2025-12-25T11:00:00.000Z",
    "frameworks_applied": ["WHO_IHR", "KDPA", "GDPR"]
  }
}
```

### Response fields

| Field | Type | Description |
|-------|------|-------------|
| `status` | string | "success" or "error" |
| `timestamp` | string | Response timestamp (ISO 8601) |
| `processing_time_ms` | integer | Processing time in milliseconds |
| `location` | object | Location details |
| `risk_assessment` | object | Risk analysis results |
| `outbreak_prediction` | object | Outbreak forecasting |
| `forecast` | object | Daily case predictions |
| `recommendations` | array | Recommended actions |
| `compliance` | object | Regulatory requirements |

### Risk levels

| Level | Z-Score Range | Risk Score | Description |
|-------|---------------|------------|-------------|
| `LOW` | 0-2 | 0.0-0.3 | Normal baseline activity |
| `MEDIUM` | 2-5 | 0.3-0.6 | Elevated activity, monitor closely |
| `HIGH` | 5-8 | 0.6-0.85 | Significant outbreak risk |
| `CRITICAL` | >8 | >0.85 | Outbreak confirmed, emergency response |

### Error (400 Bad Request)

```json
{
  "status": "error",
  "error": "missing_location",
  "message": "Location coordinates are required"
}
```

## Example requests

### Basic prediction

```bash
curl -X POST http://localhost:8080/predict \
  -H "Content-Type: application/json" \
  -d '{
    "location": {"lat": 0.4221, "lng": 40.2255},
    "symptoms": ["diarrhea", "vomiting"]
  }'
```

### Advanced prediction with custom parameters

```bash
curl -X POST http://localhost:8080/predict \
  -H "Content-Type: application/json" \
  -d '{
    "location": {"lat": -1.2921, "lng": 36.8219},
    "symptoms": ["fever", "cough", "fatigue"],
    "population_size": 500000,
    "time_window_days": 14,
    "forecast_horizon_days": 30
  }'
```

## Python SDK example

```python
import requests

def predict_outbreak(lat, lng, symptoms):
    response = requests.post(
        'http://localhost:8080/predict',
        json={
            'location': {'lat': lat, 'lng': lng},
            'symptoms': symptoms,
            'forecast_horizon_days': 14
        }
    )
    
    data = response.json()
    
    if data['status'] == 'success':
        risk = data['risk_assessment']
        outbreak = data['outbreak_prediction']
        
        print(f"üéØ Risk Level: {risk['risk_level']}")
        print(f"üìä Z-Score: {risk['z_score']:.2f}")
        print(f"ü¶† Disease: {outbreak['disease']}")
        print(f"üìà R0: {outbreak['estimated_r0']:.2f}")
        print(f"‚ö†Ô∏è Peak Cases: {outbreak['peak_cases']}")
        print(f"üìÖ Peak Date: {outbreak['peak_date']}")
        
        # Check if WHO notification required
        if data['compliance']['who_ihr_notification'] == 'REQUIRED':
            print(f"üö® WHO IHR Notification Required by {data['compliance']['notification_deadline']}")
        
        return data
    else:
        print(f"‚ùå Error: {data['message']}")
        return None

# Example usage
predict_outbreak(
    lat=0.4221,
    lng=40.2255,
    symptoms=['diarrhea', 'vomiting', 'dehydration']
)
```

## Integration with AI agents

The outbreak prediction endpoint integrates with iLuminara's AI agents:

```python
from edge_node.ai_agents import EpidemiologicalForecastingAgent

agent = EpidemiologicalForecastingAgent(
    location="Dadaab",
    population_size=100000
)

# Agent uses the same prediction logic
forecast = agent.forecast_outbreak(
    disease="cholera",
    historical_data=cases,
    forecast_horizon_days=14
)
```

## Compliance integration

All predictions enforce sovereignty constraints:

```python
from governance_kernel.vector_ledger import SovereignGuardrail

guardrail = SovereignGuardrail()

# Validate prediction action
guardrail.validate_action(
    action_type='High_Risk_Inference',
    payload={
        'inference': 'outbreak_prediction',
        'explanation': shap_values,
        'confidence_score': 0.92,
        'evidence_chain': ['symptom_cluster', 'z_score_anomaly', 'historical_pattern']
    },
    jurisdiction='KDPA_KE'
)
```

## WHO IHR notification

When Z-score exceeds 8.0, automatic WHO IHR Article 6 notification is triggered:

```json
{
  "compliance": {
    "who_ihr_notification": "REQUIRED",
    "notification_deadline": "2025-12-25T11:00:00.000Z",
    "notification_channels": [
      "WHO Regional Office",
      "Ministry of Health",
      "District Health Officer"
    ]
  }
}
```

## Performance

- **Prediction latency**: ~45ms average
- **Throughput**: 100+ predictions/second
- **Accuracy**: 92% confidence on 14-day forecasts
- **Data sources**: CBS, EMR, IDSR, environmental sensors

## Next steps

<CardGroup cols={2}>
  <Card
    title="Voice processing"
    icon="microphone"
    href="/api-reference/voice-processing"
  >
    Convert voice alerts to predictions
  </Card>
  <Card
    title="AI agents"
    icon="brain-circuit"
    href="/ai-agents/overview"
  >
    Deploy autonomous forecasting agents
  </Card>
  <Card
    title="Golden Thread"
    icon="link"
    href="/architecture/golden-thread"
  >
    Understand data fusion logic
  </Card>
  <Card
    title="Governance"
    icon="shield-check"
    href="/governance/overview"
  >
    Compliance enforcement
  </Card>
</CardGroup>
