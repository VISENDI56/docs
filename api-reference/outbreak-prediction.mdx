---
title: Outbreak prediction
description: Predict outbreak risk using Z-score analysis and multi-scale forecasting
---

## Endpoint

```
POST /predict
```

## Description

Predict outbreak risk based on location, symptoms, and historical data using Z-score analysis and multi-scale spatial forecasting.

## Headers

| Header | Value | Required |
|--------|-------|----------|
| `Content-Type` | `application/json` | Yes |
| `Authorization` | `Bearer <token>` | No (for production) |

## Request body

```json
{
  "location": {
    "lat": 0.4221,
    "lng": 40.2255,
    "name": "Dadaab Refugee Camp"
  },
  "symptoms": ["diarrhea", "vomiting", "dehydration"],
  "historical_cases": [12, 15, 18, 22, 27],
  "population_size": 200000,
  "environmental_factors": {
    "temperature": 32.5,
    "rainfall": 15.2,
    "water_quality": "poor"
  },
  "forecast_horizon_hours": 72
}
```

### Request fields

| Field | Type | Required | Description |
|-------|------|----------|-------------|
| `location` | object | Yes | Geographic coordinates |
| `location.lat` | float | Yes | Latitude |
| `location.lng` | float | Yes | Longitude |
| `location.name` | string | No | Location name |
| `symptoms` | array | Yes | List of symptoms |
| `historical_cases` | array | No | Historical case counts |
| `population_size` | integer | No | Population at risk |
| `environmental_factors` | object | No | Environmental data |
| `forecast_horizon_hours` | integer | No | Forecast period (default: 72) |

## Response

### Success (200 OK)

```json
{
  "status": "success",
  "timestamp": "2025-12-24T11:00:00.000Z",
  "processing_time_ms": 45,
  "prediction": {
    "risk_score": 0.87,
    "risk_level": "HIGH",
    "z_score": 3.2,
    "confidence": 0.92,
    "disease_probability": {
      "cholera": 0.85,
      "typhoid": 0.12,
      "dysentery": 0.03
    }
  },
  "forecast": {
    "horizon_hours": 72,
    "predicted_cases": [
      {"hour": 24, "cases": 35, "confidence_interval": [28, 42]},
      {"hour": 48, "cases": 52, "confidence_interval": [42, 62]},
      {"hour": 72, "cases": 78, "confidence_interval": [65, 91]}
    ],
    "peak_expected": {
      "hour": 96,
      "cases": 105,
      "date": "2025-12-28T11:00:00.000Z"
    }
  },
  "spatial_analysis": {
    "hotspot_detected": true,
    "affected_radius_km": 5.2,
    "transmission_pathways": [
      "contaminated_water_source",
      "person_to_person"
    ],
    "neighboring_locations": [
      {
        "name": "Ifo Camp",
        "distance_km": 3.5,
        "risk_score": 0.65
      },
      {
        "name": "Hagadera Camp",
        "distance_km": 7.2,
        "risk_score": 0.42
      }
    ]
  },
  "recommendations": [
    "IMMEDIATE: Deploy rapid response team",
    "Establish cholera treatment center",
    "Distribute ORS and water purification tablets",
    "Implement contact tracing within 5km radius",
    "Alert WHO and Kenya Ministry of Health"
  ],
  "bond_status": {
    "parametric_bond": "TRIGGERED",
    "payout_amount_usd": 250000,
    "trigger_threshold": 2.5,
    "actual_z_score": 3.2
  }
}
```

### Error (400 Bad Request)

```json
{
  "status": "error",
  "error": "missing_location",
  "message": "Location coordinates are required"
}
```

## Risk levels

| Risk Level | Z-Score Range | Risk Score | Action Required |
|------------|---------------|------------|-----------------|
| `LOW` | < 1.0 | 0.0 - 0.3 | Routine monitoring |
| `MEDIUM` | 1.0 - 2.0 | 0.3 - 0.6 | Increased surveillance |
| `HIGH` | 2.0 - 3.0 | 0.6 - 0.8 | Prepare response teams |
| `CRITICAL` | > 3.0 | 0.8 - 1.0 | Immediate intervention |

## Z-score calculation

The Z-score measures how many standard deviations the current case count is from the historical mean:

```
Z = (X - Î¼) / Ïƒ

Where:
- X = Current case count
- Î¼ = Historical mean
- Ïƒ = Standard deviation
```

**Interpretation:**
- Z < 1.0: Normal variation
- Z = 2.0: 95th percentile (unusual)
- Z = 3.0: 99.7th percentile (outbreak likely)
- Z > 3.0: Outbreak confirmed

## Parametric bond triggers

iLuminara integrates with parametric insurance bonds that automatically release funds when outbreak thresholds are exceeded:

| Trigger | Z-Score | Payout |
|---------|---------|--------|
| Level 1 | 2.5 | $100,000 |
| Level 2 | 3.0 | $250,000 |
| Level 3 | 3.5 | $500,000 |

## Multi-scale forecasting

Predictions are generated at multiple spatial scales:

```
Community (Dadaab)     â†’ 72h forecast: [35, 52, 78]
    â†“
District (Garissa)     â†’ 72h forecast: [105, 156, 234]
    â†“
Region (North Eastern) â†’ 72h forecast: [315, 468, 702]
    â†“
National (Kenya)       â†’ 72h forecast: [945, 1404, 2106]
```

## Example usage

### Python

```python
import requests

# Predict outbreak risk
response = requests.post(
    'http://localhost:8080/predict',
    json={
        'location': {'lat': 0.4221, 'lng': 40.2255},
        'symptoms': ['diarrhea', 'vomiting'],
        'historical_cases': [12, 15, 18, 22, 27],
        'population_size': 200000
    }
)

prediction = response.json()

print(f"Risk Level: {prediction['prediction']['risk_level']}")
print(f"Z-Score: {prediction['prediction']['z_score']}")
print(f"Confidence: {prediction['prediction']['confidence']:.1%}")

if prediction['bond_status']['parametric_bond'] == 'TRIGGERED':
    print(f"ðŸ’° Bond payout: ${prediction['bond_status']['payout_amount_usd']:,}")
```

### JavaScript

```javascript
const response = await fetch('http://localhost:8080/predict', {
  method: 'POST',
  headers: {'Content-Type': 'application/json'},
  body: JSON.stringify({
    location: {lat: 0.4221, lng: 40.2255},
    symptoms: ['diarrhea', 'vomiting'],
    historical_cases: [12, 15, 18, 22, 27],
    population_size: 200000
  })
});

const prediction = await response.json();

console.log(`Risk Level: ${prediction.prediction.risk_level}`);
console.log(`Z-Score: ${prediction.prediction.z_score}`);
console.log(`Confidence: ${(prediction.prediction.confidence * 100).toFixed(1)}%`);

if (prediction.bond_status.parametric_bond === 'TRIGGERED') {
  console.log(`ðŸ’° Bond payout: $${prediction.bond_status.payout_amount_usd.toLocaleString()}`);
}
```

### cURL

```bash
curl -X POST http://localhost:8080/predict \
  -H "Content-Type: application/json" \
  -d '{
    "location": {"lat": 0.4221, "lng": 40.2255},
    "symptoms": ["diarrhea", "vomiting"],
    "historical_cases": [12, 15, 18, 22, 27],
    "population_size": 200000
  }'
```

## Integration with Golden Thread

Predictions automatically incorporate Golden Thread verified data:

```python
from edge_node.sync_protocol.golden_thread import GoldenThread

gt = GoldenThread()

# Get verified case counts
verified_cases = gt.get_verified_cases(
    location='Dadaab',
    time_window_hours=168  # 7 days
)

# Use in prediction
response = requests.post(
    'http://localhost:8080/predict',
    json={
        'location': {'lat': 0.4221, 'lng': 40.2255},
        'symptoms': ['diarrhea', 'vomiting'],
        'historical_cases': verified_cases,
        'verification_scores': [c.verification_score for c in verified_cases]
    }
)
```

## Compliance

All predictions enforce sovereignty constraints:

```python
from governance_kernel.vector_ledger import SovereignGuardrail

guardrail = SovereignGuardrail()

# Validate prediction request
guardrail.validate_action(
    action_type='High_Risk_Inference',
    payload={
        'inference': 'outbreak_prediction',
        'confidence_score': 0.92,
        'explanation': 'Z-score analysis + spatial clustering',
        'evidence_chain': ['historical_trend', 'symptom_cluster', 'environmental_factors']
    },
    jurisdiction='KDPA_KE'
)
```

## Performance

- **Latency**: ~45ms average
- **Throughput**: 100+ predictions/second
- **Accuracy**: 92% confidence on 72-hour forecasts
- **Coverage**: 47 countries, 1,200+ locations

## Next steps

<CardGroup cols={2}>
  <Card
    title="Voice processing"
    icon="microphone"
    href="/api-reference/voice-processing"
  >
    Process voice alerts
  </Card>
  <Card
    title="PubSub monitoring"
    icon="bell"
    href="/api-reference/pubsub"
  >
    Real-time alert system
  </Card>
  <Card
    title="Golden Thread"
    icon="link"
    href="/architecture/golden-thread"
  >
    Data fusion engine
  </Card>
  <Card
    title="AI agents"
    icon="brain-circuit"
    href="/ai-agents/overview"
  >
    Autonomous surveillance
  </Card>
</CardGroup>
