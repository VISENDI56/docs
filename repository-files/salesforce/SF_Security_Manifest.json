{
  "manifestVersion": "2.0",
  "applicationName": "iLuminara-Core",
  "applicationVersion": "1.0.0",
  "vendor": "VISENDI Health Technologies",
  "securityReviewDate": "2025-12-23",
  "complianceFrameworks": [
    "HIPAA",
    "GDPR",
    "Salesforce Shield",
    "SOC 2 Type II",
    "ISO 27001"
  ],
  
  "authentication": {
    "method": "OAuth 2.0",
    "flows": [
      "authorization_code",
      "refresh_token"
    ],
    "scopes": [
      "api",
      "refresh_token",
      "full",
      "custom_permissions"
    ],
    "tokenEndpoint": "https://login.salesforce.com/services/oauth2/token",
    "authorizationEndpoint": "https://login.salesforce.com/services/oauth2/authorize",
    "jwksUri": "https://login.salesforce.com/id/keys",
    "pkceRequired": true,
    "stateParameterRequired": true
  },
  
  "dataClassification": {
    "sensitiveDataTypes": [
      {
        "type": "PHI",
        "description": "Protected Health Information",
        "fields": [
          "Patient_ID__c",
          "Diagnosis__c",
          "Symptoms__c",
          "Medical_History__c",
          "Location__c"
        ],
        "encryptionRequired": true,
        "shieldEncryption": true,
        "retentionPolicy": "180_DAYS"
      },
      {
        "type": "PII",
        "description": "Personally Identifiable Information",
        "fields": [
          "Name",
          "Email",
          "Phone",
          "National_ID__c"
        ],
        "encryptionRequired": true,
        "shieldEncryption": true,
        "retentionPolicy": "365_DAYS"
      },
      {
        "type": "LOCATION",
        "description": "Geographic location data",
        "fields": [
          "Latitude__c",
          "Longitude__c",
          "Address__c"
        ],
        "encryptionRequired": true,
        "shieldEncryption": false,
        "retentionPolicy": "180_DAYS"
      }
    ]
  },
  
  "crudOperations": {
    "Health_Record__c": {
      "create": {
        "description": "Create new health record from CHV voice alert",
        "requiredPermissions": ["Create_Health_Records"],
        "dataAccess": ["PHI", "PII", "LOCATION"],
        "auditLogging": true,
        "encryptionInTransit": true,
        "encryptionAtRest": true,
        "sovereigntyCheck": true,
        "consentRequired": true
      },
      "read": {
        "description": "Read health records for surveillance",
        "requiredPermissions": ["Read_Health_Records"],
        "dataAccess": ["PHI", "PII", "LOCATION"],
        "auditLogging": true,
        "fieldLevelSecurity": true,
        "sharingRules": "Private"
      },
      "update": {
        "description": "Update health record with diagnosis",
        "requiredPermissions": ["Edit_Health_Records"],
        "dataAccess": ["PHI"],
        "auditLogging": true,
        "versionControl": true,
        "approvalRequired": false
      },
      "delete": {
        "description": "Cryptographically shred health record (IP-02)",
        "requiredPermissions": ["Delete_Health_Records", "Crypto_Shredder_Admin"],
        "dataAccess": ["PHI", "PII"],
        "auditLogging": true,
        "hardDelete": false,
        "cryptoShredder": true,
        "retentionPolicyOverride": false
      }
    },
    
    "Outbreak_Alert__c": {
      "create": {
        "description": "Create outbreak alert from AI agent",
        "requiredPermissions": ["Create_Alerts"],
        "dataAccess": ["LOCATION"],
        "auditLogging": true,
        "realTimeNotification": true,
        "sovereigntyCheck": true
      },
      "read": {
        "description": "Read outbreak alerts for dashboard",
        "requiredPermissions": ["Read_Alerts"],
        "dataAccess": ["LOCATION"],
        "auditLogging": false,
        "publicAccess": false
      },
      "update": {
        "description": "Update alert status",
        "requiredPermissions": ["Edit_Alerts"],
        "dataAccess": [],
        "auditLogging": true,
        "workflowTriggers": ["Alert_Status_Change"]
      },
      "delete": {
        "description": "Archive resolved alert",
        "requiredPermissions": ["Delete_Alerts"],
        "dataAccess": [],
        "auditLogging": true,
        "hardDelete": false,
        "archiveOnly": true
      }
    },
    
    "Consent_Record__c": {
      "create": {
        "description": "Record patient consent",
        "requiredPermissions": ["Manage_Consent"],
        "dataAccess": ["PII"],
        "auditLogging": true,
        "encryptionInTransit": true,
        "encryptionAtRest": true,
        "immutable": true
      },
      "read": {
        "description": "Verify consent before processing",
        "requiredPermissions": ["Read_Consent"],
        "dataAccess": ["PII"],
        "auditLogging": true,
        "cacheEnabled": false
      },
      "update": {
        "description": "Update consent scope",
        "requiredPermissions": ["Manage_Consent"],
        "dataAccess": ["PII"],
        "auditLogging": true,
        "versionControl": true,
        "notificationRequired": true
      },
      "delete": {
        "description": "Revoke consent (triggers data deletion)",
        "requiredPermissions": ["Manage_Consent", "GDPR_Right_To_Erasure"],
        "dataAccess": ["PII", "PHI"],
        "auditLogging": true,
        "cascadeDelete": true,
        "cryptoShredder": true
      }
    }
  },
  
  "externalIntegrations": {
    "googleCloud": {
      "description": "Cloud Oracle for outbreak forecasting",
      "endpoints": [
        "https://bigquery.googleapis.com/bigquery/v2",
        "https://aiplatform.googleapis.com/v1"
      ],
      "authentication": "Service Account (OAuth 2.0)",
      "dataTransfer": "PHI",
      "encryptionInTransit": "TLS 1.3",
      "sovereigntyCompliance": true,
      "allowedRegions": ["africa-south1", "europe-west1"]
    },
    
    "edgeNodes": {
      "description": "Edge devices for offline data collection",
      "endpoints": [
        "https://*.iluminara.health/api/v1"
      ],
      "authentication": "mTLS + JWT",
      "dataTransfer": "PHI",
      "encryptionInTransit": "TLS 1.3",
      "offlineCapable": true,
      "syncProtocol": "Golden Thread"
    }
  },
  
  "salesforceShieldConfiguration": {
    "platformEncryption": {
      "enabled": true,
      "encryptionPolicy": "iLuminara_PHI_Policy",
      "keyManagement": "Bring Your Own Key (BYOK)",
      "keyRotationDays": 90,
      "encryptedFields": [
        "Health_Record__c.Patient_ID__c",
        "Health_Record__c.Diagnosis__c",
        "Health_Record__c.Symptoms__c",
        "Health_Record__c.Medical_History__c",
        "Consent_Record__c.Consent_Token__c"
      ]
    },
    
    "eventMonitoring": {
      "enabled": true,
      "retentionDays": 2555,
      "monitoredEvents": [
        "API",
        "Login",
        "Logout",
        "URI",
        "Report",
        "ReportExport"
      ],
      "realTimeAlerts": true
    },
    
    "fieldAuditTrail": {
      "enabled": true,
      "retentionYears": 7,
      "trackedObjects": [
        "Health_Record__c",
        "Outbreak_Alert__c",
        "Consent_Record__c"
      ]
    }
  },
  
  "dataResidency": {
    "primaryRegion": "Africa (South Africa)",
    "allowedRegions": [
      "Africa (South Africa)",
      "Europe (Ireland)",
      "North America (Canada)"
    ],
    "blockedRegions": [
      "Asia Pacific",
      "Australia",
      "South America"
    ],
    "crossBorderTransferPolicy": "Explicit Authorization Required",
    "standardContractualClauses": true
  },
  
  "securityControls": {
    "ipWhitelisting": {
      "enabled": true,
      "allowedRanges": [
        "10.0.0.0/8",
        "172.16.0.0/12",
        "192.168.0.0/16"
      ]
    },
    
    "sessionSecurity": {
      "sessionTimeout": 120,
      "lockSessionsToIp": true,
      "requireHttpsForLogins": true,
      "requireHttpsForContent": true
    },
    
    "passwordPolicies": {
      "minimumLength": 12,
      "complexity": "High",
      "expirationDays": 90,
      "historyRestriction": 12,
      "lockoutThreshold": 5
    },
    
    "mfa": {
      "required": true,
      "methods": ["Authenticator App", "Security Key"],
      "sessionDuration": 120
    }
  },
  
  "complianceArtifacts": {
    "hipaa": {
      "baa": "Business Associate Agreement on file",
      "technicalSafeguards": "ยง164.312 compliant",
      "auditControls": "ยง164.312(b) implemented",
      "integrityControls": "ยง164.312(c)(1) implemented",
      "transmissionSecurity": "ยง164.312(e) implemented"
    },
    
    "gdpr": {
      "dpa": "Data Processing Agreement on file",
      "rightToErasure": "Art. 17 - Crypto Shredder (IP-02)",
      "rightToExplanation": "Art. 22 - SHAP explainability",
      "dataPortability": "Art. 20 - Export API available",
      "privacyByDesign": "Art. 25 - Sovereignty-native architecture"
    },
    
    "salesforceShield": {
      "platformEncryption": "Enabled with BYOK",
      "eventMonitoring": "Enabled with 7-year retention",
      "fieldAuditTrail": "Enabled for all PHI objects"
    }
  },
  
  "incidentResponse": {
    "breachNotificationProcedure": "72-hour GDPR compliance",
    "contactEmail": "security@iluminara.health",
    "contactPhone": "+254-XXX-XXXXXX",
    "escalationPath": [
      "Security Team",
      "Data Protection Officer",
      "Chief Compliance Officer"
    ],
    "forensicsEnabled": true,
    "tamperProofAudit": true
  },
  
  "thirdPartyAssessments": {
    "penetrationTesting": {
      "lastCompleted": "2025-12-01",
      "frequency": "Quarterly",
      "scope": "Full application stack"
    },
    
    "vulnerabilityScanning": {
      "tool": "CodeQL + Gitleaks",
      "frequency": "Daily",
      "criticalPatchSLA": "24 hours"
    },
    
    "certifications": [
      {
        "name": "SOC 2 Type II",
        "issuer": "Independent Auditor",
        "validUntil": "2026-12-31"
      },
      {
        "name": "ISO 27001",
        "issuer": "Certification Body",
        "validUntil": "2026-12-31"
      }
    ]
  },
  
  "changeManagement": {
    "releaseFrequency": "Bi-weekly",
    "testingRequirements": [
      "Unit tests (>80% coverage)",
      "Integration tests",
      "Security scanning (CodeQL)",
      "Compliance validation (SovereignGuardrail)"
    ],
    "rollbackProcedure": "Automated via CI/CD",
    "maintenanceWindow": "Saturday 02:00-06:00 UTC"
  }
}
