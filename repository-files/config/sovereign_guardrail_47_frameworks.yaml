# iLuminara-Core SovereignGuardrail Configuration
# Enforces 47 global legal frameworks for health data sovereignty

version: "2.0.0"
fortress_name: "iLuminara Sovereign Health Fortress - Complete Framework Edition"

# ═══════════════════════════════════════════════════════════════════════════
# JURISDICTION CONFIGURATION
# ═══════════════════════════════════════════════════════════════════════════

jurisdiction:
  primary: "KDPA_KE"  # Kenya Data Protection Act
  secondary:
    - "GDPR_EU"
    - "POPIA_ZA"
    - "HIPAA_US"
    - "PIPEDA_CA"

# ═══════════════════════════════════════════════════════════════════════════
# 47 GLOBAL LEGAL FRAMEWORKS
# ═══════════════════════════════════════════════════════════════════════════

frameworks:
  # ─────────────────────────────────────────────────────────────────────────
  # DATA PROTECTION & PRIVACY (14 frameworks)
  # ─────────────────────────────────────────────────────────────────────────
  
  GDPR:
    name: "General Data Protection Regulation"
    region: "European Union"
    enabled: true
    enforcement_level: "STRICT"
    articles:
      - "Art. 6 (Lawfulness of Processing)"
      - "Art. 9 (Special Categories)"
      - "Art. 17 (Right to Erasure)"
      - "Art. 22 (Right to Explanation)"
      - "Art. 30 (Records of Processing)"
      - "Art. 32 (Security of Processing)"
      - "Art. 45 (Adequacy Decisions)"
      - "Art. 46 (Standard Contractual Clauses)"
    penalties: "€20M or 4% global revenue"
  
  KDPA:
    name: "Kenya Data Protection Act"
    region: "Kenya"
    enabled: true
    enforcement_level: "STRICT"
    sections:
      - "§37 (Transfer Restrictions)"
      - "§42 (Data Subject Rights)"
      - "§65 (Offences and Penalties)"
    penalties: "KES 5M or 1 year imprisonment"
  
  POPIA:
    name: "Protection of Personal Information Act"
    region: "South Africa"
    enabled: true
    enforcement_level: "STRICT"
    sections:
      - "§11 (Lawfulness)"
      - "§14 (Cross-border Transfers)"
      - "§72 (Offences)"
    penalties: "ZAR 10M or 10 years imprisonment"
  
  HIPAA:
    name: "Health Insurance Portability and Accountability Act"
    region: "United States"
    enabled: true
    enforcement_level: "STRICT"
    sections:
      - "§164.312 (Physical/Technical Safeguards)"
      - "§164.530(j) (Documentation)"
      - "§164.502 (Uses and Disclosures)"
    penalties: "$1.5M per violation category per year"
  
  HITECH:
    name: "Health Information Technology for Economic and Clinical Health Act"
    region: "United States"
    enabled: true
    enforcement_level: "STRICT"
    sections:
      - "§13410 (Notification of Breach)"
      - "§13402 (Breach Notification Requirements)"
    penalties: "$1.5M per violation"
  
  PIPEDA:
    name: "Personal Information Protection and Electronic Documents Act"
    region: "Canada"
    enabled: true
    enforcement_level: "STRICT"
    sections:
      - "§5-7 (Lawfulness of Processing)"
      - "§8 (Cross-border Transfers)"
    penalties: "CAD 100K per violation"
  
  CCPA:
    name: "California Consumer Privacy Act"
    region: "California, USA"
    enabled: true
    enforcement_level: "MODERATE"
    sections:
      - "§1798.100 (Right to Know)"
      - "§1798.105 (Right to Delete)"
      - "§1798.120 (Right to Opt-Out)"
    penalties: "$7,500 per intentional violation"
  
  LGPD:
    name: "Lei Geral de Proteção de Dados"
    region: "Brazil"
    enabled: true
    enforcement_level: "MODERATE"
    articles:
      - "Art. 7 (Lawful Basis)"
      - "Art. 11 (Sensitive Personal Data)"
      - "Art. 33 (International Transfers)"
    penalties: "BRL 50M or 2% revenue"
  
  PDPA_SG:
    name: "Personal Data Protection Act"
    region: "Singapore"
    enabled: true
    enforcement_level: "MODERATE"
    sections:
      - "§13 (Consent)"
      - "§26 (Transfer Limitation)"
    penalties: "SGD 1M"
  
  PDPA_TH:
    name: "Personal Data Protection Act"
    region: "Thailand"
    enabled: true
    enforcement_level: "MODERATE"
    sections:
      - "§21 (Consent)"
      - "§28 (Cross-border Transfer)"
    penalties: "THB 5M"
  
  APPI:
    name: "Act on the Protection of Personal Information"
    region: "Japan"
    enabled: true
    enforcement_level: "MODERATE"
    articles:
      - "Art. 16 (Proper Acquisition)"
      - "Art. 24 (Cross-border Transfer)"
    penalties: "JPY 100M"
  
  PIPL:
    name: "Personal Information Protection Law"
    region: "China"
    enabled: true
    enforcement_level: "STRICT"
    articles:
      - "Art. 13 (Consent)"
      - "Art. 38 (Cross-border Transfer)"
      - "Art. 66 (Penalties)"
    penalties: "CNY 50M or 5% revenue"
  
  DPA_UK:
    name: "Data Protection Act"
    region: "United Kingdom"
    enabled: true
    enforcement_level: "STRICT"
    sections:
      - "Schedule 1 (GDPR Principles)"
      - "Part 3 (Law Enforcement Processing)"
    penalties: "£17.5M or 4% revenue"
  
  NDPR:
    name: "Nigeria Data Protection Regulation"
    region: "Nigeria"
    enabled: true
    enforcement_level: "MODERATE"
    sections:
      - "§2.1 (Lawful Processing)"
      - "§2.11 (Cross-border Transfer)"
    penalties: "NGN 10M or 2% revenue"

  # ─────────────────────────────────────────────────────────────────────────
  # HEALTHCARE & MEDICAL ETHICS (8 frameworks)
  # ─────────────────────────────────────────────────────────────────────────
  
  WHO_IHR:
    name: "WHO International Health Regulations"
    region: "Global"
    enabled: true
    enforcement_level: "STRICT"
    articles:
      - "Art. 6 (Notification)"
      - "Art. 12 (Public Health Emergency)"
      - "Art. 45 (Treatment of Personal Data)"
    authority: "World Health Organization"
  
  GENEVA_CONVENTION:
    name: "Geneva Conventions"
    region: "Global"
    enabled: true
    enforcement_level: "STRICT"
    articles:
      - "Art. 3 (Humane Treatment)"
      - "Art. 16 (Protection of Medical Personnel)"
    authority: "International Committee of the Red Cross"
  
  ICRC_MEDICAL_ETHICS:
    name: "ICRC Medical Ethics"
    region: "Global"
    enabled: true
    enforcement_level: "STRICT"
    principles:
      - "Medical confidentiality"
      - "Informed consent"
      - "Non-discrimination"
    authority: "International Committee of the Red Cross"
  
  WMA_DECLARATION_HELSINKI:
    name: "WMA Declaration of Helsinki"
    region: "Global"
    enabled: true
    enforcement_level: "STRICT"
    principles:
      - "Informed consent"
      - "Research ethics"
      - "Vulnerable populations"
    authority: "World Medical Association"
  
  SPHERE_STANDARDS:
    name: "Sphere Humanitarian Standards"
    region: "Global"
    enabled: true
    enforcement_level: "STRICT"
    standards:
      - "Health systems"
      - "Essential health services"
      - "Water, sanitation and hygiene"
    authority: "Sphere Association"
  
  UN_HUMANITARIAN_PRINCIPLES:
    name: "UN Humanitarian Principles"
    region: "Global"
    enabled: true
    enforcement_level: "STRICT"
    principles:
      - "Humanity"
      - "Neutrality"
      - "Impartiality"
      - "Independence"
    authority: "United Nations OCHA"
  
  CHS:
    name: "Core Humanitarian Standard"
    region: "Global"
    enabled: true
    enforcement_level: "STRICT"
    commitments: 9
    authority: "CHS Alliance"
  
  WHO_EMERGENCY_TRIAGE:
    name: "WHO Emergency Triage Guidelines"
    region: "Global"
    enabled: true
    enforcement_level: "STRICT"
    categories:
      - "Emergency (Red)"
      - "Priority (Yellow)"
      - "Non-urgent (Green)"
    authority: "World Health Organization"

  # ─────────────────────────────────────────────────────────────────────────
  # ARTIFICIAL INTELLIGENCE & ETHICS (6 frameworks)
  # ─────────────────────────────────────────────────────────────────────────
  
  EU_AI_ACT:
    name: "EU Artificial Intelligence Act"
    region: "European Union"
    enabled: true
    enforcement_level: "STRICT"
    articles:
      - "§6 (High-Risk AI)"
      - "§8 (Transparency)"
      - "§12 (Record Keeping)"
      - "§13 (Transparency for Users)"
    penalties: "€30M or 6% global revenue"
  
  UNESCO_AI_ETHICS:
    name: "UNESCO Recommendation on AI Ethics"
    region: "Global"
    enabled: true
    enforcement_level: "MODERATE"
    principles:
      - "Human rights and dignity"
      - "Living in peaceful societies"
      - "Ensuring diversity and inclusiveness"
      - "Environment and ecosystem flourishing"
    authority: "UNESCO"
  
  OECD_AI_PRINCIPLES:
    name: "OECD AI Principles"
    region: "Global"
    enabled: true
    enforcement_level: "MODERATE"
    principles:
      - "Inclusive growth"
      - "Human-centered values"
      - "Transparency and explainability"
      - "Robustness and safety"
      - "Accountability"
    authority: "OECD"
  
  IEEE_ETHICALLY_ALIGNED_DESIGN:
    name: "IEEE Ethically Aligned Design"
    region: "Global"
    enabled: true
    enforcement_level: "MODERATE"
    principles:
      - "Human rights"
      - "Well-being"
      - "Data agency"
      - "Effectiveness"
      - "Transparency"
    authority: "IEEE"
  
  NIST_AI_RMF:
    name: "NIST AI Risk Management Framework"
    region: "United States"
    enabled: true
    enforcement_level: "MODERATE"
    functions:
      - "Govern"
      - "Map"
      - "Measure"
      - "Manage"
    authority: "NIST"
  
  SINGAPORE_AI_GOVERNANCE:
    name: "Singapore Model AI Governance Framework"
    region: "Singapore"
    enabled: true
    enforcement_level: "MODERATE"
    principles:
      - "Transparency"
      - "Explainability"
      - "Fairness"
      - "Human oversight"
    authority: "PDPC Singapore"

  # ─────────────────────────────────────────────────────────────────────────
  # CYBERSECURITY & INFORMATION SECURITY (10 frameworks)
  # ─────────────────────────────────────────────────────────────────────────
  
  ISO_27001:
    name: "ISO/IEC 27001 Information Security"
    region: "Global"
    enabled: true
    enforcement_level: "STRICT"
    controls:
      - "A.8.3.2 (Disposal of Media)"
      - "A.12.4 (Logging)"
      - "A.12.6 (Technical Vulnerability Management)"
      - "A.18.1 (Compliance)"
    authority: "ISO/IEC"
  
  ISO_27701:
    name: "ISO/IEC 27701 Privacy Information Management"
    region: "Global"
    enabled: true
    enforcement_level: "STRICT"
    extensions: "ISO 27001 + Privacy"
    authority: "ISO/IEC"
  
  SOC_2:
    name: "SOC 2 Type II"
    region: "United States"
    enabled: true
    enforcement_level: "STRICT"
    criteria:
      - "Security"
      - "Availability"
      - "Processing Integrity"
      - "Confidentiality"
      - "Privacy"
    authority: "AICPA"
  
  NIST_CSF:
    name: "NIST Cybersecurity Framework"
    region: "United States"
    enabled: true
    enforcement_level: "STRICT"
    functions:
      - "Identify"
      - "Protect"
      - "Detect"
      - "Respond"
      - "Recover"
    authority: "NIST"
  
  NIST_SP_800_53:
    name: "NIST SP 800-53 Security Controls"
    region: "United States"
    enabled: true
    enforcement_level: "STRICT"
    families:
      - "IA (Identification and Authentication)"
      - "AC (Access Control)"
      - "AU (Audit and Accountability)"
      - "SC (System and Communications Protection)"
    authority: "NIST"
  
  NIST_SP_800_88:
    name: "NIST SP 800-88 Media Sanitization"
    region: "United States"
    enabled: true
    enforcement_level: "STRICT"
    methods:
      - "Clear"
      - "Purge"
      - "Destroy"
    authority: "NIST"
  
  PCI_DSS:
    name: "Payment Card Industry Data Security Standard"
    region: "Global"
    enabled: true
    enforcement_level: "MODERATE"
    requirements: 12
    authority: "PCI Security Standards Council"
  
  CIS_CONTROLS:
    name: "CIS Critical Security Controls"
    region: "Global"
    enabled: true
    enforcement_level: "MODERATE"
    controls: 18
    authority: "Center for Internet Security"
  
  COBIT:
    name: "COBIT 2019 Framework"
    region: "Global"
    enabled: true
    enforcement_level: "MODERATE"
    domains:
      - "Evaluate, Direct and Monitor"
      - "Align, Plan and Organize"
      - "Build, Acquire and Implement"
      - "Deliver, Service and Support"
      - "Monitor, Evaluate and Assess"
    authority: "ISACA"
  
  CLOUD_SECURITY_ALLIANCE:
    name: "CSA Cloud Controls Matrix"
    region: "Global"
    enabled: true
    enforcement_level: "MODERATE"
    domains: 17
    authority: "Cloud Security Alliance"

  # ─────────────────────────────────────────────────────────────────────────
  # HUMAN RIGHTS & SOCIAL JUSTICE (5 frameworks)
  # ─────────────────────────────────────────────────────────────────────────
  
  UDHR:
    name: "Universal Declaration of Human Rights"
    region: "Global"
    enabled: true
    enforcement_level: "STRICT"
    articles:
      - "Art. 3 (Right to Life)"
      - "Art. 12 (Right to Privacy)"
      - "Art. 25 (Right to Health)"
    authority: "United Nations"
  
  UN_CRC:
    name: "UN Convention on the Rights of the Child"
    region: "Global"
    enabled: true
    enforcement_level: "STRICT"
    articles:
      - "Art. 16 (Right to Privacy)"
      - "Art. 24 (Right to Health)"
    authority: "United Nations"
  
  AFRICAN_CHARTER:
    name: "African Charter on Human and Peoples' Rights"
    region: "Africa"
    enabled: true
    enforcement_level: "STRICT"
    articles:
      - "Art. 16 (Right to Health)"
      - "Art. 18 (Protection of Family)"
    authority: "African Union"
  
  ECHR:
    name: "European Convention on Human Rights"
    region: "Europe"
    enabled: true
    enforcement_level: "STRICT"
    articles:
      - "Art. 8 (Right to Privacy)"
      - "Art. 2 (Right to Life)"
    authority: "Council of Europe"
  
  UN_CRPD:
    name: "UN Convention on Rights of Persons with Disabilities"
    region: "Global"
    enabled: true
    enforcement_level: "STRICT"
    articles:
      - "Art. 22 (Respect for Privacy)"
      - "Art. 25 (Right to Health)"
    authority: "United Nations"

  # ─────────────────────────────────────────────────────────────────────────
  # ENVIRONMENTAL & CLIMATE (4 frameworks)
  # ─────────────────────────────────────────────────────────────────────────
  
  PARIS_AGREEMENT:
    name: "Paris Agreement on Climate Change"
    region: "Global"
    enabled: true
    enforcement_level: "MODERATE"
    articles:
      - "Art. 2 (Temperature Goals)"
      - "Art. 4 (Mitigation)"
    authority: "UNFCCC"
  
  SDG:
    name: "UN Sustainable Development Goals"
    region: "Global"
    enabled: true
    enforcement_level: "MODERATE"
    goals:
      - "Goal 3 (Good Health and Well-being)"
      - "Goal 6 (Clean Water and Sanitation)"
      - "Goal 13 (Climate Action)"
    authority: "United Nations"
  
  ISO_14001:
    name: "ISO 14001 Environmental Management"
    region: "Global"
    enabled: true
    enforcement_level: "MODERATE"
    focus: "Environmental impact reduction"
    authority: "ISO"
  
  GHG_PROTOCOL:
    name: "Greenhouse Gas Protocol"
    region: "Global"
    enabled: true
    enforcement_level: "MODERATE"
    scopes:
      - "Scope 1 (Direct Emissions)"
      - "Scope 2 (Indirect Emissions)"
      - "Scope 3 (Value Chain)"
    authority: "WRI/WBCSD"

# ═══════════════════════════════════════════════════════════════════════════
# SOVEREIGNTY RULES
# ═══════════════════════════════════════════════════════════════════════════

sovereignty:
  data_residency:
    enabled: true
    allowed_zones:
      - "africa-south1"      # Kenya, South Africa
      - "europe-west1"       # EU (GDPR)
      - "northamerica-northeast1"  # Canada (PIPEDA)
      - "us-central1"        # USA (HIPAA) - requires explicit consent
    
    blocked_zones:
      - "asia-*"
      - "australia-*"
      - "southamerica-*"
    
    enforcement_level: "STRICT"
  
  cross_border_transfers:
    enabled: true
    require_authorization: true
    scc_required: true
    adequacy_whitelist:
      - "EU"
      - "UK"
      - "Switzerland"
      - "Canada"
      - "Japan"
      - "South Korea"

# ═══════════════════════════════════════════════════════════════════════════
# EXPLAINABILITY (EU AI Act §6, GDPR Art. 22)
# ═══════════════════════════════════════════════════════════════════════════

explainability:
  enabled: true
  high_risk_threshold: 0.7
  methods:
    - "SHAP"
    - "LIME"
    - "Feature_Importance"
    - "Counterfactual_Explanations"
  requirements:
    - "confidence_score"
    - "evidence_chain"
    - "feature_contributions"
    - "decision_rationale"
    - "alternative_outcomes"

# ═══════════════════════════════════════════════════════════════════════════
# CONSENT MANAGEMENT
# ═══════════════════════════════════════════════════════════════════════════

consent:
  enabled: true
  require_explicit_consent: true
  valid_scopes:
    - "diagnosis"
    - "treatment"
    - "research"
    - "public_health_surveillance"
    - "emergency_response"
  expiration_days: 365
  emergency_override:
    enabled: true
    conditions:
      - "public_health_emergency"
      - "outbreak_response"
      - "life_threatening_situation"

# ═══════════════════════════════════════════════════════════════════════════
# DATA RETENTION
# ═══════════════════════════════════════════════════════════════════════════

retention:
  enabled: true
  policies:
    HOT:
      days: 180
      description: "Active operational data"
      storage_class: "STANDARD"
    WARM:
      days: 365
      description: "Compliance minimum (HIPAA)"
      storage_class: "NEARLINE"
    COLD:
      days: 1825
      description: "Legal hold maximum (GDPR Art. 17)"
      storage_class: "COLDLINE"
    ETERNAL:
      days: -1
      description: "Never expires (requires explicit justification)"
      storage_class: "ARCHIVE"
  auto_shred_enabled: true
  auto_shred_schedule: "0 2 * * *"

# ═══════════════════════════════════════════════════════════════════════════
# AUDIT TRAIL
# ═══════════════════════════════════════════════════════════════════════════

audit:
  enabled: true
  tamper_proof: true
  storage:
    backend: "Cloud_Spanner"
    region: "africa-south1"
    retention_days: 2555  # 7 years (HIPAA requirement)
  signing:
    enabled: true
    algorithm: "SHA256_RSA"
    key_management: "Cloud_KMS"
  events:
    - "Data_Transfer"
    - "High_Risk_Inference"
    - "Consent_Validation"
    - "Data_Retention"
    - "Key_Shred"
    - "Sovereignty_Violation"
    - "Emergency_Override"
    - "Framework_Enforcement"

# ═══════════════════════════════════════════════════════════════════════════
# HUMANITARIAN CONSTRAINTS
# ═══════════════════════════════════════════════════════════════════════════

humanitarian:
  enabled: true
  constraints:
    - "Medical_Ethics"
    - "Resource_Allocation"
    - "Data_Protection"
    - "Population_Protection"
    - "Emergency_Response"
  margin_threshold: 0.15
  emergency_protocols:
    - "WHO_IHR_Article_6"
    - "Geneva_Convention_Article_3"
    - "UN_Humanitarian_Principles"

# ═══════════════════════════════════════════════════════════════════════════
# ENFORCEMENT ACTIONS
# ═══════════════════════════════════════════════════════════════════════════

enforcement:
  on_violation:
    action: "BLOCK"
    notify: true
    escalate: true
  notifications:
    - type: "Email"
      recipients:
        - "compliance@iluminara.health"
        - "dpo@iluminara.health"
    - type: "PubSub"
      topic: "projects/iluminara/topics/sovereignty-violations"
    - type: "Slack"
      webhook: "${SLACK_WEBHOOK_URL}"
  escalation:
    enabled: true
    threshold: 3
    window_minutes: 60
    escalate_to:
      - "Chief Compliance Officer"
      - "Data Protection Officer"

# ═══════════════════════════════════════════════════════════════════════════
# NUCLEAR IP STACK INTEGRATION
# ═══════════════════════════════════════════════════════════════════════════

nuclear_ip:
  IP_02_CRYPTO_SHREDDER:
    enabled: true
    auto_shred: true
  IP_03_ACORN_PROTOCOL:
    enabled: false
  IP_04_SILENT_FLUX:
    enabled: false
  IP_05_GOLDEN_THREAD:
    enabled: true
    verification_threshold: 0.8
  IP_06_5DM_BRIDGE:
    enabled: false

# ═══════════════════════════════════════════════════════════════════════════
# MONITORING & ALERTING
# ═══════════════════════════════════════════════════════════════════════════

monitoring:
  enabled: true
  metrics:
    - "sovereignty_violations_total"
    - "cross_border_transfers_total"
    - "high_risk_inferences_total"
    - "consent_validations_total"
    - "keys_shredded_total"
    - "framework_enforcements_total"
  prometheus:
    enabled: true
    port: 9090
    path: "/metrics"
  grafana:
    enabled: true
    dashboards:
      - "Sovereignty Compliance"
      - "Audit Trail"
      - "Data Retention"
      - "Framework Enforcement Matrix"
