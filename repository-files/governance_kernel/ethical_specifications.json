{
  "version": "1.0.0",
  "name": "iLuminara Ethical Specifications",
  "description": "14 core safety rules derived from global legal frameworks and humanitarian law",
  "last_updated": "2025-12-23T13:00:00Z",
  
  "core_safety_rules": [
    {
      "rule_id": "ESR-01",
      "name": "Data Sovereignty",
      "priority": "CRITICAL",
      "legal_basis": [
        "GDPR Art. 9 (Processing of special categories)",
        "Kenya DPA §37 (Transfer restrictions)",
        "POPIA §14 (Cross-border transfers)"
      ],
      "specification": "Health data (PHI) SHALL NOT leave sovereign territory without explicit authorization from the Data Protection Commissioner",
      "edge_cases": [
        {
          "scenario": "Emergency cross-border medical evacuation",
          "resolution": "WHO IHR Article 6 emergency override applies. Data transfer permitted with audit trail.",
          "humanitarian_margin": 0.95
        },
        {
          "scenario": "Research collaboration with foreign institution",
          "resolution": "Requires Standard Contractual Clauses (GDPR Art. 46) and explicit patient consent.",
          "humanitarian_margin": 0.0
        }
      ],
      "refusal_template": "I cannot transfer this health data to {destination} as it violates {jurisdiction} data sovereignty requirements. Legal basis: {legal_citations}."
    },
    
    {
      "rule_id": "ESR-02",
      "name": "Right to Explanation",
      "priority": "HIGH",
      "legal_basis": [
        "EU AI Act §6 (High-risk AI systems)",
        "GDPR Art. 22 (Automated decision-making)",
        "Kenya DPA §42 (Data subject rights)"
      ],
      "specification": "Every high-risk clinical inference (confidence > 0.7) MUST provide explainability using SHAP values, feature importance, and decision rationale",
      "edge_cases": [
        {
          "scenario": "Emergency triage with <5 second decision window",
          "resolution": "Explanation generated asynchronously. Decision proceeds with 'Explanation Pending' flag.",
          "humanitarian_margin": 0.85
        },
        {
          "scenario": "Black-box model from third-party vendor",
          "resolution": "Model REJECTED. Only interpretable models permitted for high-risk decisions.",
          "humanitarian_margin": 0.0
        }
      ],
      "refusal_template": "This AI system cannot provide the required explanation for its decision. Under {legal_basis}, high-risk clinical decisions require full transparency."
    },
    
    {
      "rule_id": "ESR-03",
      "name": "Informed Consent",
      "priority": "CRITICAL",
      "legal_basis": [
        "GDPR Art. 6 (Lawfulness of processing)",
        "POPIA §11 (Lawfulness of processing)",
        "CCPA §1798.100 (Right to know)",
        "HIPAA §164.508 (Uses and disclosures)"
      ],
      "specification": "No processing of PHI without explicit, informed, and documented consent. Consent must specify scope and expiration.",
      "edge_cases": [
        {
          "scenario": "Unconscious patient in emergency",
          "resolution": "Geneva Convention Article 3 permits life-saving treatment without consent. Consent obtained from family/guardian post-stabilization.",
          "humanitarian_margin": 1.0
        },
        {
          "scenario": "Public health surveillance during outbreak",
          "resolution": "WHO IHR Article 6 permits surveillance without individual consent. Aggregate data only, no PII.",
          "humanitarian_margin": 0.75
        }
      ],
      "refusal_template": "Processing this data requires explicit consent under {legal_basis}. Current consent status: {consent_status}. Scope: {consent_scope}."
    },
    
    {
      "rule_id": "ESR-04",
      "name": "Data Minimization",
      "priority": "HIGH",
      "legal_basis": [
        "GDPR Art. 5(1)(c) (Data minimisation)",
        "HIPAA §164.502(b) (Minimum necessary)",
        "POPIA §10 (Processing limitation)"
      ],
      "specification": "Collect only the minimum data necessary for the specified purpose. No 'just in case' data collection.",
      "edge_cases": [
        {
          "scenario": "Predictive model requires extensive feature set",
          "resolution": "Feature selection must demonstrate necessity. Unused features purged within 24 hours.",
          "humanitarian_margin": 0.5
        }
      ],
      "refusal_template": "The requested data collection exceeds minimum necessary requirements under {legal_basis}. Justification required."
    },
    
    {
      "rule_id": "ESR-05",
      "name": "Right to Erasure",
      "priority": "HIGH",
      "legal_basis": [
        "GDPR Art. 17 (Right to erasure)",
        "CCPA §1798.105 (Right to delete)",
        "Kenya DPA §42 (Data subject rights)"
      ],
      "specification": "Data subjects have the right to request deletion. Implement IP-02 Crypto Shredder for cryptographic dissolution.",
      "edge_cases": [
        {
          "scenario": "Legal hold for ongoing investigation",
          "resolution": "Erasure deferred until legal hold lifted. Subject notified with timeline.",
          "humanitarian_margin": 0.0
        },
        {
          "scenario": "Public health archive for epidemic research",
          "resolution": "Anonymize data (k-anonymity ≥ 5). If anonymization impossible, obtain explicit research consent.",
          "humanitarian_margin": 0.6
        }
      ],
      "refusal_template": "Erasure request cannot be fulfilled due to {reason}. Legal basis: {legal_citations}. Expected resolution: {timeline}."
    },
    
    {
      "rule_id": "ESR-06",
      "name": "Non-Discrimination",
      "priority": "CRITICAL",
      "legal_basis": [
        "Geneva Convention Article 3 (Non-discrimination)",
        "UN Convention on Rights of the Child Article 2",
        "EU AI Act §10 (Accuracy and robustness)"
      ],
      "specification": "AI systems SHALL NOT discriminate based on race, ethnicity, gender, age, disability, or socioeconomic status. Fairness metrics required.",
      "edge_cases": [
        {
          "scenario": "Model trained on biased historical data",
          "resolution": "Apply fairness constraints (demographic parity, equalized odds). Re-train with balanced dataset.",
          "humanitarian_margin": 0.0
        }
      ],
      "refusal_template": "This model exhibits bias against {protected_group}. Fairness metric: {metric_value}. Threshold: {threshold}. Model deployment BLOCKED."
    },
    
    {
      "rule_id": "ESR-07",
      "name": "Medical Ethics",
      "priority": "CRITICAL",
      "legal_basis": [
        "WHO Emergency Triage Guidelines",
        "ICRC Medical Ethics in Armed Conflict",
        "Sphere Standards (Health Action)"
      ],
      "specification": "Medical decisions prioritize: 1) Life-saving interventions, 2) Prevention of suffering, 3) Dignity preservation, 4) Resource optimization.",
      "edge_cases": [
        {
          "scenario": "Triage with limited resources (ventilators)",
          "resolution": "Apply Sequential Organ Failure Assessment (SOFA) score. Prioritize highest survival probability.",
          "humanitarian_margin": 0.9
        }
      ],
      "refusal_template": "This action violates medical ethics principle: {principle}. Humanitarian margin: {margin}. Alternative: {alternative}."
    },
    
    {
      "rule_id": "ESR-08",
      "name": "Civilian Protection",
      "priority": "CRITICAL",
      "legal_basis": [
        "Geneva Convention Article 3 (Protection of civilians)",
        "WHO IHR Article 3 (Principles)",
        "UN Humanitarian Principles"
      ],
      "specification": "In conflict zones, health data SHALL NOT be used for targeting, surveillance, or military advantage. Neutrality paramount.",
      "edge_cases": [
        {
          "scenario": "Government requests health data for 'security purposes'",
          "resolution": "Request DENIED. Geneva Convention Article 3 prohibits use of medical data for non-medical purposes in conflict.",
          "humanitarian_margin": 1.0
        }
      ],
      "refusal_template": "This request violates civilian protection under {legal_basis}. Health data cannot be used for {intended_use}."
    },
    
    {
      "rule_id": "ESR-09",
      "name": "Transparency & Auditability",
      "priority": "HIGH",
      "legal_basis": [
        "GDPR Art. 30 (Records of processing activities)",
        "HIPAA §164.312(b) (Audit controls)",
        "ISO 27001 A.12.4 (Logging and monitoring)"
      ],
      "specification": "All data processing activities MUST be logged with tamper-proof audit trail. Retention: 7 years (HIPAA requirement).",
      "edge_cases": [
        {
          "scenario": "Audit log storage exceeds capacity",
          "resolution": "Transition to cold storage (Cloud Archive). Maintain cryptographic chain integrity.",
          "humanitarian_margin": 0.0
        }
      ],
      "refusal_template": "Audit trail integrity compromised. Action BLOCKED until audit system restored. Compliance requirement: {legal_basis}."
    },
    
    {
      "rule_id": "ESR-10",
      "name": "Security by Design",
      "priority": "HIGH",
      "legal_basis": [
        "GDPR Art. 25 (Data protection by design)",
        "HIPAA §164.312 (Technical safeguards)",
        "NIST CSF (Protect function)"
      ],
      "specification": "Security controls embedded at design phase. Encryption at rest and in transit. Multi-factor authentication for PHI access.",
      "edge_cases": [
        {
          "scenario": "Legacy system without encryption",
          "resolution": "System DEPRECATED. Migration to compliant infrastructure required within 90 days.",
          "humanitarian_margin": 0.0
        }
      ],
      "refusal_template": "This system does not meet security requirements under {legal_basis}. Required controls: {missing_controls}."
    },
    
    {
      "rule_id": "ESR-11",
      "name": "Proportionality",
      "priority": "HIGH",
      "legal_basis": [
        "GDPR Art. 5(1)(c) (Proportionality)",
        "WHO IHR Article 3 (Proportionality)",
        "UN Humanitarian Principles"
      ],
      "specification": "Interventions must be proportional to the threat. No excessive surveillance or data collection.",
      "edge_cases": [
        {
          "scenario": "Mass surveillance during minor outbreak",
          "resolution": "Surveillance scaled to outbreak severity. Z-score < 2.0 = routine monitoring only.",
          "humanitarian_margin": 0.7
        }
      ],
      "refusal_template": "Proposed intervention is disproportionate to threat level. Threat: {threat_level}. Intervention: {intervention}. Proportionality ratio: {ratio}."
    },
    
    {
      "rule_id": "ESR-12",
      "name": "Accountability",
      "priority": "HIGH",
      "legal_basis": [
        "GDPR Art. 5(2) (Accountability)",
        "EU AI Act §17 (Quality management system)",
        "SOC 2 (Accountability)"
      ],
      "specification": "Data controllers accountable for compliance. Designated Data Protection Officer (DPO) required.",
      "edge_cases": [
        {
          "scenario": "Third-party processor violates GDPR",
          "resolution": "Controller remains liable. Processor contract must include indemnification clause.",
          "humanitarian_margin": 0.0
        }
      ],
      "refusal_template": "Accountability chain unclear. Data controller: {controller}. Processor: {processor}. DPO: {dpo}. Clarification required."
    },
    
    {
      "rule_id": "ESR-13",
      "name": "Child Protection",
      "priority": "CRITICAL",
      "legal_basis": [
        "UN Convention on Rights of the Child",
        "GDPR Art. 8 (Conditions for children's consent)",
        "COPPA (Children's Online Privacy Protection Act)"
      ],
      "specification": "Children (<16 years) require parental/guardian consent. Enhanced protection for vulnerable populations.",
      "edge_cases": [
        {
          "scenario": "Unaccompanied minor in refugee camp",
          "resolution": "Camp administrator acts as guardian. UNHCR protocols apply.",
          "humanitarian_margin": 0.9
        }
      ],
      "refusal_template": "This involves a minor (<16 years). Parental consent required under {legal_basis}. Current consent status: {status}."
    },
    
    {
      "rule_id": "ESR-14",
      "name": "Continuous Improvement",
      "priority": "MEDIUM",
      "legal_basis": [
        "ISO 27001 Clause 10 (Improvement)",
        "EU AI Act §61 (Post-market monitoring)",
        "NIST CSF (Continuous monitoring)"
      ],
      "specification": "Regular audits, penetration testing, and model retraining. Feedback loops for ethical drift detection.",
      "edge_cases": [
        {
          "scenario": "Model performance degrades over time",
          "resolution": "Trigger retraining pipeline. If performance < threshold, revert to previous version.",
          "humanitarian_margin": 0.5
        }
      ],
      "refusal_template": "System requires maintenance. Last audit: {last_audit}. Performance: {performance}. Threshold: {threshold}."
    }
  ],
  
  "conflict_resolution_hierarchy": [
    "Life-saving interventions (ESR-07)",
    "Civilian protection (ESR-08)",
    "Child protection (ESR-13)",
    "Data sovereignty (ESR-01)",
    "Informed consent (ESR-03)",
    "Right to explanation (ESR-02)",
    "Non-discrimination (ESR-06)",
    "All other rules"
  ],
  
  "humanitarian_margin_calculation": {
    "description": "Quantifies the ethical flexibility permitted in emergency scenarios",
    "formula": "margin = (lives_saved - sovereignty_violations) / total_population_at_risk",
    "thresholds": {
      "acceptable": 0.15,
      "warning": 0.10,
      "critical": 0.05
    }
  },
  
  "training_objectives": {
    "primary": "Maximize humanitarian outcomes while maintaining legal compliance",
    "secondary": [
      "Minimize false positives in outbreak detection",
      "Optimize resource allocation efficiency",
      "Preserve human dignity in all interactions"
    ],
    "constraints": [
      "Zero tolerance for sovereignty violations",
      "Zero tolerance for discrimination",
      "Zero tolerance for civilian harm"
    ]
  }
}
