---
title: Functional requirements
description: System behaviors and functional logic for iLuminara-Core
---

# Functional requirements

**Version:** 1.0  
**Status:** Production ready  
**Lead:** Anthony Waganda

## Introduction

### Purpose

This document details the system behaviors, functional logic, and data processing rules for implementing iLuminara-Core. It translates high-level user stories into specific, testable engineering requirements.

### Scope

This document covers:

- Core kernel with reasoning and formal verification
- Three-port dashboard (8501, 8502, 8503)
- Orchestration layer with state management and synchronization
- Hardware interface for NVIDIA Blackwell B300 and mesh networking

## Functional requirements

### Clinical intelligence and biosecurity

#### FR-01: Genomic sequence ingestion

**Description:** Accept raw genomic strings (FASTA/FASTQ format) via the Bio-Foundry interface.

**Input:** Alphanumeric string (A, T, G, C, N)

**Validation:** Regex check `^[ATGCN]+$` for valid nucleotide characters

**Behavior:**
- If valid, pass to Evo2 Engine
- If invalid, return 400 Bad Request with "Invalid Sequence" error

#### FR-02: Synthetic binder generation

**Description:** Generate candidate protein binder sequence based on input pathogen.

**Performance:** Complete inference within 200ms on Blackwell B300 hardware

**Output:** JSON object containing:
- `binder_sequence`: String
- `affinity_score`: Float (0.0 - 1.0)
- `pqc_signature`: SHA-256 hash of result

#### FR-03: Spatial-temporal pathogen prediction

**Description:** Predict 72-hour transmission vector based on current node coordinates.

**Input:** Current node lat/lon, local infection rate

**Logic:** Apply 4D tensor calculation (time + 3D space)

**Output:** Geospatial polygon (GeoJSON) representing high-risk zone

### Governance and compliance

#### FR-04: Jurisdictional geofencing

**Description:** Verify every data export or transmission against active legal framework.

**Constraint logic:**
```
IF origin == "KENYA" AND destination != "KENYA" AND data_type == "PII" 
THEN result = UNSAT
```

**Behavior:**
- If SAT: Allow transmission
- If UNSAT: Block transmission and log attempt

#### FR-05: Compliance verification

**Description:** Build pipeline must block any commit that violates constraints.

**Trigger:** `git commit` or `launch_sovereign_os.sh`

**Logic:** Run `verify_integrity_circuit()`

**Output:** Pass/Fail boolean. Fail prevents system start.

#### FR-06: Audit logging

**Description:** All system decisions must be logged in immutable format.

**Data fields:** Timestamp (ns), Node ID, Decision Hash, Z3 Proof

**Storage:** Append-only to `SOVEREIGN_AUDIT_LOG.md` or PABS Net

### Security and authentication

#### FR-07: Multi-factor authentication

**Description:** Authentication requires multi-factor verification with biometric, hardware token, and lattice key.

**Logic:**
- Fetch current `lattice_vector` from heartbeat
- Compare user token against `lattice_vector`
- Allow access only if match is within 18ms drift window

#### FR-08: Mesh anti-jamming

**Description:** Networking layer must detect signal degradation and switch protocols.

**Trigger:** Packet loss > 5% or SNR < 10dB

**Action:** Switch from standard TCP/IP to sub-terahertz mesh protocol

#### FR-09: Input sanitization

**Description:** All user inputs (UI and API) must be sanitized before reaching kernel.

**Blocklist:** `rm`, `eval`, `exec`, `system`, `..`, `/etc/passwd`

**Action:** Intercept and replace with null; trigger security alert

#### FR-10: Sandbox execution

**Description:** OS-level commands must be executed through restrictive proxy.

**Allowlist:** `git status`, `ls core`, `python3 --version`

**Logic:** If command is not in allowlist, return `ACCESS_DENIED`

### Operations and monitoring

#### FR-11: Real-time ROI calculation

**Description:** Calculate economic impact of system operation dynamically.

**Formula:** `(Manual_Cost_Per_Hour * Hours_Saved) + (Wastage_Reduction_Value)`

**Trigger:** Every 5 seconds (throttled) or upon transaction completion

**Display:** Update "Daily Operational Savings" metric on dashboard

#### FR-12: Edge optimization

**Description:** Compress active model weights when hardware resources are constrained.

**Trigger:** CPU usage > 90% OR RAM usage > 85%

**Action:** Switch from FP32/FP16 weights to FP4/INT8 quantized weights

**Notification:** Alert user "Context Distillation Active - Performance Optimized"

#### FR-13: Heartbeat synchronization

**Description:** Synchronize state across all ports and nodes.

**Frequency:** Every 18ms

**Payload:** `timestamp_ns`, `state_hash`, `legal_status`

**Behavior:** If local timestamp deviates > 2ms from mean, force update local clock

## Data processing rules

### Data residency

**Rule:** All PII tagged with `residency: KENYA` must be stored encrypted at rest using AES-256-GCM + Kyber-1024.

**Rule:** Decryption keys for Kenyan PII must never leave the Nairobi-Dadaab geospatial bounds.

### State management

**Rule:** `system_state.json` is the single source of truth.

**Rule:** Writes to `system_state.json` are atomic and require SHA-256 hash check of previous state to prevent race conditions.

**Rule:** Dashboard UI components must read from `system_state.json` but never write directly; they must dispatch actions to the kernel.

## Interface requirements

### Port 8501 (Dashboard)

**Map widget:** Render 50 nodes based on `core/geospatial/mesh_mapper.py` data. Colors indicate status (Green=Synced, Red=Drift).

**Hardware monitor:** Progress bars reflect real-time psutil readings. Update frequency: 5s.

### Port 8502 (Bio-Foundry)

**Input field:** Text area accepting max 10,000 characters.

**Visualization:** Plotly chart showing binder affinity over time.

### Port 8503 (Auth interface)

**Polar chart:** Update geometry every 500ms to visualize key rotation.

**Log console:** Scrollable text area showing real-time handshake attempts.

## System constraints

- **Hardware:** Must run on ARM64 (Jetson) or x86_64 (Blackwell) architecture
- **Memory:** Max 32GB RAM usage (optimized for 16GB)
- **Network:** Must tolerate intermittent connectivity
- **Legal:** Cannot execute if Z3 Solver binary is missing or corrupted

## Assumptions and dependencies

**Assumptions:**
- Python 3.10+ environment available
- User has sudo privileges for port management

**Dependencies:**
- Z3 Theorem Prover (`z3-solver` pip package)
- NVIDIA drivers (CUDA acceleration with CPU fallback)
- Mintlify for documentation rendering
