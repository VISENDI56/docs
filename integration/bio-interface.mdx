---
title: Bio-Interface REST API
description: Mobile health app integration with Golden Thread data fusion
---

## Overview

The Bio-Interface REST API enables mobile health applications to integrate with iLuminara-Core's Golden Thread protocol, fusing Community-Based Surveillance (CBS) and Electronic Medical Records (EMR) into verified timelines.

<Card
  title="Philosophy"
  icon="mobile"
>
  "Zero-friction data collection with sovereign dignity preservation."
</Card>

## Architecture

```
┌─────────────────────────────────────────────────────────┐
│              MOBILE HEALTH APPS                          │
│  - Community Health Volunteer (CHV) Apps                │
│  - Patient Self-Reporting Apps                          │
│  - Clinic Management Systems                            │
└────────────────┬────────────────────────────────────────┘
                 │
                 │ HTTPS/REST
                 ▼
┌─────────────────────────────────────────────────────────┐
│              BIO-INTERFACE API                           │
│  - Voice Processing (/process-voice)                    │
│  - Symptom Reporting (/report-symptoms)                 │
│  - Outbreak Prediction (/predict)                       │
│  - Data Sync (/sync)                                    │
└────────────────┬────────────────────────────────────────┘
                 │
                 │ Golden Thread Protocol
                 ▼
┌─────────────────────────────────────────────────────────┐
│              GOLDEN THREAD ENGINE                        │
│  - CBS Signal Processing                                │
│  - EMR Record Fusion                                    │
│  - Cross-Source Verification                            │
│  - Verification Score Calculation                       │
└────────────────┬────────────────────────────────────────┘
                 │
                 │ Validated Data
                 ▼
┌─────────────────────────────────────────────────────────┐
│           SOVEREIGNGUARDRAIL                             │
│  - Consent Validation                                   │
│  - Data Sovereignty Enforcement                         │
│  - Audit Trail Logging                                  │
└─────────────────────────────────────────────────────────┘
```

## API endpoints

### Base URL

```
https://api.iluminara.health/v1
```

For local development:
```
http://localhost:8080
```

### Authentication

```bash
# API Key authentication
curl -H "Authorization: Bearer YOUR_API_KEY" \
     https://api.iluminara.health/v1/health
```

## Core endpoints

### 1. Voice processing

Convert voice alerts to structured health data.

**Endpoint:** `POST /process-voice`

```bash
curl -X POST https://api.iluminara.health/v1/process-voice \
  -H "Authorization: Bearer YOUR_API_KEY" \
  -H "Content-Type: audio/wav" \
  -F "audio=@voice-alert.wav" \
  -F "language=swahili" \
  -F "lat=0.0512" \
  -F "lng=40.3129"
```

**Response:**

```json
{
  "status": "success",
  "timestamp": "2025-12-25T18:00:00.000Z",
  "processing_time_ms": 4200,
  "transcription": "Patient reporting severe watery diarrhea and vomiting",
  "language_detected": "swahili",
  "symptoms": ["diarrhea", "vomiting", "dehydration"],
  "severity": 9,
  "location": {"lat": 0.0512, "lng": 40.3129},
  "alert_level": "CRITICAL",
  "cbs_signal_id": "CBS_20251225_001",
  "golden_thread_status": "PENDING_EMR_VERIFICATION"
}
```

### 2. Symptom reporting

Submit structured symptom reports from mobile apps.

**Endpoint:** `POST /report-symptoms`

```bash
curl -X POST https://api.iluminara.health/v1/report-symptoms \
  -H "Authorization: Bearer YOUR_API_KEY" \
  -H "Content-Type: application/json" \
  -d '{
    "patient_id": "PAT_12345",
    "symptoms": ["fever", "cough", "fatigue"],
    "severity": 7,
    "location": {"lat": 0.0512, "lng": 40.3129},
    "timestamp": "2025-12-25T18:00:00.000Z",
    "source": "CHV_MOBILE_APP",
    "consent_token": "CONSENT_TOKEN_ABC123"
  }'
```

**Response:**

```json
{
  "status": "success",
  "cbs_signal_id": "CBS_20251225_002",
  "verification_score": 0.0,
  "verification_status": "UNVERIFIED",
  "message": "CBS signal recorded. Awaiting EMR verification.",
  "recommendations": [
    "Monitor patient for 24 hours",
    "Seek medical attention if symptoms worsen"
  ]
}
```

### 3. EMR record submission

Submit Electronic Medical Records for Golden Thread fusion.

**Endpoint:** `POST /submit-emr`

```bash
curl -X POST https://api.iluminara.health/v1/submit-emr \
  -H "Authorization: Bearer YOUR_API_KEY" \
  -H "Content-Type: application/json" \
  -d '{
    "patient_id": "PAT_12345",
    "diagnosis": "malaria",
    "location": {"lat": 0.0512, "lng": 40.3129},
    "timestamp": "2025-12-25T18:30:00.000Z",
    "source": "DADAAB_CLINIC",
    "provider_id": "DR_HASSAN_001",
    "consent_token": "CONSENT_TOKEN_ABC123"
  }'
```

**Response:**

```json
{
  "status": "success",
  "emr_record_id": "EMR_20251225_001",
  "golden_thread_fusion": {
    "matched_cbs_signals": ["CBS_20251225_002"],
    "verification_score": 1.0,
    "verification_status": "CONFIRMED",
    "time_delta_minutes": 30,
    "location_match": true
  },
  "message": "EMR record fused with CBS signal. Verification: CONFIRMED"
}
```

### 4. Outbreak prediction

Predict outbreak risk based on symptoms and location.

**Endpoint:** `POST /predict`

```bash
curl -X POST https://api.iluminara.health/v1/predict \
  -H "Authorization: Bearer YOUR_API_KEY" \
  -H "Content-Type: application/json" \
  -d '{
    "location": {"lat": 0.4221, "lng": 40.2255},
    "symptoms": ["diarrhea", "vomiting"],
    "time_window_days": 7
  }'
```

**Response:**

```json
{
  "status": "success",
  "prediction": {
    "disease": "cholera",
    "risk_score": 0.87,
    "confidence": 0.92,
    "z_score": 8.5,
    "alert_level": "HIGH",
    "forecast_72h": {
      "expected_cases": [45, 68, 95],
      "confidence_interval": [[38, 52], [58, 78], [82, 108]]
    }
  },
  "recommendations": [
    "IMMEDIATE: Suspected cholera outbreak",
    "Activate emergency response protocol",
    "Notify district health officer"
  ]
}
```

### 5. Data synchronization

Sync offline data when connectivity returns.

**Endpoint:** `POST /sync`

```bash
curl -X POST https://api.iluminara.health/v1/sync \
  -H "Authorization: Bearer YOUR_API_KEY" \
  -H "Content-Type: application/json" \
  -d '{
    "device_id": "CHV_DEVICE_001",
    "offline_records": [
      {
        "type": "cbs_signal",
        "data": {...},
        "timestamp": "2025-12-25T10:00:00.000Z"
      },
      {
        "type": "cbs_signal",
        "data": {...},
        "timestamp": "2025-12-25T11:00:00.000Z"
      }
    ]
  }'
```

**Response:**

```json
{
  "status": "success",
  "synced_records": 2,
  "failed_records": 0,
  "sync_summary": {
    "cbs_signals": 2,
    "emr_records": 0,
    "verification_updates": 1
  }
}
```

## Golden Thread integration

### Verification logic

The Bio-Interface automatically applies Golden Thread verification:

```python
from edge_node.sync_protocol.golden_thread import GoldenThread

gt = GoldenThread()

# When CBS signal arrives
cbs_signal = {
    'location': 'Dadaab',
    'symptom': 'fever',
    'timestamp': '2025-12-25T10:00:00Z'
}

# When EMR record arrives (within 24h)
emr_record = {
    'location': 'Dadaab',
    'diagnosis': 'malaria',
    'timestamp': '2025-12-25T10:30:00Z'
}

# Automatic fusion
fused = gt.fuse_data_streams(
    cbs_signal=cbs_signal,
    emr_record=emr_record,
    patient_id='PAT_12345'
)

# Verification score: 1.0 (CONFIRMED)
# Location match: True
# Time delta: 30 minutes
```

### Verification scores

| Score | Status | Description |
|-------|--------|-------------|
| 1.0 | CONFIRMED | CBS and EMR agree on location and time (<24h) |
| 0.7-0.9 | PROBABLE | Partial agreement with minor conflicts |
| 0.4-0.6 | POSSIBLE | Significant conflicts but plausible |
| 0.0-0.3 | UNVERIFIED | Major conflicts or single source only |

## Mobile SDK examples

### Android (Kotlin)

```kotlin
import okhttp3.*
import org.json.JSONObject

class ILuminaraClient(private val apiKey: String) {
    private val client = OkHttpClient()
    private val baseUrl = "https://api.iluminara.health/v1"
    
    fun reportSymptoms(
        patientId: String,
        symptoms: List<String>,
        severity: Int,
        location: Pair<Double, Double>,
        consentToken: String
    ): JSONObject {
        val json = JSONObject().apply {
            put("patient_id", patientId)
            put("symptoms", symptoms)
            put("severity", severity)
            put("location", JSONObject().apply {
                put("lat", location.first)
                put("lng", location.second)
            })
            put("consent_token", consentToken)
        }
        
        val request = Request.Builder()
            .url("$baseUrl/report-symptoms")
            .addHeader("Authorization", "Bearer $apiKey")
            .post(RequestBody.create(
                MediaType.parse("application/json"),
                json.toString()
            ))
            .build()
        
        val response = client.newCall(request).execute()
        return JSONObject(response.body()?.string())
    }
}

// Usage
val client = ILuminaraClient("YOUR_API_KEY")
val result = client.reportSymptoms(
    patientId = "PAT_12345",
    symptoms = listOf("fever", "cough"),
    severity = 7,
    location = Pair(0.0512, 40.3129),
    consentToken = "CONSENT_TOKEN_ABC123"
)

println("CBS Signal ID: ${result.getString("cbs_signal_id")}")
```

### iOS (Swift)

```swift
import Foundation

class ILuminaraClient {
    let apiKey: String
    let baseURL = "https://api.iluminara.health/v1"
    
    init(apiKey: String) {
        self.apiKey = apiKey
    }
    
    func reportSymptoms(
        patientId: String,
        symptoms: [String],
        severity: Int,
        location: (lat: Double, lng: Double),
        consentToken: String,
        completion: @escaping (Result<[String: Any], Error>) -> Void
    ) {
        let url = URL(string: "\(baseURL)/report-symptoms")!
        var request = URLRequest(url: url)
        request.httpMethod = "POST"
        request.addValue("Bearer \(apiKey)", forHTTPHeaderField: "Authorization")
        request.addValue("application/json", forHTTPHeaderField: "Content-Type")
        
        let body: [String: Any] = [
            "patient_id": patientId,
            "symptoms": symptoms,
            "severity": severity,
            "location": ["lat": location.lat, "lng": location.lng],
            "consent_token": consentToken
        ]
        
        request.httpBody = try? JSONSerialization.data(withJSONObject: body)
        
        URLSession.shared.dataTask(with: request) { data, response, error in
            if let error = error {
                completion(.failure(error))
                return
            }
            
            guard let data = data,
                  let json = try? JSONSerialization.jsonObject(with: data) as? [String: Any] else {
                completion(.failure(NSError(domain: "Invalid response", code: -1)))
                return
            }
            
            completion(.success(json))
        }.resume()
    }
}

// Usage
let client = ILuminaraClient(apiKey: "YOUR_API_KEY")
client.reportSymptoms(
    patientId: "PAT_12345",
    symptoms: ["fever", "cough"],
    severity: 7,
    location: (lat: 0.0512, lng: 40.3129),
    consentToken: "CONSENT_TOKEN_ABC123"
) { result in
    switch result {
    case .success(let data):
        print("CBS Signal ID: \(data["cbs_signal_id"] ?? "")")
    case .failure(let error):
        print("Error: \(error)")
    }
}
```

### React Native (JavaScript)

```javascript
class ILuminaraClient {
  constructor(apiKey) {
    this.apiKey = apiKey;
    this.baseURL = 'https://api.iluminara.health/v1';
  }

  async reportSymptoms({
    patientId,
    symptoms,
    severity,
    location,
    consentToken
  }) {
    const response = await fetch(`${this.baseURL}/report-symptoms`, {
      method: 'POST',
      headers: {
        'Authorization': `Bearer ${this.apiKey}`,
        'Content-Type': 'application/json'
      },
      body: JSON.stringify({
        patient_id: patientId,
        symptoms,
        severity,
        location,
        consent_token: consentToken
      })
    });

    return await response.json();
  }
}

// Usage
const client = new ILuminaraClient('YOUR_API_KEY');

const result = await client.reportSymptoms({
  patientId: 'PAT_12345',
  symptoms: ['fever', 'cough'],
  severity: 7,
  location: { lat: 0.0512, lng: 40.3129 },
  consentToken: 'CONSENT_TOKEN_ABC123'
});

console.log('CBS Signal ID:', result.cbs_signal_id);
```

## Offline support

### Queue operations when offline

```javascript
class OfflineQueue {
  constructor(client) {
    this.client = client;
    this.queue = [];
  }

  async reportSymptoms(data) {
    if (navigator.onLine) {
      return await this.client.reportSymptoms(data);
    } else {
      // Queue for later sync
      this.queue.push({
        type: 'report_symptoms',
        data,
        timestamp: new Date().toISOString()
      });
      return { status: 'queued', message: 'Will sync when online' };
    }
  }

  async syncWhenOnline() {
    if (!navigator.onLine || this.queue.length === 0) return;

    const response = await this.client.sync({
      device_id: 'DEVICE_001',
      offline_records: this.queue
    });

    if (response.status === 'success') {
      this.queue = [];
    }

    return response;
  }
}
```

## Compliance integration

### Consent validation

```python
from governance_kernel.vector_ledger import SovereignGuardrail

guardrail = SovereignGuardrail()

# Validate consent before processing
guardrail.validate_action(
    action_type='Consent_Validation',
    payload={
        'consent_token': 'CONSENT_TOKEN_ABC123',
        'consent_scope': 'symptom_reporting',
        'data_type': 'PHI'
    },
    jurisdiction='KDPA_KE'
)
```

### Data sovereignty

```python
# Ensure data stays in sovereign territory
guardrail.validate_action(
    action_type='Data_Transfer',
    payload={
        'data_type': 'PHI',
        'destination': 'Edge_Node',
        'source_location': 'Dadaab',
        'destination_zone': 'africa-south1'
    },
    jurisdiction='KDPA_KE'
)
```

## Rate limiting

| Endpoint | Rate Limit | Burst |
|----------|-----------|-------|
| `/process-voice` | 10 req/min | 20 |
| `/report-symptoms` | 100 req/min | 200 |
| `/submit-emr` | 50 req/min | 100 |
| `/predict` | 100 req/min | 200 |
| `/sync` | 10 req/min | 20 |

## Next steps

<CardGroup cols={2}>
  <Card
    title="Golden Thread"
    icon="link"
    href="/architecture/golden-thread"
  >
    Understand data fusion logic
  </Card>
  <Card
    title="Voice processing"
    icon="microphone"
    href="/api-reference/voice-processing"
  >
    Detailed voice API documentation
  </Card>
  <Card
    title="Governance"
    icon="shield-check"
    href="/governance/overview"
  >
    Configure compliance enforcement
  </Card>
  <Card
    title="Deployment"
    icon="rocket"
    href="/deployment/overview"
  >
    Deploy Bio-Interface API
  </Card>
</CardGroup>
