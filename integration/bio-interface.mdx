---
title: Bio-Interface REST API
description: Mobile health app integration with Golden Thread data fusion
---

## Overview

The Bio-Interface REST API enables mobile health applications to integrate with iLuminara-Core using the **Golden Thread protocol** for data fusion. All data flows through the SovereignGuardrail to ensure compliance with 29 global legal frameworks.

<Card
  title="Philosophy"
  icon="mobile"
>
  "Zero-friction data collection with sovereign dignity"
</Card>

## Architecture

```
┌─────────────────────────────────────────────────────────┐
│              MOBILE HEALTH APPS                         │
│  ┌──────────────┐  ┌──────────────┐  ┌──────────────┐ │
│  │   CHV App    │  │  Patient App │  │  Clinic App  │ │
│  │  (Flutter)   │  │   (React)    │  │   (Vue.js)   │ │
│  └──────────────┘  └──────────────┘  └──────────────┘ │
└─────────────────────────────────────────────────────────┘
                        │
                        │ HTTPS/TLS 1.3
                        ▼
┌─────────────────────────────────────────────────────────┐
│              BIO-INTERFACE REST API                     │
│  ┌──────────────────────────────────────────────────┐  │
│  │  POST /api/v1/cbs/report                         │  │
│  │  POST /api/v1/emr/record                         │  │
│  │  POST /api/v1/voice/process                      │  │
│  │  GET  /api/v1/patient/{id}/timeline              │  │
│  └──────────────────────────────────────────────────┘  │
└─────────────────────────────────────────────────────────┘
                        │
                        │ Validation
                        ▼
┌─────────────────────────────────────────────────────────┐
│              SOVEREIGN GUARDRAIL                        │
│  - Consent validation                                  │
│  - Data sovereignty check                              │
│  - Compliance enforcement                              │
└─────────────────────────────────────────────────────────┘
                        │
                        │ Approved
                        ▼
┌─────────────────────────────────────────────────────────┐
│              GOLDEN THREAD FUSION                       │
│  - Merge CBS + EMR + IDSR                              │
│  - Calculate verification score                        │
│  - Generate verified timeline                          │
└─────────────────────────────────────────────────────────┘
```

## API endpoints

### 1. Submit CBS report (Community-Based Surveillance)

Community Health Volunteers submit symptom reports from the field.

**Endpoint:** `POST /api/v1/cbs/report`

**Request:**

```json
{
  "chv_id": "CHV_AMINA_HASSAN",
  "patient_id": "PAT_001",
  "location": {
    "lat": 0.0512,
    "lng": 40.3129,
    "name": "Dadaab Refugee Camp"
  },
  "symptoms": ["fever", "diarrhea", "vomiting"],
  "severity": 8,
  "timestamp": "2025-12-23T10:30:00Z",
  "consent_token": "CONSENT_PAT_001_20251223",
  "notes": "Patient reports 3 days of symptoms"
}
```

**Response:**

```json
{
  "status": "success",
  "cbs_report_id": "CBS_20251223_001",
  "verification_status": "PENDING_EMR_CONFIRMATION",
  "golden_thread_id": "GT_PAT_001_20251223",
  "compliance": {
    "frameworks_validated": ["KDPA", "GDPR", "HIPAA"],
    "sovereignty_status": "COMPLIANT",
    "consent_validated": true
  },
  "next_steps": [
    "EMR confirmation required for verification",
    "Alert triggered for district health officer"
  ]
}
```

### 2. Submit EMR record (Electronic Medical Record)

Clinics submit confirmed diagnoses and treatment records.

**Endpoint:** `POST /api/v1/emr/record`

**Request:**

```json
{
  "clinic_id": "DADAAB_CLINIC_01",
  "patient_id": "PAT_001",
  "location": {
    "lat": 0.0512,
    "lng": 40.3129,
    "name": "Dadaab Refugee Camp"
  },
  "diagnosis": "cholera",
  "icd_code": "A00.9",
  "treatment": "ORS + Doxycycline",
  "lab_confirmed": true,
  "timestamp": "2025-12-23T11:00:00Z",
  "consent_token": "CONSENT_PAT_001_20251223",
  "clinical_notes": "Severe dehydration, stool culture positive"
}
```

**Response:**

```json
{
  "status": "success",
  "emr_record_id": "EMR_20251223_001",
  "verification_status": "CONFIRMED",
  "golden_thread_id": "GT_PAT_001_20251223",
  "verification_score": 1.0,
  "fusion_result": {
    "cbs_report_matched": true,
    "time_delta_minutes": 30,
    "location_match": true,
    "symptom_diagnosis_correlation": 0.95
  },
  "compliance": {
    "frameworks_validated": ["KDPA", "GDPR", "HIPAA", "WHO_IHR"],
    "sovereignty_status": "COMPLIANT",
    "audit_logged": true
  },
  "alerts_triggered": [
    "Cholera outbreak alert sent to district health officer",
    "WHO IHR notification initiated"
  ]
}
```

### 3. Process voice alert

Process voice recordings from CHVs in the field.

**Endpoint:** `POST /api/v1/voice/process`

**Request:**

```bash
curl -X POST https://api.iluminara.health/v1/voice/process \
  -H "Content-Type: audio/wav" \
  -H "Authorization: Bearer ${API_KEY}" \
  -H "X-CHV-ID: CHV_AMINA_HASSAN" \
  -H "X-Location-Lat: 0.0512" \
  -H "X-Location-Lng: 40.3129" \
  --data-binary @voice_alert.wav
```

**Response:**

```json
{
  "status": "success",
  "transcription": "Patient reporting severe watery diarrhea and vomiting for 3 days",
  "language_detected": "swahili",
  "symptoms_extracted": ["diarrhea", "vomiting", "dehydration"],
  "severity": 9,
  "alert_level": "CRITICAL",
  "cbs_report_id": "CBS_20251223_002",
  "recommendations": [
    "IMMEDIATE: Suspected cholera. Start ORS immediately.",
    "Isolate patient to prevent spread",
    "Notify district health officer"
  ],
  "compliance": {
    "frameworks_validated": ["KDPA", "GDPR"],
    "sovereignty_status": "COMPLIANT",
    "data_processed_at_edge": true
  }
}
```

### 4. Get patient timeline

Retrieve verified timeline for a patient (Golden Thread).

**Endpoint:** `GET /api/v1/patient/{patient_id}/timeline`

**Request:**

```bash
curl -X GET https://api.iluminara.health/v1/patient/PAT_001/timeline \
  -H "Authorization: Bearer ${API_KEY}" \
  -H "X-Consent-Token: CONSENT_PAT_001_20251223"
```

**Response:**

```json
{
  "status": "success",
  "patient_id": "PAT_001",
  "timeline": [
    {
      "timestamp": "2025-12-23T10:30:00Z",
      "source": "CBS",
      "event_type": "symptom_report",
      "data": {
        "symptoms": ["fever", "diarrhea", "vomiting"],
        "severity": 8,
        "chv_id": "CHV_AMINA_HASSAN"
      },
      "verification_score": 0.5,
      "status": "PENDING_CONFIRMATION"
    },
    {
      "timestamp": "2025-12-23T11:00:00Z",
      "source": "EMR",
      "event_type": "diagnosis",
      "data": {
        "diagnosis": "cholera",
        "icd_code": "A00.9",
        "lab_confirmed": true,
        "clinic_id": "DADAAB_CLINIC_01"
      },
      "verification_score": 1.0,
      "status": "CONFIRMED"
    },
    {
      "timestamp": "2025-12-23T11:15:00Z",
      "source": "IDSR",
      "event_type": "government_notification",
      "data": {
        "reported_to": "Kenya Ministry of Health",
        "case_classification": "confirmed_cholera",
        "outbreak_status": "under_investigation"
      },
      "verification_score": 1.0,
      "status": "CONFIRMED"
    }
  ],
  "golden_thread_summary": {
    "total_events": 3,
    "verified_events": 2,
    "overall_verification_score": 0.83,
    "data_sources": ["CBS", "EMR", "IDSR"],
    "timeline_status": "VERIFIED"
  },
  "compliance": {
    "consent_validated": true,
    "data_minimization": true,
    "retention_policy": "HOT (180 days)"
  }
}
```

## Golden Thread verification logic

The Bio-Interface automatically fuses data from multiple sources:

```python
# repository-files/api/bio_interface.py

from flask import Flask, request, jsonify
from edge_node.sync_protocol.golden_thread import GoldenThread
from governance_kernel.vector_ledger import SovereignGuardrail

app = Flask(__name__)
gt = GoldenThread()
guardrail = SovereignGuardrail()

@app.route('/api/v1/cbs/report', methods=['POST'])
def submit_cbs_report():
    """Submit Community-Based Surveillance report"""
    data = request.json
    
    # Validate consent
    guardrail.validate_action(
        action_type='Consent_Validation',
        payload={
            'consent_token': data['consent_token'],
            'consent_scope': 'public_health_surveillance',
            'data_type': 'PHI'
        },
        jurisdiction='KDPA_KE'
    )
    
    # Create CBS signal
    cbs_signal = {
        'location': data['location']['name'],
        'symptom': data['symptoms'][0],  # Primary symptom
        'timestamp': data['timestamp'],
        'source': f"CHV_{data['chv_id']}"
    }
    
    # Attempt fusion (may not have EMR yet)
    fused = gt.fuse_data_streams(
        cbs_signal=cbs_signal,
        patient_id=data['patient_id']
    )
    
    return jsonify({
        'status': 'success',
        'cbs_report_id': f"CBS_{data['timestamp'][:10].replace('-', '')}_{data['patient_id']}",
        'verification_status': 'PENDING_EMR_CONFIRMATION',
        'golden_thread_id': fused.golden_thread_id,
        'compliance': {
            'frameworks_validated': ['KDPA', 'GDPR', 'HIPAA'],
            'sovereignty_status': 'COMPLIANT',
            'consent_validated': True
        }
    })

@app.route('/api/v1/emr/record', methods=['POST'])
def submit_emr_record():
    """Submit Electronic Medical Record"""
    data = request.json
    
    # Validate consent
    guardrail.validate_action(
        action_type='Consent_Validation',
        payload={
            'consent_token': data['consent_token'],
            'consent_scope': 'diagnosis_treatment',
            'data_type': 'PHI'
        },
        jurisdiction='KDPA_KE'
    )
    
    # Create EMR record
    emr_record = {
        'location': data['location']['name'],
        'diagnosis': data['diagnosis'],
        'timestamp': data['timestamp'],
        'source': f"CLINIC_{data['clinic_id']}"
    }
    
    # Fuse with existing CBS signal
    fused = gt.fuse_data_streams(
        emr_record=emr_record,
        patient_id=data['patient_id']
    )
    
    # Check if CBS signal exists and matches
    verification_score = fused.verification_score
    
    return jsonify({
        'status': 'success',
        'emr_record_id': f"EMR_{data['timestamp'][:10].replace('-', '')}_{data['patient_id']}",
        'verification_status': 'CONFIRMED' if verification_score >= 0.8 else 'UNVERIFIED',
        'golden_thread_id': fused.golden_thread_id,
        'verification_score': verification_score,
        'compliance': {
            'frameworks_validated': ['KDPA', 'GDPR', 'HIPAA', 'WHO_IHR'],
            'sovereignty_status': 'COMPLIANT',
            'audit_logged': True
        }
    })
```

## Mobile app integration

### Flutter example (CHV app)

```dart
import 'package:http/http.dart' as http;
import 'dart:convert';

class ILuminaraAPI {
  final String baseUrl = 'https://api.iluminara.health/v1';
  final String apiKey;
  
  ILuminaraAPI(this.apiKey);
  
  Future<Map<String, dynamic>> submitCBSReport({
    required String chvId,
    required String patientId,
    required Map<String, double> location,
    required List<String> symptoms,
    required int severity,
    required String consentToken,
  }) async {
    final response = await http.post(
      Uri.parse('$baseUrl/cbs/report'),
      headers: {
        'Content-Type': 'application/json',
        'Authorization': 'Bearer $apiKey',
      },
      body: jsonEncode({
        'chv_id': chvId,
        'patient_id': patientId,
        'location': {
          'lat': location['lat'],
          'lng': location['lng'],
          'name': location['name'],
        },
        'symptoms': symptoms,
        'severity': severity,
        'timestamp': DateTime.now().toIso8601String(),
        'consent_token': consentToken,
      }),
    );
    
    if (response.statusCode == 200) {
      return jsonDecode(response.body);
    } else {
      throw Exception('Failed to submit CBS report');
    }
  }
}

// Usage
final api = ILuminaraAPI('your_api_key');

final result = await api.submitCBSReport(
  chvId: 'CHV_AMINA_HASSAN',
  patientId: 'PAT_001',
  location: {'lat': 0.0512, 'lng': 40.3129, 'name': 'Dadaab'},
  symptoms: ['fever', 'diarrhea', 'vomiting'],
  severity: 8,
  consentToken: 'CONSENT_PAT_001_20251223',
);

print('CBS Report ID: ${result['cbs_report_id']}');
print('Verification Status: ${result['verification_status']}');
```

## Authentication

The Bio-Interface uses JWT tokens for authentication:

```bash
# Get access token
curl -X POST https://api.iluminara.health/v1/auth/token \
  -H "Content-Type: application/json" \
  -d '{
    "client_id": "your_client_id",
    "client_secret": "your_client_secret",
    "grant_type": "client_credentials"
  }'

# Response
{
  "access_token": "eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCJ9...",
  "token_type": "Bearer",
  "expires_in": 3600
}

# Use token in requests
curl -X POST https://api.iluminara.health/v1/cbs/report \
  -H "Authorization: Bearer eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCJ9..." \
  -H "Content-Type: application/json" \
  -d @cbs_report.json
```

## Rate limiting

| Endpoint | Rate Limit | Burst |
|----------|-----------|-------|
| `/cbs/report` | 100 req/min | 20 |
| `/emr/record` | 100 req/min | 20 |
| `/voice/process` | 10 req/min | 5 |
| `/patient/*/timeline` | 200 req/min | 50 |

## Error handling

```json
{
  "status": "error",
  "error_code": "SOVEREIGNTY_VIOLATION",
  "message": "Cross-border data transfer blocked",
  "details": {
    "framework": "KDPA §37",
    "violation": "Attempted to transfer PHI from Kenya to USA without authorization",
    "action_required": "Obtain Data Protection Commissioner approval"
  },
  "timestamp": "2025-12-23T12:00:00Z"
}
```

## Next steps

<CardGroup cols={2}>
  <Card
    title="Vertex AI + SHAP"
    icon="brain"
    href="/integration/vertex-ai-shap"
  >
    AI explainability integration
  </Card>
  <Card
    title="Golden Thread"
    icon="link"
    href="/architecture/golden-thread"
  >
    Data fusion engine
  </Card>
  <Card
    title="API reference"
    icon="terminal"
    href="/api-reference/overview"
  >
    Complete API documentation
  </Card>
  <Card
    title="Deployment"
    icon="rocket"
    href="/deployment/overview"
  >
    Deploy to production
  </Card>
</CardGroup>
