---
title: Bio-Interface REST API
description: Mobile health app integration with Golden Thread protocol
---

## Overview

The Bio-Interface REST API enables mobile health applications to integrate with iLuminara-Core using the Golden Thread protocol for data fusion and verification.

<Card
  title="Use case"
  icon="mobile"
>
  Community Health Volunteers use mobile apps to report symptoms, which are automatically fused with EMR and IDSR data streams for verified outbreak detection.
</Card>

## Architecture

```
┌─────────────────────────────────────────────────────────────┐
│                  MOBILE HEALTH APP                          │
│  - CHV Data Collection                                      │
│  - Voice Recording                                          │
│  - GPS Location                                             │
│  - Offline Queue                                            │
└─────────────────────────────────────────────────────────────┘
                            │
                            │ HTTPS/REST
                            ▼
┌─────────────────────────────────────────────────────────────┐
│                  BIO-INTERFACE API                          │
│  - Authentication (JWT)                                     │
│  - Rate Limiting                                            │
│  - Data Validation                                          │
│  - Sovereignty Check                                        │
└─────────────────────────────────────────────────────────────┘
                            │
                            ▼
┌─────────────────────────────────────────────────────────────┐
│                  GOLDEN THREAD                              │
│  - CBS Signal Creation                                      │
│  - EMR Fusion                                               │
│  - IDSR Integration                                         │
│  - Verification Score                                       │
└─────────────────────────────────────────────────────────────┘
```

## API endpoints

### POST /api/v1/cbs/report

Submit Community-Based Surveillance report.

**Request:**

```json
{
  "reporter": {
    "chv_id": "CHV_AMINA_001",
    "name": "Amina Hassan",
    "phone": "+254712345678",
    "location": {
      "lat": 0.0512,
      "lng": 40.3129,
      "accuracy_meters": 10
    }
  },
  "patient": {
    "age": 35,
    "gender": "F",
    "symptoms": ["diarrhea", "vomiting", "dehydration"],
    "severity": 9,
    "onset_date": "2025-01-15T08:00:00Z"
  },
  "context": {
    "water_source": "borehole",
    "recent_travel": false,
    "household_cases": 2
  },
  "timestamp": "2025-01-15T10:30:00Z"
}
```

**Response:**

```json
{
  "status": "success",
  "cbs_signal_id": "CBS_20250115_001",
  "verification_status": "PENDING_EMR_FUSION",
  "alert_level": "CRITICAL",
  "recommendations": [
    "IMMEDIATE: Suspected cholera. Start ORS immediately.",
    "Isolate patient to prevent spread",
    "Notify district health officer"
  ],
  "golden_thread": {
    "verification_score": 0.3,
    "status": "UNVERIFIED",
    "reason": "Awaiting EMR confirmation"
  }
}
```

### POST /api/v1/voice/process

Process voice alert from CHV.

**Request:**

```bash
curl -X POST https://api.iluminara.health/api/v1/voice/process \
  -H "Authorization: Bearer $JWT_TOKEN" \
  -H "Content-Type: audio/wav" \
  -F "audio=@swahili-symptom.wav" \
  -F "language=swahili" \
  -F "lat=0.0512" \
  -F "lng=40.3129"
```

**Response:**

```json
{
  "status": "success",
  "transcription": "Patient reporting severe watery diarrhea and vomiting",
  "language_detected": "swahili",
  "symptoms": ["diarrhea", "vomiting", "dehydration"],
  "severity": 9,
  "location": {
    "lat": 0.0512,
    "lng": 40.3129
  },
  "cbs_signal_id": "CBS_20250115_002",
  "alert_level": "CRITICAL"
}
```

### GET /api/v1/golden-thread/verify/{patient_id}

Check verification status of patient record.

**Response:**

```json
{
  "patient_id": "PAT_12345",
  "verification_score": 1.0,
  "status": "CONFIRMED",
  "data_sources": {
    "cbs": {
      "timestamp": "2025-01-15T10:30:00Z",
      "location": "Dadaab",
      "symptom": "diarrhea",
      "reporter": "CHV_AMINA_001"
    },
    "emr": {
      "timestamp": "2025-01-15T11:00:00Z",
      "location": "Dadaab Clinic",
      "diagnosis": "cholera",
      "provider": "Dr. Mohamed Ali"
    },
    "idsr": {
      "timestamp": "2025-01-15T12:00:00Z",
      "case_id": "IDSR_KE_001",
      "reported_to": "Ministry of Health Kenya"
    }
  },
  "fusion_logic": {
    "location_match": true,
    "time_delta_hours": 0.5,
    "symptom_diagnosis_match": true
  }
}
```

### POST /api/v1/outbreak/predict

Predict outbreak risk based on current signals.

**Request:**

```json
{
  "location": {
    "lat": 0.0512,
    "lng": 40.3129,
    "radius_km": 10
  },
  "symptoms": ["diarrhea", "vomiting"],
  "time_window_hours": 72
}
```

**Response:**

```json
{
  "risk_level": "HIGH",
  "z_score": 8.5,
  "predicted_cases": {
    "24h": 45,
    "48h": 78,
    "72h": 127
  },
  "confidence": 0.92,
  "explanation": {
    "shap_values": {
      "temperature": 0.35,
      "rainfall": 0.28,
      "population_density": 0.18
    },
    "decision_rationale": "High-risk outbreak predicted due to elevated temperature and recent rainfall"
  },
  "recommendations": [
    "Activate emergency response protocol",
    "Deploy mobile health teams",
    "Initiate water quality testing"
  ]
}
```

## Authentication

### JWT token authentication

```python
import requests
import jwt
from datetime import datetime, timedelta

# Generate JWT token
payload = {
    "chv_id": "CHV_AMINA_001",
    "role": "community_health_volunteer",
    "jurisdiction": "KDPA_KE",
    "exp": datetime.utcnow() + timedelta(hours=24)
}

token = jwt.encode(payload, "your-secret-key", algorithm="HS256")

# Use token in requests
headers = {
    "Authorization": f"Bearer {token}",
    "Content-Type": "application/json"
}

response = requests.post(
    "https://api.iluminara.health/api/v1/cbs/report",
    headers=headers,
    json=report_data
)
```

## Mobile SDK

### Flutter SDK

```dart
import 'package:iluminara_sdk/iluminara_sdk.dart';

// Initialize SDK
final sdk = ILuminaraSDK(
  apiKey: 'your-api-key',
  baseUrl: 'https://api.iluminara.health',
  jurisdiction: 'KDPA_KE'
);

// Submit CBS report
final report = CBSReport(
  reporter: Reporter(
    chvId: 'CHV_AMINA_001',
    name: 'Amina Hassan',
    location: Location(lat: 0.0512, lng: 40.3129)
  ),
  patient: Patient(
    age: 35,
    gender: Gender.female,
    symptoms: [Symptom.diarrhea, Symptom.vomiting],
    severity: 9
  )
);

final result = await sdk.submitCBSReport(report);

if (result.status == 'success') {
  print('CBS Signal ID: ${result.cbsSignalId}');
  print('Alert Level: ${result.alertLevel}');
}
```

### React Native SDK

```javascript
import { ILuminaraSDK } from '@iluminara/react-native-sdk';

// Initialize SDK
const sdk = new ILuminaraSDK({
  apiKey: 'your-api-key',
  baseUrl: 'https://api.iluminara.health',
  jurisdiction: 'KDPA_KE'
});

// Submit CBS report
const report = {
  reporter: {
    chv_id: 'CHV_AMINA_001',
    name: 'Amina Hassan',
    location: { lat: 0.0512, lng: 40.3129 }
  },
  patient: {
    age: 35,
    gender: 'F',
    symptoms: ['diarrhea', 'vomiting'],
    severity: 9
  }
};

const result = await sdk.submitCBSReport(report);
console.log('CBS Signal ID:', result.cbsSignalId);
```

## Offline support

### Queue management

```dart
// Enable offline queue
sdk.enableOfflineQueue(maxQueueSize: 1000);

// Submit report (queued if offline)
await sdk.submitCBSReport(report);

// Check queue status
final queueStatus = await sdk.getQueueStatus();
print('Pending reports: ${queueStatus.pendingCount}');

// Sync when online
await sdk.syncQueue();
```

## Data sovereignty

All API requests enforce sovereignty constraints:

```python
from governance_kernel.vector_ledger import SovereignGuardrail

guardrail = SovereignGuardrail()

# Validate API request
guardrail.validate_action(
    action_type='Data_Processing',
    payload={
        'data_type': 'PHI',
        'processing_location': 'Edge_Node',
        'consent_token': request.headers.get('X-Consent-Token'),
        'jurisdiction': 'KDPA_KE'
    },
    jurisdiction='KDPA_KE'
)
```

## Rate limiting

- **CHV users**: 100 requests/hour
- **Health facilities**: 1000 requests/hour
- **Government systems**: Unlimited

## Webhooks

Subscribe to real-time alerts:

```json
{
  "webhook_url": "https://your-app.com/webhooks/iluminara",
  "events": [
    "outbreak_alert",
    "verification_complete",
    "high_risk_prediction"
  ],
  "secret": "your-webhook-secret"
}
```

**Webhook payload:**

```json
{
  "event": "outbreak_alert",
  "timestamp": "2025-01-15T12:00:00Z",
  "data": {
    "location": "Dadaab",
    "disease": "cholera",
    "risk_level": "HIGH",
    "predicted_cases": 127,
    "action_required": "ACTIVATE_EMERGENCY_RESPONSE"
  },
  "signature": "sha256=..."
}
```

## Next steps

<CardGroup cols={2}>
  <Card
    title="Vertex AI + SHAP"
    icon="brain"
    href="/integration/vertex-ai-shap"
  >
    Explainable AI integration
  </Card>
  <Card
    title="Golden Thread"
    icon="link"
    href="/architecture/golden-thread"
  >
    Data fusion protocol
  </Card>
  <Card
    title="Voice processing"
    icon="microphone"
    href="/api-reference/voice-processing"
  >
    Voice alert API
  </Card>
  <Card
    title="Governance"
    icon="shield-check"
    href="/governance/overview"
  >
    Compliance enforcement
  </Card>
</CardGroup>
